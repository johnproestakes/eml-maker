angular.module('EMLMaker')
    .config(["$routeProvider", function ($routeProvider) {
        $routeProvider.when('/main', {
            template: "<div class=\"ui form\">\n      <div align=\"right\">\n      <div class=\"ui right pointing dropdown\" ui-dropdown>\n        <button class=\"ui icon button\"><i class=\"unordered list icon\"></i> <i class=\"dropdown icon\"></i></button>\n        <div class=\"menu\">\n          <div class=\"item\" ng-if=\"isHeaderSelected(key)\" ng-click=\"addNewHeaderField(key)\" ng-repeat=\"(key, value) in allowableHeaderFields\">{{allowableHeaderFields[key].label}}</div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"field\"ng-repeat=\"(k, v) in headerData\" >\n        <label>{{allowableHeaderFields[k].label}}</label>\n        <input type=\"text\" ng-model=\"headerData[k]\">\n        </div>\n\n      <div class=\"field\">\n        <label>HTML Source Code</label>\n        <textarea ng-model=\"sourceCode\"></textarea>\n        <file-dropper ondrop=\"importHtmlFromFileDrop()\" label=\"Drop file here to import html\"></file-dropper>\n        </div>\n\n      <button class=\"ui primary button\" ng-click=\"processHtml()\">Continue</button>\n      <button class=\"ui right button\" ng-click=\"blankSlate()\">Clear</button>\n      </div>"
        }).when('/links', {
            template: "<h1>{{linkData.length>0 ? \"Change the links\" : \"Did not find links\"}}</h1>\n    <p ng-if=\"linkData.length>0\">This section will find and replace the urls.</p>\n    <p ng-if=\"linkData.length==0\">THERE WERE NO LINKS FOUND.</p>\n\n    <div class=\"ui form\">\n      <div ng-repeat=\"item in linkData\" class=\"field\">\n        <h4 class=\"ui horizontal divider header\">Link {{$index+1}}</h4>\n        <div class=\"ui blue message\"><div class=\"old-url\"><strong>URL:</strong> <div class=\"url\">{{item.old}}</div></div></div>\n        <div class=\"ui message context\">\n          <div ><span class=\"line\">{{item.line}}:</span> <div class=\"code prettyprint lang-js\">{{displayFriendlyHtml(item.context)}}</div></div>\n        </div>\n        <label>New URL</label>\n        <input type=\"text\" ng-model=\"item.new\"/>\n\n\n      </div>\n\n      <button class=\"ui primary button\" ng-click=\"updateLinksAndExport()\">Update links and export</button>\n\n\n    </div>"
        }).when('/export', {
            template: "<h1>Review and export<h1>\n    <div class=\"ui form\">\n    <div class=\"field\"ng-repeat=\"(k, v) in headerData\" >\n      <label>{{allowableHeaderFields[k].label}}</label>\n      <input type=\"text\" ng-change=\"changeHeaderInputFields()\" ng-model=\"headerData[k]\">\n      </div>\n    <div class=\"field\">\n      <label>EML Headers</label>\n      <textarea ng-model=\"emlHeaders\"></textarea>\n      </div>\n\n    <div class=\"field\">\n      <label>HTML Code</label>\n      <textarea ng-model=\"outputCode\"></textarea>\n      </div>\n\n      <button class=\"ui primary button\" ng-click=\"downloadEml()\">Export</button>\n      <button class=\"ui button\" ng-click=\"setCurrentView(0)\">New EML</button>\n\n    </div>"
        }).otherwise({ redirectTo: "/main" });
    }]);
