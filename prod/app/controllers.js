angular.module("EMLMaker").controller("MainController",["$scope","saveAs","$routeParams",function(o,n,e){o.UpdateModule=new window.UpdateModule,o.sessionUserEmail="",o.versionNumber=window.CURRENT_VERSION,o.navigateTo=function(o){var n={main:0,links:1,"export":2,"export-html":2,"export-eml":2},e=location.hash.substr(2,location.hash.length);e&&n[o]<=n[e]&&(location.href="#/"+o)},o.blankSlate=function(){o.workspace=new EMLModule.EMLWorkspace("",o)},o.blankSlate(),o.SecureGateway=new SecureGateway(function(){o.blankSlate()}),o.showNavBar=function(){return"#/login"!=location.hash},o.createNewEML=function(){o.blankSlate(),"#/main"==location.hash?"reload"in location?location.reload():document.location.href=location.href.split("#").shift():location.href="#/main"},o.scrollTo=function(n){o.isScrolling=1,jQuery("html,body").animate({scrollTop:jQuery("#link-"+(parseInt(n)+1)).offset().top-75},300),setTimeout(function(){o.$apply(function(){o.activeLinkId=parseInt(n)+1,o.isScrolling=-1})},400)}}]);