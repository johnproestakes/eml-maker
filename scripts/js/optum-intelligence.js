function __PreviewTextEvalFuncs(){}function __CustomPhoneNumberQA(){this.storedValues="eyJldmVudHNAb3B0dW0uY29tIjoiODAwLjc2NS42NzU5IiwiaW5mb0BvcHR1bS5jb20iOiI4NjYuMzg2LjM0MDQiLCJ2aWV3cG9pbnRzQG9wdHVtLmNvbSI6IjgwMC43NjUuNjcwNSIsImlxQG9wdHVtLmNvbSI6IjgwMC43NjUuNjcwNSIsImVtcG93ZXJAb3B0dW0uY29tIjoiODAwLjc2NS42ODA3Iiwib3B0dW0zNjBAb3B0dW0uY29tIjoiODY2LjIyMy40NzMwIiwiaW5mb3JtQG9wdHVtLmNvbSI6IjgwMC43NjUuNjc5MyIsImRpc2NvdmVyQG9wdHVtLmNvbSI6IjgwMC43NjUuNjYxOSIsImNvbm5lY3RlZEBvcHR1bS5jb20iOiI4NjYuMzA2LjEzMjEiLCJpbm5vdmF0ZUBvcHR1bS5jb20iOiI4MDAuNzY1LjYwOTIiLCJlbmdhZ2VAb3B0dW0uY29tIjoiODY2LjM4Ni4zNDA5IiwiaW5nZW51aXR5QG9wdHVtLmNvbSI6Ijg2Ni40MjcuNjgwNCIsImdsb2JhbEBvcHR1bS5jb20iOiI4NjYuMzIyLjA5NTgiLCJvcHR1bXJ4QG9wdHVtLmNvbSI6Ijg2Ni4zODYuMzQwNCJ9",this.data=JSON.parse(window[["a","t","o","b"].join("")](this.storedValues))}__PreviewTextEvalFuncs.prototype.lowerToCapitalsRatio=function(e){var t=e.length-e.replace(/[A-Z]/g,"").length,i=e.length-e.replace(/[a-z]/g,"").length;return t/(i+t)},__PreviewTextEvalFuncs.prototype.evaluateParagraphText=function(e){return!(e.indexOf("web version")>-1)&&(""!=e&&(!(e.length<70)&&(e!==e.toUpperCase()&&(this.lowerToCapitalsRatio(e)<=.1||void 0))))};var PreviewTextEvalFuncs=new __PreviewTextEvalFuncs;EMLMaker.intelligence.module("email").register("email-has-preheader",["EMLWorkspace",function(e){function t(e){var t,i="",n=/\<p([^\>]|\s|.*)\>([^<].*)?\<\/p\>/gi,r=[];do t=n.exec(e),t&&r.push(t[0]);while(t);for(var o=0;o<r.length;o++){var a=document.createElement("div");a.innerHTML=r[o];var s=a.textContent||a.innerText||"";if(PreviewTextEvalFuncs.evaluateParagraphText(s)){i=s;break}}return i.split(".").shift()+"."}var i=!0,n={title:"",msg:"",type:ErrorType.BestPractice,severity:ErrorSeverity.Low,canContinue:!0,cta:{},suggestion:""},r=e.generateOutputCode("email",!0),o=/\<p.*class=\"preheader\"[^\>].*\>([^<].*)?\<\/p\>/gi,a=/\<p([^\>].*)class=\"preheader\"([^\>].*)\>/gi;if(a.test(r)){var s=r.match(o);if(s){var l=window.jQuery(s[0]),c=l.text();if(0==c.length){n.title="Preview text - Code incomplete",n.type=ErrorType.Fix,n.severity=ErrorSeverity.High,n.msg="Code is present but there is no text set. Consider adding some, or removing the preview text code block from the HTML if you plan on using the preview text feature in Eloqua.";var u=t(r);""!==u&&(n.suggestion=u,n.cta={label:"Fix now",handler:function(){e.workingCode=e.workingCode.replace(o,function(e){return e.replace("</p>",u+"</p>")}),e.intelligence.evaluateRules()}})}else n.title="Preview text - Found",n.msg="<em>Found:</em> "+l.text()}else{n.title="Preview text - Code might be broken",n.msg="Preview text looks like it might be broken.",n.type=ErrorType.Fix,n.severity=ErrorSeverity.High,n.canContinue=!1;var d=t(r);""!==d&&(n.msg=n.msg+"Consider fixing the code and updating this preview text to some content from the email.",n.suggestion=d,n.cta={label:"Fix now",handler:function(){e.workingCode=e.workingCode.replace(a,function(e){return e+d+"</p>"}),e.intelligence.evaluateRules()}})}i=!1}return{id:"email-has-preheader",title:n.title,description:n.msg,type:n.type,severity:n.severity,suggestion:n.suggestion,canContinue:n.canContinue,cta:n.cta?n.cta:{},when:function(){return!i}}}]);var CustomPhoneNumberQA=new __CustomPhoneNumberQA;EMLMaker.intelligence.module("email").register("email-qa-telelphone-numbers",["EMLWorkspace","IntelligenceMonitor",function(e,t){var i=e.generateOutputCode("email",!0),n=[],r=[],o=[];if(GlobalVars.EmailRegex.test(i)){var a;do a=GlobalVars.EmailRegexGlobal.exec(i),a&&n.indexOf(a[0])==-1&&n.push(a[0]);while(a);for(var s=0;s<n.length;s++)CustomPhoneNumberQA.data[n[s]]&&r.push(n[s]+' <i class="ui long right arrow icon"></i> '+CustomPhoneNumberQA.data[n[s]])}var o=[];if(GlobalVars.TelephoneRegex.test(i)){var a;do a=GlobalVars.TelephoneRegexGlobal.exec(i),a&&o.push(a[0]);while(a)}return{id:"confrim-telephone-numbers",title:"Confirm correct contact information - Telephone Number"+(o.length>1?"s":""),description:"<em>Found:</em> "+o.join(", "),type:ErrorType.QA,severity:ErrorSeverity.Medium,canContinue:!1,suggestion:0==r.length?"":r.join("<br>"),cta:{label:"",handler:function(){t.overridden.push("confrim-telephone-numbers"),e.intelligence.evaluateRules()}},when:function(){return o.length>0}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-budurl-correct-type",["LinkObject",function(e){return{id:"optum-hyperlink-budurl-correct-type",title:"Tracking code - Review Marketing Channel",description:"Make sure the BudURL that you created uses the correct marketing channel. For emails, it should be <strong>Email (eml)</strong>.",type:ErrorType.Fix,severity:ErrorSeverity.High,canContinue:!1,when:function(){return e.hasTrackingCode()&&!/\?(o|oiex)\=[a-z]{3,}\:eml/i.test(e["new"].url)}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-click-here-ctas",["LinkObject",function(e){return{title:'"Click here" is a bad practice.',description:'"Click here" links aren\'t really descriptive\n    enough to be effective CTAs. Additionally, click implies that users\n    are using a mouse, which is more than half the time not the case when\n    you consider mobile devices and others reading for accessibility.',type:ErrorType.Warn,severity:ErrorSeverity.Low,resource:"https://www.campaignmonitor.com/blog/email-marketing/2016/03/75-call-to-actions-to-use-in-email-marketing-campaigns/",canContinue:!0,when:function(){return e.context&&/click|click\shere/gi.test(e.context)}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-click-here-ctas",["LinkObject",function(e){var t=/\%|act|app|be\s|benefit|best|bird|book|brief|buy|change|claim|collection|coming|complete|connected|count|coupon|curious|deal|delay|don(\'|â€™)t|donate|download|e\-book|early|ebook|fall|favorites|feedback|find|follow|free|full|get|gift|give|hear|how|insight|keep|know|learn|leave|let|like|make|more|next|now|order|pay|prices|purchase|read|register|repeat|reserve|result|reveal|review|save|saving|season|seat|see|shop|sign|spot|spread|start|stay|survey|take|tickets|today|trial|upgrade|video|vip|want|watch|webinar|white\spaper/i,i=window.jQuery(e.context),n=t.test(i.text())&&i.text().length>45;return{title:"CTA might be too long.",description:"Instead, keep your calls to action short and sweet.\n    Readers prefer quick, direct action items, not lengthy sentences.",type:ErrorType.Warn,severity:ErrorSeverity.Low,resource:"https://www.campaignmonitor.com/blog/email-marketing/2016/03/75-call-to-actions-to-use-in-email-marketing-campaigns/",canContinue:!0,when:function(){return n}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-descriptive-ctas",["LinkObject",function(e){var t,i=/privacy|refund|protected|secure|certified|guaranteed|realistic|researched|proven|official|money-back|tested|lifetime|backed/i,n=/easy|simple|hassle\-free|help|complete|entire|total|thorough|pure|natural|plain|straightforward|uncomplicated|candid/i,r=/increase|create|share|discover|compare|take|show|tell|find|make|plan|learn|start|grow|subscribe/i,o=/select|private|confidential|insider|vip|secret|exclusive|members|elite|invitation|secret|reserved|only|choice/i,a=/now|immediately|today|limited|shortly|soon|rapid|quick|flash|hurry|alert|fast|instant|urgent/i,s=/new|introducing|latest|special|alert|gift|free|freebie|best|prize|win|save|ultimate|try/i,l=window.jQuery(e.context),c=l.text();!function(e){e[e.Security=0]="Security",e[e.Simplicity=1]="Simplicity",e[e.Engagement=2]="Engagement",e[e.Exclusive=3]="Exclusive",e[e.Urgency=4]="Urgency",e[e.Excitement=5]="Excitement"}(t||(t={}));var u=[0,0,0,0,0,0];i.test(c)&&(console.log("security"),u[t.Security]=1),n.test(c)&&(console.log("simplicity"),u[t.Simplicity]=1),r.test(c)&&(console.log("engagement"),u[t.Engagement]=1),o.test(c)&&(console.log("exclusive"),u[t.Exclusive]=1),a.test(c)&&(console.log("urgency"),u[t.Urgency]=1),s.test(c)&&(console.log("excitement"),u[t.Excitement]=1);var d=!1;return{title:"Consider the language of the CTA",description:u.toString(),type:ErrorType.Warn,severity:ErrorSeverity.Low,resource:"https://www.campaignmonitor.com/resources/guides/10-tips-improve-email-calls-action/",canContinue:!0,when:function(){return d}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-has-spaces",["LinkObject",function(e){return{title:"This link has spaces",description:"Stuff like this breaks. Fix it now.",type:ErrorType.Fix,severity:ErrorSeverity.High,canContinue:!1,cta:{label:"Remove spaces",handler:function(){e["new"].url=e["new"].url.replace(/\s/g,"%20"),e.isLinkComplete(),window.ga("send","event","Suggestion","Remove spaces")}},when:function(){return e["new"].contains(" ")}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-is-ics",["LinkObject","IntelligenceMonitor","EMLWorkspace",function(e,t,i){return{id:"confrim-calendar-file-is-correct",title:"Confirm correct details - Calendar file",description:"Confirm that date, time, location, timezone and description are correct.",type:ErrorType.QA,severity:ErrorSeverity.High,resource:e["new"].url,resourceText:"Open file",canContinue:!1,cta:{handler:function(){t.overridden.push("confrim-calendar-file-is-correct"),e.isLinkComplete(),i.intelligence.evaluateRules()}},when:function(){return/(\.ics|\.vcs)$/g.test(e["new"].url)}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-landing-page-preferred",["LinkObject",function(e){var t=GlobalVars.landingPagePreferred.test(e["new"].url);if(t){var i=e["new"].url.match(GlobalVars.landingPagePreferred);if(i.length>0)var n=i[0].toUpperCase().substr(1,i[0].length)}return{title:"Landing page preferred",description:["When you direct email ","traffic to ",/^[aeiouAEIOU]/gi.test(n)?"an ":"a ",n,", it's generally a good idea to serve the ",n," on"," a landing page with more information about the asset. This will also ","give you more analytics data, like session/visit duration and promote ","browsing other content."].join(""),type:ErrorType.BestPractice,severity:ErrorSeverity.High,canContinue:!0,when:function(){return t}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-no-shortlinks",["LinkObject",function(e){return{title:"Don't use shortlinks or vanity URLs in emails",description:"Always use the long link. Adding query string parameter to a vanity     url inside an email will not track appropriately.",type:e["new"].contains("optum.co")?ErrorType.Fix:ErrorType.BestPractice,severity:ErrorSeverity.High,canContinue:!e["new"].contains("optum.co"),when:function(){return/.com?(\.[a-z]{2,3})?\/([a-zA-Z0-9\-]+)\/*(\?.*)?$/.test(e["new"].url.trim())&&!e["new"].contains("info.optum")&&!/(twitter|linkedin|facebook|youtube)\.com?/.test(e["new"].url)}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-ofts-dont-use",["LinkObject",function(e){return{title:"We don't link to OFTs in emails we send.",description:"You should not be sending OFTs to external contacts.    OFTs only work with Outlook on PCs, and that is less     than half of the population of email clients these days.",type:ErrorType.BestPractice,severity:ErrorSeverity.High,canContinue:!0,when:function(){var t=e["new"].url.indexOf(".oft")>-1;return t}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-ofts-implement-ftac",["LinkObject",function(e){return{title:"Forward to a colleague?",description:"If you are trying to do a Forward to a Colleague (FTAC)   feature, forget doing that with an OFT. You can achieve    the same effect by using a mailto link. <br><br><em>NOTE:     You can leave the email address field blank for this one.      When the user clicks the link the email field will be empty,       so he/she can add their own recipients.</em>",type:ErrorType.Suggestion,severity:ErrorSeverity.Low,canContinue:!0,cta:{label:'<i class="wizard icon"></i> Try it?',handler:function(){e.mailto.email="",e.mailto.subject="I wanted you to see this",e.mailto.body="Check out this link\n\nhttps://www.yourlinkgoeshere.com",e.mailto.composeEmail(),e.mailto.initEmailEditor(),e.mailto.openEditor(),e.isLinkComplete(),window.ga("send","event","Suggestion","Use FTAC","Use FTAC")}},when:function(){return e["new"].url.indexOf(".oft")>-1}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-relative-path",["LinkObject",function(e){return{title:"This URL is not correct.",description:"/content/optum3/en/ is only for use in author in AEM, not on the live site.",type:ErrorType.Fix,severity:ErrorSeverity.High,canContinue:!1,when:function(){return/http(.*)\/content\/optum(.*)\.html/gi.test(e["new"].url)}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-style-matters",["LinkObject",function(e){return{title:"Style matters",description:"You should not put punctuation inside of a link unless it is a button, and even then it's a little weird.",type:ErrorType.BestPractice,severity:ErrorSeverity.Medium,canContinue:!0,cta:{label:"Move the punctuation",handler:function(){e.context=e.context.replace(GlobalVars.linkEncapsulatedPunctuation,"</a>$1"),e.isLinkComplete(),window.ga("send","event","Suggestion","Move punctuation")}},when:function(){return GlobalVars.linkEncapsulatedPunctuation.test(e.context)}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-tracking-add-all",["LinkObject",function(e){var t=!1;return e.requiresTrackingCode()&&e.hasTrackingCode()&&e._super.mapLinkObjects(function(e){e.requiresTrackingCode()&&!e.hasTrackingCode()&&(t=!0)}),{title:"Tracking code - Apply to all links?",description:"I noticed you added a tracking code to this link, great job.     If you want I can add the same tracking code to the other links in this email      which require tracking codes.",type:ErrorType.Suggestion,severity:ErrorSeverity.Low,canContinue:!0,cta:{label:'<i class="wizard icon"></i> Update all links',handler:function(){var t="";e["new"].searchParams.entries.forEach(function(i){e.hasTrackingCode(i)&&(t=i)}),e._super.mapLinkObjects(function(e){e.requiresTrackingCode()&&!e.hasTrackingCode()&&e["new"].searchParams.append(t)}),e._super.mapLinkObjects(function(e){e.isLinkComplete()}),window.ga("send","event","Suggestion","Cascade Tracking Code","Cascade Tracking Code")}},when:function(){return t}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-tracking-not-required",["LinkObject",function(e){var t=/^[aeiouAEIOU]/gi.test(n)?"an ":"a "+n,i=e["new"].url.match(GlobalVars.extDoesNotrequireTrackingCode);if(i&&i.length>0)var n=i[0].toUpperCase().substr(1,i[0].length),t=/^[aeiouAEIOU]/gi.test(n)?"an ":"a "+n;return{title:"Unnecessary tracking link",description:"It looks like you added a tracking code to "+t+" file.\n    In fact, you can only track web pages with these tracking codes.",type:ErrorType.Fix,severity:ErrorSeverity.High,canContinue:!1,cta:{label:'<i class="wizard icon"></i>Fix it now',handler:function(){for(var t=0;t<e["new"].searchParams.entries.length;t++)/[a-z]{1,4}=(.*?:){3,9}/gi.test(e["new"].searchParams.entries[t])&&e["new"].searchParams.deleteAtIndex(t),window.ga("send","event","Suggestion","Unnecessary tracking code","Remove Tracking Code");e["new"].searchParams.updateEntries(),e.isLinkComplete()}},when:function(){return GlobalVars.extDoesNotrequireTrackingCode.test(e["new"].url)&&e.hasTrackingCode()}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-tracking-required",["LinkObject",function(e){return{id:"optum-budurl-tracking-code-required",title:"This URL needs a tracking code.",description:"Create and add a tracking code to make this message go away.",type:ErrorType.Fix,severity:ErrorSeverity.High,canContinue:!1,cta:{label:'<i class="unlock alternate icon"></i> Do not track link',handler:function(){e.overrideTrackingRequirements(),e.isLinkComplete()}},when:function(){return e.whiteListedUrl!==e["new"].url&&e.needsTrackingCode()&&!e["new"].contains("optum.co/")}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-tracking-s-code",["LinkObject",function(e){return{title:"Possible form - Tracking Marketing Channel",description:"Pages in this directory sometimes have forms on them. In order to track marketing channel in\n      the form submission data we'll need to add an s-code to the end of this URL. Lucky for you, I'm programmed to automatically add one if there isn't any. But here is your chance to add your own if the value is anything other than <code>s=email</code>",type:ErrorType.Suggestion,suggestion:"ADD s=email",severity:ErrorSeverity.Low,cta:{label:'<i class="wizard icon"></i>Add S-Code',handler:function(){e["new"].searchParams.append("s=email"),e.isLinkComplete(),window.ga("send","event","Suggestion","Add s-code","s=email")}},when:function(){var t=e.requiresSCode(),i=e["new"].searchParams.has("s"),n=t&&!i;return n&&!i}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-v-equals",["LinkObject",function(e){return{title:"V= cannot be used in emails.",description:"This query string parameter is reserved for vanity urls, and should never be used in an email.",type:ErrorType.Fix,severity:ErrorSeverity.High,canContinue:!1,cta:{label:"Remove parameter",handler:function(){e["new"].searchParams["delete"]("v"),e.isLinkComplete()}},when:function(){return e["new"].searchParams.has("v")}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtYWlsLWhhcy1wcmVoZWFkZXIudHMiLCJlbWFpbC1xYS10ZWxlbHBob25lLW51bWJlcnMudHMiLCJoeXBlcmxpbmstYnVkdXJsLWNvcnJlY3QtdHlwZS50cyIsImh5cGVybGluay1jbGljay1oZXJlLWN0YXMudHMiLCJoeXBlcmxpbmstY3RhLXRvby1sb25nLnRzIiwiaHlwZXJsaW5rLWRlc2NyaXB0aXZlLWN0YXMudHMiLCJoeXBlcmxpbmstaGFzLXNwYWNlcy50cyIsImh5cGVybGluay1pcy1pY3MudHMiLCJoeXBlcmxpbmstbGFuZGluZy1wYWdlLXByZWZlcnJlZC50cyIsImh5cGVybGluay1uby1zaG9ydGxpbmtzLnRzIiwiaHlwZXJsaW5rLW9mdHMtZG9udC11c2UudHMiLCJoeXBlcmxpbmstb2Z0cy1pbXBsZW1lbnQtZnRhYy50cyIsImh5cGVybGluay1yZWxhdGl2ZS1wYXRoLnRzIiwiaHlwZXJsaW5rLXN0eWxlLW1hdHRlcnMudHMiLCJoeXBlcmxpbmstdHJhY2tpbmctYWRkLWFsbC50cyIsImh5cGVybGluay10cmFja2luZy1ub3QtcmVxdWlyZWQudHMiLCJoeXBlcmxpbmstdHJhY2tpbmctcmVxdWlyZWQudHMiLCJoeXBlcmxpbmstdHJhY2tpbmctcy1jb2RlLnRzIiwiaHlwZXJsaW5rLXYtZXF1YWxzLnRzIl0sIm5hbWVzIjpbIl9fUHJldmlld1RleHRFdmFsRnVuY3MiLCJfX0N1c3RvbVBob25lTnVtYmVyUUEiLCJ0aGlzIiwic3RvcmVkVmFsdWVzIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsIndpbmRvdyIsImpvaW4iLCJwcm90b3R5cGUiLCJsb3dlclRvQ2FwaXRhbHNSYXRpbyIsInRleHQiLCJudW1VcHBlciIsImxlbmd0aCIsInJlcGxhY2UiLCJudW1Mb3dlciIsImV2YWx1YXRlUGFyYWdyYXBoVGV4dCIsImluZGV4T2YiLCJ0b1VwcGVyQ2FzZSIsIlByZXZpZXdUZXh0RXZhbEZ1bmNzIiwiRU1MTWFrZXIiLCJpbnRlbGxpZ2VuY2UiLCJtb2R1bGUiLCJyZWdpc3RlciIsIkVNTFdvcmtzcGFjZSIsImZpbmRIdW1hblJlYWRhYmxlVGV4dCIsIm91dHB1dENvZGUiLCJtIiwicmVzdWx0IiwicmVnZXgyIiwicmVzdWx0cyIsImV4ZWMiLCJwdXNoIiwiaSIsImRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRleHRDb250ZW50IiwiaW5uZXJUZXh0Iiwic3BsaXQiLCJzaGlmdCIsInByb2NlZWQiLCJvdXRwdXQiLCJ0aXRsZSIsIm1zZyIsInR5cGUiLCJFcnJvclR5cGUiLCJCZXN0UHJhY3RpY2UiLCJzZXZlcml0eSIsIkVycm9yU2V2ZXJpdHkiLCJMb3ciLCJjYW5Db250aW51ZSIsImN0YSIsInN1Z2dlc3Rpb24iLCJnZW5lcmF0ZU91dHB1dENvZGUiLCJyZWdleCIsInJlZ2V4UyIsInRlc3QiLCJmb3VuZCIsIm1hdGNoIiwialF1ZXJ5IiwiRml4IiwiSGlnaCIsInN1Z2dlc3Rpb25fMSIsImxhYmVsIiwiaGFuZGxlciIsIndvcmtpbmdDb2RlIiwiZXZhbHVhdGVSdWxlcyIsInN1Z2dlc3Rpb25fMiIsImlkIiwiZGVzY3JpcHRpb24iLCJ3aGVuIiwiQ3VzdG9tUGhvbmVOdW1iZXJRQSIsIkludGVsbGlnZW5jZU1vbml0b3IiLCJmb3VuZFBob25lcyIsInN1Z2dlc3Rpb25zIiwiR2xvYmFsVmFycyIsIkVtYWlsUmVnZXgiLCJFbWFpbFJlZ2V4R2xvYmFsIiwiVGVsZXBob25lUmVnZXgiLCJUZWxlcGhvbmVSZWdleEdsb2JhbCIsIlFBIiwiTWVkaXVtIiwib3ZlcnJpZGRlbiIsIkxpbmtPYmplY3QiLCJoYXNUcmFja2luZ0NvZGUiLCJ1cmwiLCJXYXJuIiwicmVzb3VyY2UiLCJjb250ZXh0IiwiYSIsIkNUQUFuYWx5c2lzIiwic2VjdXJpdHkiLCJzaW1wbGljaXR5IiwiZW5nYWdlbWVudCIsImV4Y2x1c2l2ZSIsInVyZ2VuY3kiLCJleGNpdGVtZW50IiwiYyIsInNjb3JlIiwiY29uc29sZSIsImxvZyIsIlNlY3VyaXR5IiwiU2ltcGxpY2l0eSIsIkVuZ2FnZW1lbnQiLCJFeGNsdXNpdmUiLCJVcmdlbmN5IiwiRXhjaXRlbWVudCIsInRvU3RyaW5nIiwiaXNMaW5rQ29tcGxldGUiLCJnYSIsImNvbnRhaW5zIiwicmVzb3VyY2VUZXh0IiwibGFuZGluZ1BhZ2VQcmVmZXJyZWQiLCJleHQiLCJzdWJzdHIiLCJ0cmltIiwiU3VnZ2VzdGlvbiIsIm1haWx0byIsImVtYWlsIiwic3ViamVjdCIsImJvZHkiLCJjb21wb3NlRW1haWwiLCJpbml0RW1haWxFZGl0b3IiLCJvcGVuRWRpdG9yIiwibGlua0VuY2Fwc3VsYXRlZFB1bmN0dWF0aW9uIiwiYWZmZWN0ZWQiLCJyZXF1aXJlc1RyYWNraW5nQ29kZSIsIl9zdXBlciIsIm1hcExpbmtPYmplY3RzIiwiTE8iLCJ0cmFja2luZ0NvZGUiLCJzZWFyY2hQYXJhbXMiLCJlbnRyaWVzIiwiZm9yRWFjaCIsInN0clBhcmFtZXRlciIsImFwcGVuZCIsInBocmFzZSIsImV4dERvZXNOb3RyZXF1aXJlVHJhY2tpbmdDb2RlIiwiZGVsZXRlQXRJbmRleCIsInVwZGF0ZUVudHJpZXMiLCJvdmVycmlkZVRyYWNraW5nUmVxdWlyZW1lbnRzIiwid2hpdGVMaXN0ZWRVcmwiLCJuZWVkc1RyYWNraW5nQ29kZSIsInJlcXVpcmVzUyIsInJlcXVpcmVzU0NvZGUiLCJoYXNTIiwiaGFzIl0sIm1hcHBpbmdzIjoiQUFBQSxRQUFBQSwyQkNDQSxRQUFBQyx5QkFDRUMsS0FBS0MsYUFBZSwrb0JBQ3BCRCxLQUFLRSxLQUFPQyxLQUFLQyxNQUFNQyxRQUFRLElBQUksSUFBSSxJQUFJLEtBQUtDLEtBQUssS0FBS04sS0FBS0MsZURBakVILHVCQUF1QlMsVUFBVUMscUJBQXVCLFNBQVNDLEdBQy9ELEdBQUlDLEdBQVdELEVBQUtFLE9BQVNGLEVBQUtHLFFBQVEsU0FBVSxJQUFJRCxPQUNwREUsRUFBV0osRUFBS0UsT0FBU0YsRUFBS0csUUFBUSxTQUFVLElBQUlELE1BQ3hELE9BQU9ELElBQVlHLEVB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QyxNQUFPLCtCQUNQMkIsWUFBWSxpR0FDWnpCLEtBQU1DLFVBQVVlLElBQ2hCYixTQUFVQyxjQUFjYSxLQUV4QlgsYUFBYSxFQUNiQyxLQUNFWSxNQUFPLG1CQUNQQyxRQUFTLFdBQ1BtQixFQUFBQSxPQUFlZ0QsYUFBZmhELFVBQW1DLEtBQ25DQSxFQUFXeUIsbUJBR2Z0QyxLQUFNLFdBQ0osTUFBT2EsR0FBQUEsT0FBZWdELGFBQWFlLElBQUkiLCJmaWxlIjoib3B0dW0taW50ZWxsaWdlbmNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX19QcmV2aWV3VGV4dEV2YWxGdW5jcygpe1xuXG59XG5fX1ByZXZpZXdUZXh0RXZhbEZ1bmNzLnByb3RvdHlwZS5sb3dlclRvQ2FwaXRhbHNSYXRpbyA9IGZ1bmN0aW9uKHRleHQpe1xuICB2YXIgbnVtVXBwZXIgPSB0ZXh0Lmxlbmd0aCAtIHRleHQucmVwbGFjZSgvW0EtWl0vZywgJycpLmxlbmd0aDtcbiAgdmFyIG51bUxvd2VyID0gdGV4dC5sZW5ndGggLSB0ZXh0LnJlcGxhY2UoL1thLXpdL2csICcnKS5sZW5ndGg7XG4gIHJldHVybiBudW1VcHBlciAvIChudW1Mb3dlciArIG51bVVwcGVyKTtcbn07XG5fX1ByZXZpZXdUZXh0RXZhbEZ1bmNzLnByb3RvdHlwZS5ldmFsdWF0ZVBhcmFncmFwaFRleHQgPSBmdW5jdGlvbih0ZXh0KXtcbiAgaWYodGV4dC5pbmRleE9mKFwid2ViIHZlcnNpb25cIik+LTEpIHJldHVybiBmYWxzZTtcbiAgaWYodGV4dCA9PSBcIlwiKSByZXR1cm4gZmFsc2U7XG4gIGlmKHRleHQubGVuZ3RoIDwgNzApIHJldHVybiBmYWxzZTtcbiAgaWYodGV4dCA9PT0gdGV4dC50b1VwcGVyQ2FzZSgpKSByZXR1cm4gZmFsc2U7XG4gIGlmKHRoaXMubG93ZXJUb0NhcGl0YWxzUmF0aW8odGV4dCkgPD0gMC4xKSByZXR1cm4gdHJ1ZTtcbn07XG52YXIgUHJldmlld1RleHRFdmFsRnVuY3MgID0gbmV3IF9fUHJldmlld1RleHRFdmFsRnVuY3MoKTtcblxuRU1MTWFrZXIuaW50ZWxsaWdlbmNlLm1vZHVsZShcImVtYWlsXCIpLnJlZ2lzdGVyKFwiZW1haWwtaGFzLXByZWhlYWRlclwiLFtcbiAgXCJFTUxXb3Jrc3BhY2VcIixmdW5jdGlvbihFTUxXb3Jrc3BhY2Upe1xuXG4gICAgdmFyIHByb2NlZWQgPSB0cnVlO1xuICAgIHZhciBwcmVoZWFkZXJUZXh0ID0gXCJcIjtcbiAgICB2YXIgb3V0cHV0ID0ge1xuICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICBtc2c6IFwiXCIsXG4gICAgICB0eXBlOiBFcnJvclR5cGUuQmVzdFByYWN0aWNlLFxuICAgICAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHkuTG93LFxuICAgICAgY2FuQ29udGludWU6IHRydWUsXG4gICAgICBjdGE6IHt9LFxuICAgICAgc3VnZ2VzdGlvbjogXCJcIlxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBmaW5kSHVtYW5SZWFkYWJsZVRleHQob3V0cHV0Q29kZSl7XG4gICAgICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgICAgIGxldCByZWdleDIgPSAvXFw8cChbXlxcPl18XFxzfC4qKVxcPihbXjxdLiopP1xcPFxcL3BcXD4vZ2k7XG4gICAgICB2YXIgbSxyZXN1bHRzID0gW107XG4gICAgICBkbyB7XG4gICAgICAgIG0gPSByZWdleDIuZXhlYyhvdXRwdXRDb2RlKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKG1bMF0pO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChtKTtcblxuICAgICAgZm9yKHZhciBpPTA7aTxyZXN1bHRzLmxlbmd0aDtpKyspe1xuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGl2LmlubmVySFRNTCA9IHJlc3VsdHNbaV07XG4gICAgICAgIHZhciB0ZXh0OmFueSA9IGRpdi50ZXh0Q29udGVudCB8fCBkaXYuaW5uZXJUZXh0IHx8IFwiXCI7XG4gICAgICAgIGlmKFByZXZpZXdUZXh0RXZhbEZ1bmNzLmV2YWx1YXRlUGFyYWdyYXBoVGV4dCh0ZXh0KSkge1xuICAgICAgICAgIHJlc3VsdCA9IHRleHQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQuc3BsaXQoXCIuXCIpLnNoaWZ0KCkgKyBcIi5cIjtcbiAgICB9XG5cbiAgICBsZXQgb3V0cHV0Q29kZSA9IEVNTFdvcmtzcGFjZS5nZW5lcmF0ZU91dHB1dENvZGUoXCJlbWFpbFwiLCB0cnVlKTtcbiAgICBsZXQgcmVnZXggPSAvXFw8cC4qY2xhc3M9XFxcInByZWhlYWRlclxcXCJbXlxcPl0uKlxcPihbXjxdLiopP1xcPFxcL3BcXD4vZ2k7XG4gICAgbGV0IHJlZ2V4UyA9IC9cXDxwKFteXFw+XS4qKWNsYXNzPVxcXCJwcmVoZWFkZXJcXFwiKFteXFw+XS4qKVxcPi9naTtcbiAgICBpZihyZWdleFMudGVzdChvdXRwdXRDb2RlKSl7XG4gICAgICB2YXIgZm91bmQgPSBvdXRwdXRDb2RlLm1hdGNoKHJlZ2V4KTtcbiAgICAgIGlmKGZvdW5kKXtcbiAgICAgICAgdmFyIHRleHQgID0gd2luZG93LmpRdWVyeShmb3VuZFswXSk7XG5cbiAgICAgICAgbGV0IGlubmVyVGV4dCA9IHRleHQudGV4dCgpO1xuICAgICAgICBpZihpbm5lclRleHQubGVuZ3RoPT0wKXtcbiAgICAgICAgICBvdXRwdXQudGl0bGUgPSBcIlByZXZpZXcgdGV4dCAtIENvZGUgaW5jb21wbGV0ZVwiO1xuICAgICAgICAgIG91dHB1dC50eXBlID0gRXJyb3JUeXBlLkZpeDtcbiAgICAgICAgICBvdXRwdXQuc2V2ZXJpdHkgPSBFcnJvclNldmVyaXR5LkhpZ2g7XG4gICAgICAgICAgb3V0cHV0Lm1zZyA9IFwiQ29kZSBpcyBwcmVzZW50IGJ1dCB0aGVyZSBpcyBubyB0ZXh0IHNldC4gQ29uc2lkZXIgYWRkaW5nIHNvbWUsIG9yIHJlbW92aW5nIHRoZSBwcmV2aWV3IHRleHQgY29kZSBibG9jayBmcm9tIHRoZSBIVE1MIGlmIHlvdSBwbGFuIG9uIHVzaW5nIHRoZSBwcmV2aWV3IHRleHQgZmVhdHVyZSBpbiBFbG9xdWEuXCI7XG4gICAgICAgICAgICAvL2dldCBzdWdnZXN0aW9uLiAobmVlZHMgdG8gYmUgc2VudGVuY2UgY2FzZSBhbmQgbG9uZ2lzaCk7XG4gICAgICAgICAgICBsZXQgc3VnZ2VzdGlvbiA9IGZpbmRIdW1hblJlYWRhYmxlVGV4dChvdXRwdXRDb2RlKTtcbiAgICAgICAgICAgIGlmKHN1Z2dlc3Rpb24gIT09XCJcIikge1xuICAgICAgICAgICAgICBvdXRwdXQuc3VnZ2VzdGlvbiA9IHN1Z2dlc3Rpb247XG4gICAgICAgICAgICAgIG91dHB1dC5jdGEgPSB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRml4IG5vd1wiLFxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICBFTUxXb3Jrc3BhY2Uud29ya2luZ0NvZGUgPSBFTUxXb3Jrc3BhY2Uud29ya2luZ0NvZGUucmVwbGFjZShyZWdleCwgZnVuY3Rpb24obSl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtLnJlcGxhY2UoXCI8L3A+XCIsIHN1Z2dlc3Rpb24rXCI8L3A+XCIpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBFTUxXb3Jrc3BhY2UuaW50ZWxsaWdlbmNlLmV2YWx1YXRlUnVsZXMoKTtcblxuICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIGNvZGUuXG4gICAgICAgICAgICAgIH19O1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXRwdXQudGl0bGUgPSBcIlByZXZpZXcgdGV4dCAtIEZvdW5kXCI7XG4gICAgICAgICAgb3V0cHV0Lm1zZyA9IFwiPGVtPkZvdW5kOjwvZW0+IFwiICsgdGV4dC50ZXh0KCk7XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0cHV0LnRpdGxlID0gXCJQcmV2aWV3IHRleHQgLSBDb2RlIG1pZ2h0IGJlIGJyb2tlblwiO1xuICAgICAgICBvdXRwdXQubXNnID0gXCJQcmV2aWV3IHRleHQgbG9va3MgbGlrZSBpdCBtaWdodCBiZSBicm9rZW4uXCI7XG4gICAgICAgIG91dHB1dC50eXBlID0gRXJyb3JUeXBlLkZpeDtcbiAgICAgICAgb3V0cHV0LnNldmVyaXR5ID0gRXJyb3JTZXZlcml0eS5IaWdoO1xuICAgICAgICBvdXRwdXQuY2FuQ29udGludWUgPSBmYWxzZTtcbiAgICAgICAgbGV0IHN1Z2dlc3Rpb24gPSBmaW5kSHVtYW5SZWFkYWJsZVRleHQob3V0cHV0Q29kZSk7XG4gICAgICAgIGlmKHN1Z2dlc3Rpb24gIT09XCJcIikge1xuICAgICAgICAgIG91dHB1dC5tc2cgPSBvdXRwdXQubXNnKyBcIkNvbnNpZGVyIGZpeGluZyB0aGUgY29kZSBhbmQgdXBkYXRpbmcgdGhpcyBwcmV2aWV3IHRleHQgdG8gc29tZSBjb250ZW50IGZyb20gdGhlIGVtYWlsLlwiO1xuICAgICAgICAgIG91dHB1dC5zdWdnZXN0aW9uID0gc3VnZ2VzdGlvbjtcbiAgICAgICAgICBvdXRwdXQuY3RhID0ge1xuICAgICAgICAgICAgbGFiZWw6IFwiRml4IG5vd1wiLFxuICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgRU1MV29ya3NwYWNlLndvcmtpbmdDb2RlID0gRU1MV29ya3NwYWNlLndvcmtpbmdDb2RlLnJlcGxhY2UocmVnZXhTLCBmdW5jdGlvbihtKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbStzdWdnZXN0aW9uK1wiPC9wPlwiO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgRU1MV29ya3NwYWNlLmludGVsbGlnZW5jZS5ldmFsdWF0ZVJ1bGVzKCk7XG4gICAgICAgICAgICAgIC8vdXBkYXRlIHRoZSBjb2RlLlxuICAgICAgICAgIH19O1xuICAgICAgICB9XG5cbiAgICAgIH1cbiAgICAgIHByb2NlZWQgPSBmYWxzZTtcbiAgICB9XG5cblxuICByZXR1cm4ge1xuICAgIGlkOiBcImVtYWlsLWhhcy1wcmVoZWFkZXJcIixcbiAgICB0aXRsZTogb3V0cHV0LnRpdGxlLFxuICAgIGRlc2NyaXB0aW9uOiBvdXRwdXQubXNnLFxuICAgIHR5cGU6IG91dHB1dC50eXBlLFxuICAgIHNldmVyaXR5OiBvdXRwdXQuc2V2ZXJpdHksXG4gICAgc3VnZ2VzdGlvbjogb3V0cHV0LnN1Z2dlc3Rpb24sXG4gICAgLy8gcmVzb3VyY2U6IFwiXCIsXG4gICAgY2FuQ29udGludWU6IG91dHB1dC5jYW5Db250aW51ZSxcbiAgICBjdGE6IG91dHB1dC5jdGEgPyBvdXRwdXQuY3RhIDoge30sXG4gICAgd2hlbjogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiAhcHJvY2VlZDtcbiAgICB9XG4gIH07XG59XSk7XG4iLCJcbmZ1bmN0aW9uIF9fQ3VzdG9tUGhvbmVOdW1iZXJRQSgpe1xuICB0aGlzLnN0b3JlZFZhbHVlcyA9IFwiZXlKbGRtVnVkSE5BYjNCMGRXMHVZMjl0SWpvaU9EQXdMamMyTlM0Mk56VTVJaXdpYVc1bWIwQnZjSFIxYlM1amIyMGlPaUk0TmpZdU16ZzJMak0wTURRaUxDSjJhV1YzY0c5cGJuUnpRRzl3ZEhWdExtTnZiU0k2SWpnd01DNDNOalV1Tmpjd05TSXNJbWx4UUc5d2RIVnRMbU52YlNJNklqZ3dNQzQzTmpVdU5qY3dOU0lzSW1WdGNHOTNaWEpBYjNCMGRXMHVZMjl0SWpvaU9EQXdMamMyTlM0Mk9EQTNJaXdpYjNCMGRXMHpOakJBYjNCMGRXMHVZMjl0SWpvaU9EWTJMakl5TXk0ME56TXdJaXdpYVc1bWIzSnRRRzl3ZEhWdExtTnZiU0k2SWpnd01DNDNOalV1TmpjNU15SXNJbVJwYzJOdmRtVnlRRzl3ZEhWdExtTnZiU0k2SWpnd01DNDNOalV1TmpZeE9TSXNJbU52Ym01bFkzUmxaRUJ2Y0hSMWJTNWpiMjBpT2lJNE5qWXVNekEyTGpFek1qRWlMQ0pwYm01dmRtRjBaVUJ2Y0hSMWJTNWpiMjBpT2lJNE1EQXVOelkxTGpZd09USWlMQ0psYm1kaFoyVkFiM0IwZFcwdVkyOXRJam9pT0RZMkxqTTROaTR6TkRBNUlpd2lhVzVuWlc1MWFYUjVRRzl3ZEhWdExtTnZiU0k2SWpnMk5pNDBNamN1Tmpnd05DSXNJbWRzYjJKaGJFQnZjSFIxYlM1amIyMGlPaUk0TmpZdU16SXlMakE1TlRnaUxDSnZjSFIxYlhKNFFHOXdkSFZ0TG1OdmJTSTZJamcyTmk0ek9EWXVNelF3TkNKOVwiO1xuICB0aGlzLmRhdGEgPSBKU09OLnBhcnNlKHdpbmRvd1tbXCJhXCIsXCJ0XCIsXCJvXCIsXCJiXCJdLmpvaW4oXCJcIildKHRoaXMuc3RvcmVkVmFsdWVzKSk7XG59XG52YXIgQ3VzdG9tUGhvbmVOdW1iZXJRQSA9IG5ldyBfX0N1c3RvbVBob25lTnVtYmVyUUEoKTtcblxuXG5cbkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJlbWFpbFwiKS5yZWdpc3RlcihcImVtYWlsLXFhLXRlbGVscGhvbmUtbnVtYmVyc1wiLFtcbiAgXCJFTUxXb3Jrc3BhY2VcIixcIkludGVsbGlnZW5jZU1vbml0b3JcIiwgZnVuY3Rpb24oRU1MV29ya3NwYWNlLEludGVsbGlnZW5jZU1vbml0b3Ipe1xuXG4gICAgLy9kbyB0aGUgY29kZSBoZXJlO1xuICAgIGxldCBvdXRwdXRDb2RlID0gRU1MV29ya3NwYWNlLmdlbmVyYXRlT3V0cHV0Q29kZShcImVtYWlsXCIsIHRydWUpO1xuICAgIHZhciBmb3VuZFBob25lcyA9IFtdLCBzdWdnZXN0aW9ucyA9IFtdO1xuICAgIC8vIGdldCB0aGUgZW1haWxzIHVzZWQ7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBpZihHbG9iYWxWYXJzLkVtYWlsUmVnZXgudGVzdChvdXRwdXRDb2RlKSl7XG4gICAgICB2YXIgbTtcbiAgICAgIGRvIHtcbiAgICAgICAgbSA9IEdsb2JhbFZhcnMuRW1haWxSZWdleEdsb2JhbC5leGVjKG91dHB1dENvZGUpO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgIGlmKGZvdW5kUGhvbmVzLmluZGV4T2YobVswXSk9PS0xKSBmb3VuZFBob25lcy5wdXNoKG1bMF0pO1xuICAgICAgICAvL2NvbnNvbGUubG9nKG1bMV0sIG1bMl0pO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChtKTtcbiAgICAgIGZvcih2YXIgaSA9MDtpPGZvdW5kUGhvbmVzLmxlbmd0aDtpKyspe1xuICAgICAgICBpZihDdXN0b21QaG9uZU51bWJlclFBLmRhdGFbZm91bmRQaG9uZXNbaV1dKXtcbiAgICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKGZvdW5kUGhvbmVzW2ldICsgXCIgPGkgY2xhc3M9XFxcInVpIGxvbmcgcmlnaHQgYXJyb3cgaWNvblxcXCI+PC9pPiBcIiArIEN1c3RvbVBob25lTnVtYmVyUUEuZGF0YVtmb3VuZFBob25lc1tpXV0pO1xuICAgICAgICB9XG5cbiAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBpZihHbG9iYWxWYXJzLlRlbGVwaG9uZVJlZ2V4LnRlc3Qob3V0cHV0Q29kZSkpe1xuICAgICAgdmFyIG07XG4gICAgICBkbyB7XG4gICAgICAgIG0gPSBHbG9iYWxWYXJzLlRlbGVwaG9uZVJlZ2V4R2xvYmFsLmV4ZWMob3V0cHV0Q29kZSk7XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChtWzBdKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhtWzFdLCBtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAobSk7XG4gICAgfVxuXG5cbiAgcmV0dXJuIHtcbiAgICBpZDogXCJjb25mcmltLXRlbGVwaG9uZS1udW1iZXJzXCIsXG4gICAgdGl0bGU6IFwiQ29uZmlybSBjb3JyZWN0IGNvbnRhY3QgaW5mb3JtYXRpb24gLSBUZWxlcGhvbmUgTnVtYmVyXCIgKyAocmVzdWx0cy5sZW5ndGg+MT9cInNcIjpcIlwiKSxcbiAgICBkZXNjcmlwdGlvbjogXCI8ZW0+Rm91bmQ6PC9lbT4gXCIgKyByZXN1bHRzLmpvaW4oXCIsIFwiKSxcbiAgICB0eXBlOiBFcnJvclR5cGUuUUEsXG4gICAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHkuTWVkaXVtLFxuICAgIC8vIHJlc291cmNlOiBcIlwiLFxuICAgIGNhbkNvbnRpbnVlOiBmYWxzZSxcbiAgICBzdWdnZXN0aW9uOiBzdWdnZXN0aW9ucy5sZW5ndGg9PTAgPyBcIlwiIDogc3VnZ2VzdGlvbnMuam9pbihcIjxicj5cIiksXG4gICAgY3RhOiB7XG4gICAgICBsYWJlbDogXCJcIixcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgIEludGVsbGlnZW5jZU1vbml0b3Iub3ZlcnJpZGRlbi5wdXNoKFwiY29uZnJpbS10ZWxlcGhvbmUtbnVtYmVyc1wiKTtcbiAgICAgICAgRU1MV29ya3NwYWNlLmludGVsbGlnZW5jZS5ldmFsdWF0ZVJ1bGVzKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB3aGVuOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIHJlc3VsdHMubGVuZ3RoPjA7XG4gICAgICB9XG4gICAgfTtcbn1dKTtcbiIsIkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJoeXBlcmxpbmtcIikucmVnaXN0ZXIoXG4gIFwiaHlwZXJsaW5rLWJ1ZHVybC1jb3JyZWN0LXR5cGVcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuXG5cbiAgcmV0dXJuIHtcbiAgICBpZDogXCJvcHR1bS1oeXBlcmxpbmstYnVkdXJsLWNvcnJlY3QtdHlwZVwiLFxuICAgIHRpdGxlOiBcIlRyYWNraW5nIGNvZGUgLSBSZXZpZXcgTWFya2V0aW5nIENoYW5uZWxcIixcbiAgICBkZXNjcmlwdGlvbjogXCJNYWtlIHN1cmUgdGhlIEJ1ZFVSTCB0aGF0IHlvdSBjcmVhdGVkIHVzZXMgdGhlIGNvcnJlY3QgbWFya2V0aW5nIGNoYW5uZWwuIEZvciBlbWFpbHMsIGl0IHNob3VsZCBiZSA8c3Ryb25nPkVtYWlsIChlbWwpPC9zdHJvbmc+LlwiLFxuICAgIHR5cGU6IEVycm9yVHlwZS5GaXgsXG4gICAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHkuSGlnaCxcbiAgICAvLyByZXNvdXJjZTogXCJcIixcbiAgICBjYW5Db250aW51ZTogZmFsc2UsXG4gICAgLy8gY3RhOiB7XG4gICAgLy8gICBsYWJlbDogJzxpIGNsYXNzPVwidW5sb2NrIGFsdGVybmF0ZSBpY29uXCI+PC9pPiBEbyBub3QgdHJhY2sgbGluaycsXG4gICAgLy8gICBoYW5kbGVyOiBmdW5jdGlvbigpe1xuICAgIC8vICAgICBMaW5rT2JqZWN0Lm92ZXJyaWRlVHJhY2tpbmdSZXF1aXJlbWVudHMoKTtcbiAgICAvLyAgICAgTGlua09iamVjdC5pc0xpbmtDb21wbGV0ZSgpO1xuICAgIC8vICAgfVxuICAgIC8vIH0sXG4gICAgd2hlbjogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBMaW5rT2JqZWN0Lmhhc1RyYWNraW5nQ29kZSgpICYmICEvXFw/KG98b2lleClcXD1bYS16XXszLH1cXDplbWwvaS50ZXN0KExpbmtPYmplY3QubmV3LnVybClcbiAgICAgIH1cbiAgICB9O1xufV0pO1xuIiwiRU1MTWFrZXIuaW50ZWxsaWdlbmNlLm1vZHVsZShcImh5cGVybGlua1wiKS5yZWdpc3RlcihcImh5cGVybGluay1jbGljay1oZXJlLWN0YXNcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuXG5cbiAgcmV0dXJuIHtcbiAgICAvLyBpZDogXCJcIixcbiAgICB0aXRsZTogXCJcXFwiQ2xpY2sgaGVyZVxcXCIgaXMgYSBiYWQgcHJhY3RpY2UuXCIsXG4gICAgZGVzY3JpcHRpb246IGBcXFwiQ2xpY2sgaGVyZVxcXCIgbGlua3MgYXJlbid0IHJlYWxseSBkZXNjcmlwdGl2ZVxuICAgIGVub3VnaCB0byBiZSBlZmZlY3RpdmUgQ1RBcy4gQWRkaXRpb25hbGx5LCBjbGljayBpbXBsaWVzIHRoYXQgdXNlcnNcbiAgICBhcmUgdXNpbmcgYSBtb3VzZSwgd2hpY2ggaXMgbW9yZSB0aGFuIGhhbGYgdGhlIHRpbWUgbm90IHRoZSBjYXNlIHdoZW5cbiAgICB5b3UgY29uc2lkZXIgbW9iaWxlIGRldmljZXMgYW5kIG90aGVycyByZWFkaW5nIGZvciBhY2Nlc3NpYmlsaXR5LmAsXG4gICAgdHlwZTogRXJyb3JUeXBlLldhcm4sXG4gICAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHkuTG93LFxuICAgIHJlc291cmNlOiBcImh0dHBzOi8vd3d3LmNhbXBhaWdubW9uaXRvci5jb20vYmxvZy9lbWFpbC1tYXJrZXRpbmcvMjAxNi8wMy83NS1jYWxsLXRvLWFjdGlvbnMtdG8tdXNlLWluLWVtYWlsLW1hcmtldGluZy1jYW1wYWlnbnMvXCIsXG4gICAgY2FuQ29udGludWU6IHRydWUsXG4gICAgLy8gY3RhOiB7XG4gICAgLy8gICBsYWJlbDogXCJSZW1vdmUgcGFyYW1ldGVyXCIsXG4gICAgLy8gICBoYW5kbGVyOiBmdW5jdGlvbigpe1xuICAgIC8vICAgICBMaW5rT2JqZWN0Lm5ldy5zZWFyY2hQYXJhbXMuZGVsZXRlKFwidlwiKTtcbiAgICAvLyAgICAgTGlua09iamVjdC5pc0xpbmtDb21wbGV0ZSgpO1xuICAgIC8vICAgfVxuICAgIC8vIH0sXG4gICAgd2hlbjogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBMaW5rT2JqZWN0LmNvbnRleHQgJiYgL2NsaWNrfGNsaWNrXFxzaGVyZS9naS50ZXN0KExpbmtPYmplY3QuY29udGV4dClcbiAgICAgIH1cbiAgICB9O1xufV0pO1xuIiwiRU1MTWFrZXIuaW50ZWxsaWdlbmNlLm1vZHVsZShcImh5cGVybGlua1wiKS5yZWdpc3RlcihcImh5cGVybGluay1jbGljay1oZXJlLWN0YXNcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuXG4gICAgbGV0IHJlZ2V4ID0gL1xcJXxhY3R8YXBwfGJlXFxzfGJlbmVmaXR8YmVzdHxiaXJkfGJvb2t8YnJpZWZ8YnV5fGNoYW5nZXxjbGFpbXxjb2xsZWN0aW9ufGNvbWluZ3xjb21wbGV0ZXxjb25uZWN0ZWR8Y291bnR8Y291cG9ufGN1cmlvdXN8ZGVhbHxkZWxheXxkb24oXFwnfOKAmSl0fGRvbmF0ZXxkb3dubG9hZHxlXFwtYm9va3xlYXJseXxlYm9va3xmYWxsfGZhdm9yaXRlc3xmZWVkYmFja3xmaW5kfGZvbGxvd3xmcmVlfGZ1bGx8Z2V0fGdpZnR8Z2l2ZXxoZWFyfGhvd3xpbnNpZ2h0fGtlZXB8a25vd3xsZWFybnxsZWF2ZXxsZXR8bGlrZXxtYWtlfG1vcmV8bmV4dHxub3d8b3JkZXJ8cGF5fHByaWNlc3xwdXJjaGFzZXxyZWFkfHJlZ2lzdGVyfHJlcGVhdHxyZXNlcnZlfHJlc3VsdHxyZXZlYWx8cmV2aWV3fHNhdmV8c2F2aW5nfHNlYXNvbnxzZWF0fHNlZXxzaG9wfHNpZ258c3BvdHxzcHJlYWR8c3RhcnR8c3RheXxzdXJ2ZXl8dGFrZXx0aWNrZXRzfHRvZGF5fHRyaWFsfHVwZ3JhZGV8dmlkZW98dmlwfHdhbnR8d2F0Y2h8d2ViaW5hcnx3aGl0ZVxcc3BhcGVyL2k7XG5cbiAgICB2YXIgYSAgPSB3aW5kb3cualF1ZXJ5KExpbmtPYmplY3QuY29udGV4dCk7XG4gICAgbGV0IHByb2NlZWQgPSByZWdleC50ZXN0KGEudGV4dCgpKSAmJiBhLnRleHQoKS5sZW5ndGggPiA0NTtcblxuXG5cbiAgLy8gIGlmKExpbmtPYmplY3QuY29udGV4dC50ZXN0KC9jbGlja3xsZWFybnxkb3dubG9hZHxyZWdpc3RlcnxzdGF5fHVwZGF0ZXxub3d8dG9kYXkpKVxuXG4gIHJldHVybiB7XG4gICAgLy8gaWQ6IFwiXCIsXG4gICAgdGl0bGU6IFwiQ1RBIG1pZ2h0IGJlIHRvbyBsb25nLlwiLFxuICAgIGRlc2NyaXB0aW9uOiBgSW5zdGVhZCwga2VlcCB5b3VyIGNhbGxzIHRvIGFjdGlvbiBzaG9ydCBhbmQgc3dlZXQuXG4gICAgUmVhZGVycyBwcmVmZXIgcXVpY2ssIGRpcmVjdCBhY3Rpb24gaXRlbXMsIG5vdCBsZW5ndGh5IHNlbnRlbmNlcy5gLFxuICAgIHR5cGU6IEVycm9yVHlwZS5XYXJuLFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkxvdyxcbiAgICByZXNvdXJjZTogXCJodHRwczovL3d3dy5jYW1wYWlnbm1vbml0b3IuY29tL2Jsb2cvZW1haWwtbWFya2V0aW5nLzIwMTYvMDMvNzUtY2FsbC10by1hY3Rpb25zLXRvLXVzZS1pbi1lbWFpbC1tYXJrZXRpbmctY2FtcGFpZ25zL1wiLFxuICAgIGNhbkNvbnRpbnVlOiB0cnVlLFxuICAgIC8vIGN0YToge1xuICAgIC8vICAgbGFiZWw6IFwiUmVtb3ZlIHBhcmFtZXRlclwiLFxuICAgIC8vICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAvLyAgICAgTGlua09iamVjdC5uZXcuc2VhcmNoUGFyYW1zLmRlbGV0ZShcInZcIik7XG4gICAgLy8gICAgIExpbmtPYmplY3QuaXNMaW5rQ29tcGxldGUoKTtcbiAgICAvLyAgIH1cbiAgICAvLyB9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHByb2NlZWQ7XG4gICAgICAvL3JldHVybiBMaW5rT2JqZWN0LmNvbnRleHQgJiYgL2NsaWNrfGNsaWNrXFxzaGVyZS9nLnRlc3QoTGlua09iamVjdC5jb250ZXh0KVxuICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFwiaHlwZXJsaW5rLWRlc2NyaXB0aXZlLWN0YXNcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuXG5cbiAgICBsZXQgcmVnZXggPSAvXFwlfGFjdHxhcHB8YmVcXHN8YmVuZWZpdHxiZXN0fGJpcmR8Ym9va3xicmllZnxidXl8Y2hhbmdlfGNsYWltfGNvbGxlY3Rpb258Y29taW5nfGNvbXBsZXRlfGNvbm5lY3RlZHxjb3VudHxjb3Vwb258Y3VyaW91c3xkZWFsfGRlbGF5fGRvbihcXCd84oCZKXR8ZG9uYXRlfGRvd25sb2FkfGVcXC1ib29rfGVhcmx5fGVib29rfGZhbGx8ZmF2b3JpdGVzfGZlZWRiYWNrfGZpbmR8Zm9sbG93fGZyZWV8ZnVsbHxnZXR8Z2lmdHxnaXZlfGhlYXJ8aG93fGluc2lnaHR8a2VlcHxrbm93fGxlYXJufGxlYXZlfGxldHxsaWtlfG1ha2V8bW9yZXxuZXh0fG5vd3xvcmRlcnxwYXl8cHJpY2VzfHB1cmNoYXNlfHJlYWR8cmVnaXN0ZXJ8cmVwZWF0fHJlc2VydmV8cmVzdWx0fHJldmVhbHxyZXZpZXd8c2F2ZXxzYXZpbmd8c2Vhc29ufHNlYXR8c2VlfHNob3B8c2lnbnxzcG90fHNwcmVhZHxzdGFydHxzdGF5fHN1cnZleXx0YWtlfHRpY2tldHN8dG9kYXl8dHJpYWx8dXBncmFkZXx2aWRlb3x2aXB8d2FudHx3YXRjaHx3ZWJpbmFyfHdoaXRlXFxzcGFwZXIvaTtcblxuXG4gICAgLy9pZGVudGlmeSBjb21wYXJlQWdhaW5zdFxuXG4gICAgLy9zZWN1cml0eVxuICAgIC8vc2ltcGxpY2l0eVxuICAgIC8vZW5nYWdlbWVudFxuICAgIGxldCBzZWN1cml0eSA9IC9wcml2YWN5fHJlZnVuZHxwcm90ZWN0ZWR8c2VjdXJlfGNlcnRpZmllZHxndWFyYW50ZWVkfHJlYWxpc3RpY3xyZXNlYXJjaGVkfHByb3ZlbnxvZmZpY2lhbHxtb25leS1iYWNrfHRlc3RlZHxsaWZldGltZXxiYWNrZWQvaVxuICAgIGxldCBzaW1wbGljaXR5ID0gL2Vhc3l8c2ltcGxlfGhhc3NsZVxcLWZyZWV8aGVscHxjb21wbGV0ZXxlbnRpcmV8dG90YWx8dGhvcm91Z2h8cHVyZXxuYXR1cmFsfHBsYWlufHN0cmFpZ2h0Zm9yd2FyZHx1bmNvbXBsaWNhdGVkfGNhbmRpZC9pXG4gICAgbGV0IGVuZ2FnZW1lbnQgPSAvaW5jcmVhc2V8Y3JlYXRlfHNoYXJlfGRpc2NvdmVyfGNvbXBhcmV8dGFrZXxzaG93fHRlbGx8ZmluZHxtYWtlfHBsYW58bGVhcm58c3RhcnR8Z3Jvd3xzdWJzY3JpYmUvaVxuICAgIGxldCBleGNsdXNpdmUgPSAvc2VsZWN0fHByaXZhdGV8Y29uZmlkZW50aWFsfGluc2lkZXJ8dmlwfHNlY3JldHxleGNsdXNpdmV8bWVtYmVyc3xlbGl0ZXxpbnZpdGF0aW9ufHNlY3JldHxyZXNlcnZlZHxvbmx5fGNob2ljZS9pXG4gICAgbGV0IHVyZ2VuY3kgPSAvbm93fGltbWVkaWF0ZWx5fHRvZGF5fGxpbWl0ZWR8c2hvcnRseXxzb29ufHJhcGlkfHF1aWNrfGZsYXNofGh1cnJ5fGFsZXJ0fGZhc3R8aW5zdGFudHx1cmdlbnQvaVxuICAgIGxldCBleGNpdGVtZW50ID0gL25ld3xpbnRyb2R1Y2luZ3xsYXRlc3R8c3BlY2lhbHxhbGVydHxnaWZ0fGZyZWV8ZnJlZWJpZXxiZXN0fHByaXplfHdpbnxzYXZlfHVsdGltYXRlfHRyeS9pXG5cbiAgICB2YXIgYSAgPSB3aW5kb3cualF1ZXJ5KExpbmtPYmplY3QuY29udGV4dCk7XG4gICAgdmFyIGMgPSBhLnRleHQoKTtcblxuICAgIGVudW0gQ1RBQW5hbHlzaXMge1xuICAgICAgU2VjdXJpdHk9MCxcbiAgICAgIFNpbXBsaWNpdHksXG4gICAgICBFbmdhZ2VtZW50LFxuICAgICAgRXhjbHVzaXZlLFxuICAgICAgVXJnZW5jeSxcbiAgICAgIEV4Y2l0ZW1lbnRcbiAgICB9XG4gICAgdmFyIHNjb3JlID0gWzAsMCwwLDAsMCwwXTtcbiAgICBpZihzZWN1cml0eS50ZXN0KGMpKXtcbiAgICAgIGNvbnNvbGUubG9nKFwic2VjdXJpdHlcIik7XG4gICAgICBzY29yZVtDVEFBbmFseXNpcy5TZWN1cml0eV0gPSAxO1xuICAgIH1cbiAgICBpZihzaW1wbGljaXR5LnRlc3QoYykpe1xuICAgICAgY29uc29sZS5sb2coXCJzaW1wbGljaXR5XCIpO1xuICAgICAgc2NvcmVbQ1RBQW5hbHlzaXMuU2ltcGxpY2l0eV0gPSAxO1xuICAgIH1cbiAgICBpZihlbmdhZ2VtZW50LnRlc3QoYykpe1xuICAgICAgY29uc29sZS5sb2coXCJlbmdhZ2VtZW50XCIpO1xuICAgICAgc2NvcmVbQ1RBQW5hbHlzaXMuRW5nYWdlbWVudF0gPSAxO1xuICAgIH1cbiAgICBpZihleGNsdXNpdmUudGVzdChjKSl7XG4gICAgICBjb25zb2xlLmxvZyhcImV4Y2x1c2l2ZVwiKTtcbiAgICAgIHNjb3JlW0NUQUFuYWx5c2lzLkV4Y2x1c2l2ZV0gPSAxO1xuICAgIH1cbiAgICBpZih1cmdlbmN5LnRlc3QoYykpe1xuICAgICAgY29uc29sZS5sb2coXCJ1cmdlbmN5XCIpO1xuICAgICAgc2NvcmVbQ1RBQW5hbHlzaXMuVXJnZW5jeV0gPSAxO1xuICAgIH1cbiAgICBpZihleGNpdGVtZW50LnRlc3QoYykpe1xuICAgICAgY29uc29sZS5sb2coXCJleGNpdGVtZW50XCIpO1xuICAgICAgc2NvcmVbQ1RBQW5hbHlzaXMuRXhjaXRlbWVudF0gPSAxO1xuICAgIH1cblxuXG5cblxuICAgIC8vIGxldCBwcm9jZWVkID0gc2NvcmUucmVkdWNlKChhLGIpPT4gYStiLCAwKSA+IDA7XG4gICAgbGV0IHByb2NlZWQgPSBmYWxzZTtcblxuICAvL1xuICAvL1xuICAvLyBsZXQgcHJvY2VlZCA9IExpbmtPYmplY3QuY29udGV4dCAmJiAvY2xpY2t8Y2xpY2tcXHNoZXJlL2cudGVzdChMaW5rT2JqZWN0LmNvbnRleHQpO1xuXG5cblxuXG4gIHJldHVybiB7XG4gICAgLy8gaWQ6IFwiXCIsXG4gICAgdGl0bGU6IFwiQ29uc2lkZXIgdGhlIGxhbmd1YWdlIG9mIHRoZSBDVEFcIixcbiAgICBkZXNjcmlwdGlvbjogc2NvcmUudG9TdHJpbmcoKSxcbiAgICB0eXBlOiBFcnJvclR5cGUuV2FybixcbiAgICBzZXZlcml0eTogRXJyb3JTZXZlcml0eS5Mb3csXG4gICAgcmVzb3VyY2U6IFwiaHR0cHM6Ly93d3cuY2FtcGFpZ25tb25pdG9yLmNvbS9yZXNvdXJjZXMvZ3VpZGVzLzEwLXRpcHMtaW1wcm92ZS1lbWFpbC1jYWxscy1hY3Rpb24vXCIsXG4gICAgY2FuQ29udGludWU6IHRydWUsXG4gICAgLy8gaHR0cHM6Ly93d3cuY2FtcGFpZ25tb25pdG9yLmNvbS9ibG9nL2VtYWlsLW1hcmtldGluZy8yMDE2LzAzLzc1LWNhbGwtdG8tYWN0aW9ucy10by11c2UtaW4tZW1haWwtbWFya2V0aW5nLWNhbXBhaWducy9cbiAgICAvLyBjdGE6IHtcbiAgICAvLyAgIGxhYmVsOiBcIlJlbW92ZSBwYXJhbWV0ZXJcIixcbiAgICAvLyAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgLy8gICAgIExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy5kZWxldGUoXCJ2XCIpO1xuICAgIC8vICAgICBMaW5rT2JqZWN0LmlzTGlua0NvbXBsZXRlKCk7XG4gICAgLy8gICB9XG4gICAgLy8gfSxcbiAgICB3aGVuOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIHByb2NlZWRcbiAgICAgIH1cbiAgICB9O1xufV0pO1xuIiwiRU1MTWFrZXIuaW50ZWxsaWdlbmNlLm1vZHVsZShcImh5cGVybGlua1wiKS5yZWdpc3RlcihcImh5cGVybGluay1oYXMtc3BhY2VzXCIsW1xuICBcIkxpbmtPYmplY3RcIixmdW5jdGlvbihMaW5rT2JqZWN0KXtcblxuXG4gIHJldHVybiB7XG4gICAgLy8gaWQ6IFwiXCIsXG4gICAgdGl0bGU6IFwiVGhpcyBsaW5rIGhhcyBzcGFjZXNcIixcbiAgICBkZXNjcmlwdGlvbjpcIlN0dWZmIGxpa2UgdGhpcyBicmVha3MuIEZpeCBpdCBub3cuXCIsXG4gICAgdHlwZTogRXJyb3JUeXBlLkZpeCxcbiAgICBzZXZlcml0eTogRXJyb3JTZXZlcml0eS5IaWdoLFxuICAgIC8vIHJlc291cmNlOiBcIlwiLFxuICAgIGNhbkNvbnRpbnVlOiBmYWxzZSxcbiAgICBjdGE6IHtcbiAgICAgIGxhYmVsOiBcIlJlbW92ZSBzcGFjZXNcIixcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgIExpbmtPYmplY3QubmV3LnVybCA9IExpbmtPYmplY3QubmV3LnVybC5yZXBsYWNlKC9cXHMvZywgXCIlMjBcIik7XG4gICAgICAgIExpbmtPYmplY3QuaXNMaW5rQ29tcGxldGUoKTtcbiAgICAgICAgd2luZG93LmdhKCdzZW5kJywgJ2V2ZW50JywgXCJTdWdnZXN0aW9uXCIsIFwiUmVtb3ZlIHNwYWNlc1wiKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gTGlua09iamVjdC5uZXcuY29udGFpbnMoXCIgXCIpO1xuICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFwiaHlwZXJsaW5rLWlzLWljc1wiLFtcbiAgXCJMaW5rT2JqZWN0XCIsIFwiSW50ZWxsaWdlbmNlTW9uaXRvclwiLFwiRU1MV29ya3NwYWNlXCIsIGZ1bmN0aW9uKExpbmtPYmplY3QsSW50ZWxsaWdlbmNlTW9uaXRvcixFTUxXb3Jrc3BhY2Upe1xuXG5cbiAgcmV0dXJuIHtcbiAgICBpZDogXCJjb25mcmltLWNhbGVuZGFyLWZpbGUtaXMtY29ycmVjdFwiLFxuICAgIHRpdGxlOiBcIkNvbmZpcm0gY29ycmVjdCBkZXRhaWxzIC0gQ2FsZW5kYXIgZmlsZVwiLFxuICAgIGRlc2NyaXB0aW9uOlwiQ29uZmlybSB0aGF0IGRhdGUsIHRpbWUsIGxvY2F0aW9uLCB0aW1lem9uZSBhbmQgZGVzY3JpcHRpb24gYXJlIGNvcnJlY3QuXCIsXG4gICAgdHlwZTogRXJyb3JUeXBlLlFBLFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkhpZ2gsXG4gICAgcmVzb3VyY2U6IExpbmtPYmplY3QubmV3LnVybCxcbiAgICByZXNvdXJjZVRleHQ6IFwiT3BlbiBmaWxlXCIsXG4gICAgY2FuQ29udGludWU6IGZhbHNlLFxuICAgIGN0YToge1xuICAgICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgSW50ZWxsaWdlbmNlTW9uaXRvci5vdmVycmlkZGVuLnB1c2goXCJjb25mcmltLWNhbGVuZGFyLWZpbGUtaXMtY29ycmVjdFwiKTtcbiAgICAgICAgTGlua09iamVjdC5pc0xpbmtDb21wbGV0ZSgpO1xuICAgICAgICBFTUxXb3Jrc3BhY2UuaW50ZWxsaWdlbmNlLmV2YWx1YXRlUnVsZXMoKTtcblxuICAgICAgfVxuICAgIH0sXG4gICAgd2hlbjogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiAvKFxcLmljc3xcXC52Y3MpJC9nLnRlc3QoTGlua09iamVjdC5uZXcudXJsKTtcbiAgICAgIH1cbiAgICB9O1xufV0pO1xuIiwiRU1MTWFrZXIuaW50ZWxsaWdlbmNlLm1vZHVsZShcImh5cGVybGlua1wiKS5yZWdpc3RlcihcbiAgXCJoeXBlcmxpbmstbGFuZGluZy1wYWdlLXByZWZlcnJlZFwiLFtcbiAgXCJMaW5rT2JqZWN0XCIsZnVuY3Rpb24oTGlua09iamVjdCl7XG5sZXQgcHJvY2VlZCA9IEdsb2JhbFZhcnMubGFuZGluZ1BhZ2VQcmVmZXJyZWQudGVzdChMaW5rT2JqZWN0Lm5ldy51cmwpO1xuaWYocHJvY2VlZCl7XG4gIHZhciBtYXRjaCA9IExpbmtPYmplY3QubmV3LnVybC5tYXRjaChHbG9iYWxWYXJzLmxhbmRpbmdQYWdlUHJlZmVycmVkKTtcbiAgaWYobWF0Y2gubGVuZ3RoPjApe1xuICAgIHZhciBleHQgPSBtYXRjaFswXS50b1VwcGVyQ2FzZSgpLnN1YnN0cigxLG1hdGNoWzBdLmxlbmd0aCk7XG4gIH1cblxufSBlbHNlIHtcblxufVxuXG4gIHJldHVybiB7XG4gICAgLy8gaWQ6IFwiXCIsXG4gICAgdGl0bGU6IFwiTGFuZGluZyBwYWdlIHByZWZlcnJlZFwiLFxuICAgIGRlc2NyaXB0aW9uOltcIldoZW4geW91IGRpcmVjdCBlbWFpbCBcIixcbiAgICBcInRyYWZmaWMgdG8gXCIsICgvXlthZWlvdUFFSU9VXS9naS50ZXN0KGV4dCkgPyBcImFuIFwiIDogXCJhIFwiKSxcbiAgICBleHQsXCIsIGl0J3MgZ2VuZXJhbGx5IGEgZ29vZCBpZGVhIHRvIHNlcnZlIHRoZSBcIixleHQsXCIgb25cIixcbiAgICBcIiBhIGxhbmRpbmcgcGFnZSB3aXRoIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGFzc2V0LiBUaGlzIHdpbGwgYWxzbyBcIixcbiAgICBcImdpdmUgeW91IG1vcmUgYW5hbHl0aWNzIGRhdGEsIGxpa2Ugc2Vzc2lvbi92aXNpdCBkdXJhdGlvbiBhbmQgcHJvbW90ZSBcIixcbiAgICBcImJyb3dzaW5nIG90aGVyIGNvbnRlbnQuXCJdLmpvaW4oXCJcIiksXG4gICAgdHlwZTogRXJyb3JUeXBlLkJlc3RQcmFjdGljZSxcbiAgICBzZXZlcml0eTogRXJyb3JTZXZlcml0eS5IaWdoLFxuICAgIC8vIHJlc291cmNlOiBcIlwiLFxuICAgIGNhbkNvbnRpbnVlOiB0cnVlLFxuICAgIC8vIGN0YToge1xuICAgIC8vICAgbGFiZWw6IFwiUmVtb3ZlIHBhcmFtZXRlclwiLFxuICAgIC8vICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAvLyAgICAgTGlua09iamVjdC5uZXcuc2VhcmNoUGFyYW1zLmRlbGV0ZShcInZcIik7XG4gICAgLy8gICAgIExpbmtPYmplY3QuaXNMaW5rQ29tcGxldGUoKTtcbiAgICAvLyAgIH1cbiAgICAvLyB9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gcHJvY2VlZFxuICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFxuICBcImh5cGVybGluay1uby1zaG9ydGxpbmtzXCIsW1xuICBcIkxpbmtPYmplY3RcIixmdW5jdGlvbihMaW5rT2JqZWN0KXtcblxuXG4gIHJldHVybiB7XG4gICAgLy8gaWQ6IFwiXCIsXG4gICAgdGl0bGU6IFwiRG9uJ3QgdXNlIHNob3J0bGlua3Mgb3IgdmFuaXR5IFVSTHMgaW4gZW1haWxzXCIsXG4gICAgZGVzY3JpcHRpb246XCJBbHdheXMgdXNlIHRoZSBsb25nIGxpbmsuIEFkZGluZyBxdWVyeSBzdHJpbmcgcGFyYW1ldGVyIHRvIGEgdmFuaXR5XFxcbiAgICAgdXJsIGluc2lkZSBhbiBlbWFpbCB3aWxsIG5vdCB0cmFjayBhcHByb3ByaWF0ZWx5LlwiLFxuICAgIHR5cGU6IChMaW5rT2JqZWN0Lm5ldy5jb250YWlucyhcIm9wdHVtLmNvXCIpKSA/IEVycm9yVHlwZS5GaXggOiBFcnJvclR5cGUuQmVzdFByYWN0aWNlLFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkhpZ2gsXG4gICAgLy8gcmVzb3VyY2U6IFwiXCIsXG4gICAgY2FuQ29udGludWU6IChMaW5rT2JqZWN0Lm5ldy5jb250YWlucyhcIm9wdHVtLmNvXCIpKSA/IGZhbHNlIDogdHJ1ZSxcbiAgICAvLyBjdGE6IHtcbiAgICAvLyAgIGxhYmVsOiBcIlJlbW92ZSBwYXJhbWV0ZXJcIixcbiAgICAvLyAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgLy8gICAgIExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy5kZWxldGUoXCJ2XCIpO1xuICAgIC8vICAgICBMaW5rT2JqZWN0LmlzTGlua0NvbXBsZXRlKCk7XG4gICAgLy8gICB9XG4gICAgLy8gfSxcbiAgICB3aGVuOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIC8uY29tPyhcXC5bYS16XXsyLDN9KT9cXC8oW2EtekEtWjAtOVxcLV0rKVxcLyooXFw/LiopPyQvLnRlc3QoTGlua09iamVjdC5uZXcudXJsLnRyaW0oKSlcbiAgICAgICYmICFMaW5rT2JqZWN0Lm5ldy5jb250YWlucygnaW5mby5vcHR1bScpXG4gICAgICAmJiAhLyh0d2l0dGVyfGxpbmtlZGlufGZhY2Vib29rfHlvdXR1YmUpXFwuY29tPy8udGVzdChMaW5rT2JqZWN0Lm5ldy51cmwpXG4gICAgICB9XG4gICAgfTtcbn1dKTtcbiIsIkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJoeXBlcmxpbmtcIikucmVnaXN0ZXIoXG4gIFwiaHlwZXJsaW5rLW9mdHMtZG9udC11c2VcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuXG5cblxucmV0dXJuIHtcbiAgLy8gaWQ6IFwiXCIsXG4gIHRpdGxlOiBcIldlIGRvbid0IGxpbmsgdG8gT0ZUcyBpbiBlbWFpbHMgd2Ugc2VuZC5cIixcbiAgZGVzY3JpcHRpb246XCJZb3Ugc2hvdWxkIG5vdCBiZSBzZW5kaW5nIE9GVHMgdG8gZXh0ZXJuYWwgY29udGFjdHMuXFxcbiAgICBPRlRzIG9ubHkgd29yayB3aXRoIE91dGxvb2sgb24gUENzLCBhbmQgdGhhdCBpcyBsZXNzXFxcbiAgICAgdGhhbiBoYWxmIG9mIHRoZSBwb3B1bGF0aW9uIG9mIGVtYWlsIGNsaWVudHMgdGhlc2UgZGF5cy5cIixcbiAgdHlwZTogRXJyb3JUeXBlLkJlc3RQcmFjdGljZSxcbiAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHkuSGlnaCxcbiAgLy8gcmVzb3VyY2U6IFwiXCIsXG4gIGNhbkNvbnRpbnVlOiB0cnVlLFxuICAvLyBjdGE6IHtcbiAgLy8gICBsYWJlbDogXCJSZW1vdmUgcGFyYW1ldGVyXCIsXG4gIC8vICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgLy8gICAgIExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy5kZWxldGUoXCJ2XCIpO1xuICAvLyAgICAgTGlua09iamVjdC5pc0xpbmtDb21wbGV0ZSgpO1xuICAvLyAgIH1cbiAgLy8gfSxcbiAgd2hlbjogZnVuY3Rpb24oKXtcbiAgICBsZXQgcHJvY2VlZCA9IExpbmtPYmplY3QubmV3LnVybC5pbmRleE9mKFwiLm9mdFwiKT4tMTtcbiAgICByZXR1cm4gcHJvY2VlZFxuICAgIH1cbiAgfTtcbn1dKTtcbiIsIkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJoeXBlcmxpbmtcIikucmVnaXN0ZXIoXG4gIFwiaHlwZXJsaW5rLW9mdHMtaW1wbGVtZW50LWZ0YWNcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuXG5cbnJldHVybiB7XG4gIC8vIGlkOiBcIlwiLFxuICB0aXRsZTogXCJGb3J3YXJkIHRvIGEgY29sbGVhZ3VlP1wiLFxuICBkZXNjcmlwdGlvbjpcIklmIHlvdSBhcmUgdHJ5aW5nIHRvIGRvIGEgRm9yd2FyZCB0byBhIENvbGxlYWd1ZSAoRlRBQylcXFxuICAgZmVhdHVyZSwgZm9yZ2V0IGRvaW5nIHRoYXQgd2l0aCBhbiBPRlQuIFlvdSBjYW4gYWNoaWV2ZVxcXG4gICAgdGhlIHNhbWUgZWZmZWN0IGJ5IHVzaW5nIGEgbWFpbHRvIGxpbmsuIDxicj48YnI+PGVtPk5PVEU6XFxcbiAgICAgWW91IGNhbiBsZWF2ZSB0aGUgZW1haWwgYWRkcmVzcyBmaWVsZCBibGFuayBmb3IgdGhpcyBvbmUuXFxcbiAgICAgIFdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoZSBsaW5rIHRoZSBlbWFpbCBmaWVsZCB3aWxsIGJlIGVtcHR5LFxcXG4gICAgICAgc28gaGUvc2hlIGNhbiBhZGQgdGhlaXIgb3duIHJlY2lwaWVudHMuPC9lbT5cIixcbiAgdHlwZTogRXJyb3JUeXBlLlN1Z2dlc3Rpb24sXG4gIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkxvdyxcbiAgLy8gcmVzb3VyY2U6IFwiXCIsXG4gIGNhbkNvbnRpbnVlOiB0cnVlLFxuICBjdGE6IHtcbiAgICBsYWJlbDogXCI8aSBjbGFzcz1cXFwid2l6YXJkIGljb25cXFwiPjwvaT4gVHJ5IGl0P1wiLFxuICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgICBMaW5rT2JqZWN0Lm1haWx0by5lbWFpbCA9IFwiXCI7XG4gICAgICBMaW5rT2JqZWN0Lm1haWx0by5zdWJqZWN0ID0gXCJJIHdhbnRlZCB5b3UgdG8gc2VlIHRoaXNcIjtcbiAgICAgIExpbmtPYmplY3QubWFpbHRvLmJvZHkgPSBcIkNoZWNrIG91dCB0aGlzIGxpbmtcXG5cXG5odHRwczovL3d3dy55b3VybGlua2dvZXNoZXJlLmNvbVwiO1xuICAgICAgTGlua09iamVjdC5tYWlsdG8uY29tcG9zZUVtYWlsKCk7XG4gICAgICBMaW5rT2JqZWN0Lm1haWx0by5pbml0RW1haWxFZGl0b3IoKTtcbiAgICAgIExpbmtPYmplY3QubWFpbHRvLm9wZW5FZGl0b3IoKTtcbiAgICAgIExpbmtPYmplY3QuaXNMaW5rQ29tcGxldGUoKTtcbiAgICAgIHdpbmRvdy5nYSgnc2VuZCcsICdldmVudCcsIFwiU3VnZ2VzdGlvblwiLCBcIlVzZSBGVEFDXCIsIFwiVXNlIEZUQUNcIik7XG4gICAgfVxuICB9LFxuICB3aGVuOiBmdW5jdGlvbigpe1xuICAgIHJldHVybiBMaW5rT2JqZWN0Lm5ldy51cmwuaW5kZXhPZihcIi5vZnRcIik+LTFcbiAgICB9XG4gIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFxuICBcImh5cGVybGluay1yZWxhdGl2ZS1wYXRoXCIsW1xuICBcIkxpbmtPYmplY3RcIixmdW5jdGlvbihMaW5rT2JqZWN0KXtcblxuXG4gIHJldHVybiB7XG4gICAgLy8gaWQ6IFwiXCIsXG4gICAgdGl0bGU6IFwiVGhpcyBVUkwgaXMgbm90IGNvcnJlY3QuXCIsXG4gICAgZGVzY3JpcHRpb246XCIvY29udGVudC9vcHR1bTMvZW4vIGlzIG9ubHkgZm9yIHVzZSBpbiBhdXRob3IgaW4gQUVNLCBub3Qgb24gdGhlIGxpdmUgc2l0ZS5cIixcbiAgICB0eXBlOiBFcnJvclR5cGUuRml4LFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkhpZ2gsXG4gICAgLy8gcmVzb3VyY2U6IFwiXCIsXG4gICAgY2FuQ29udGludWU6IGZhbHNlLFxuICAgIC8vIGN0YToge1xuICAgIC8vICAgbGFiZWw6IFwiUmVtb3ZlIHBhcmFtZXRlclwiLFxuICAgIC8vICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAvLyAgICAgTGlua09iamVjdC5uZXcuc2VhcmNoUGFyYW1zLmRlbGV0ZShcInZcIik7XG4gICAgLy8gICAgIExpbmtPYmplY3QuaXNMaW5rQ29tcGxldGUoKTtcbiAgICAvLyAgIH1cbiAgICAvLyB9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gL2h0dHAoLiopXFwvY29udGVudFxcL29wdHVtKC4qKVxcLmh0bWwvZ2kudGVzdChMaW5rT2JqZWN0Lm5ldy51cmwpXG4gICAgICB9XG4gICAgfTtcbn1dKTtcbiIsIkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJoeXBlcmxpbmtcIikucmVnaXN0ZXIoXG4gIFwiaHlwZXJsaW5rLXN0eWxlLW1hdHRlcnNcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuXG5cbiAgcmV0dXJuIHtcbiAgICAvLyBpZDogXCJcIixcbiAgICB0aXRsZTogXCJTdHlsZSBtYXR0ZXJzXCIsXG4gICAgZGVzY3JpcHRpb246XCJZb3Ugc2hvdWxkIG5vdCBwdXQgcHVuY3R1YXRpb24gaW5zaWRlIG9mIGEgbGluayB1bmxlc3MgaXQgaXMgYSBidXR0b24sIGFuZCBldmVuIHRoZW4gaXQncyBhIGxpdHRsZSB3ZWlyZC5cIixcbiAgICB0eXBlOiBFcnJvclR5cGUuQmVzdFByYWN0aWNlLFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5Lk1lZGl1bSxcbiAgICAvLyByZXNvdXJjZTogXCJcIixcbiAgICBjYW5Db250aW51ZTogdHJ1ZSxcbiAgICBjdGE6IHtcbiAgICAgIGxhYmVsOiAnTW92ZSB0aGUgcHVuY3R1YXRpb24nLFxuICAgICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgTGlua09iamVjdC5jb250ZXh0ID0gTGlua09iamVjdC5jb250ZXh0LnJlcGxhY2UoR2xvYmFsVmFycy5saW5rRW5jYXBzdWxhdGVkUHVuY3R1YXRpb24sIFwiPC9hPiQxXCIpO1xuICAgICAgICBMaW5rT2JqZWN0LmlzTGlua0NvbXBsZXRlKCk7XG4gICAgICAgIHdpbmRvdy5nYSgnc2VuZCcsICdldmVudCcsIFwiU3VnZ2VzdGlvblwiLCBcIk1vdmUgcHVuY3R1YXRpb25cIik7XG4gICAgICB9XG4gICAgfSxcbiAgICB3aGVuOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIEdsb2JhbFZhcnMubGlua0VuY2Fwc3VsYXRlZFB1bmN0dWF0aW9uLnRlc3QoTGlua09iamVjdC5jb250ZXh0KVxuICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFxuICBcImh5cGVybGluay10cmFja2luZy1hZGQtYWxsXCIsW1xuICBcIkxpbmtPYmplY3RcIixmdW5jdGlvbihMaW5rT2JqZWN0KXtcbiAgICB2YXIgYWZmZWN0ZWQgPSBmYWxzZTtcbiAgICBpZihMaW5rT2JqZWN0LnJlcXVpcmVzVHJhY2tpbmdDb2RlKCkgJiYgTGlua09iamVjdC5oYXNUcmFja2luZ0NvZGUoKSl7XG4gICAgICBMaW5rT2JqZWN0Ll9zdXBlci5tYXBMaW5rT2JqZWN0cyhmdW5jdGlvbihMTyl7XG4gICAgICAgIGlmKExPLnJlcXVpcmVzVHJhY2tpbmdDb2RlKCkgJiYgIUxPLmhhc1RyYWNraW5nQ29kZSgpKXtcbiAgICAgICAgICBhZmZlY3RlZD10cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgcmV0dXJuIHtcbiAgICAvLyBpZDogXCJcIixcbiAgICB0aXRsZTogXCJUcmFja2luZyBjb2RlIC0gQXBwbHkgdG8gYWxsIGxpbmtzP1wiLFxuICAgIGRlc2NyaXB0aW9uOlwiSSBub3RpY2VkIHlvdSBhZGRlZCBhIHRyYWNraW5nIGNvZGUgdG8gdGhpcyBsaW5rLCBncmVhdCBqb2IuXFxcbiAgICAgSWYgeW91IHdhbnQgSSBjYW4gYWRkIHRoZSBzYW1lIHRyYWNraW5nIGNvZGUgdG8gdGhlIG90aGVyIGxpbmtzIGluIHRoaXMgZW1haWwgXFxcbiAgICAgd2hpY2ggcmVxdWlyZSB0cmFja2luZyBjb2Rlcy5cIixcbiAgICB0eXBlOiBFcnJvclR5cGUuU3VnZ2VzdGlvbixcbiAgICBzZXZlcml0eTogRXJyb3JTZXZlcml0eS5Mb3csXG4gICAgLy8gcmVzb3VyY2U6IFwiXCIsXG4gICAgY2FuQ29udGludWU6IHRydWUsXG4gICAgY3RhOiB7XG4gICAgICBsYWJlbDogXCI8aSBjbGFzcz1cXFwid2l6YXJkIGljb25cXFwiPjwvaT4gVXBkYXRlIGFsbCBsaW5rc1wiLFxuICAgICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHRyYWNraW5nQ29kZSA9IFwiXCI7XG4gICAgICAgIExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy5lbnRyaWVzLmZvckVhY2goZnVuY3Rpb24oc3RyUGFyYW1ldGVyKXtcbiAgICAgICAgICBpZihMaW5rT2JqZWN0Lmhhc1RyYWNraW5nQ29kZShzdHJQYXJhbWV0ZXIpKXtcbiAgICAgICAgICAgIHRyYWNraW5nQ29kZSA9IHN0clBhcmFtZXRlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBMaW5rT2JqZWN0Ll9zdXBlci5tYXBMaW5rT2JqZWN0cyhmdW5jdGlvbihMTyl7XG4gICAgICAgICAgaWYoTE8ucmVxdWlyZXNUcmFja2luZ0NvZGUoKSAmJiAhTE8uaGFzVHJhY2tpbmdDb2RlKCkpe1xuICAgICAgICAgICAgTE8ubmV3LnNlYXJjaFBhcmFtcy5hcHBlbmQodHJhY2tpbmdDb2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBMaW5rT2JqZWN0Ll9zdXBlci5tYXBMaW5rT2JqZWN0cyhmdW5jdGlvbihMTyl7IExPLmlzTGlua0NvbXBsZXRlKCk7IH0pO1xuICAgICAgICB3aW5kb3cuZ2EoJ3NlbmQnLCAnZXZlbnQnLCBcIlN1Z2dlc3Rpb25cIiwgXCJDYXNjYWRlIFRyYWNraW5nIENvZGVcIiwgXCJDYXNjYWRlIFRyYWNraW5nIENvZGVcIik7XG4gICAgICB9XG4gICAgfSxcbiAgICB3aGVuOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIGFmZmVjdGVkXG4gICAgICB9XG4gICAgfTtcbn1dKTtcbiIsIkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJoeXBlcmxpbmtcIikucmVnaXN0ZXIoXG4gIFwiaHlwZXJsaW5rLXRyYWNraW5nLW5vdC1yZXF1aXJlZFwiLFtcbiAgXCJMaW5rT2JqZWN0XCIsZnVuY3Rpb24oTGlua09iamVjdCl7XG5cbiAgdmFyIHBocmFzZSA9IC9eW2FlaW91QUVJT1VdL2dpLnRlc3QoZXh0KSA/IFwiYW4gXCIgOiBcImEgXCIgKyBleHQ7XG5cbiAgdmFyIG1hdGNoID0gTGlua09iamVjdC5uZXcudXJsLm1hdGNoKEdsb2JhbFZhcnMuZXh0RG9lc05vdHJlcXVpcmVUcmFja2luZ0NvZGUpO1xuICBpZihtYXRjaCAmJiBtYXRjaC5sZW5ndGg+MCl7XG4gICAgdmFyIGV4dCA9IG1hdGNoWzBdLnRvVXBwZXJDYXNlKCkuc3Vic3RyKDEsbWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICB2YXIgcGhyYXNlID0gL15bYWVpb3VBRUlPVV0vZ2kudGVzdChleHQpID8gXCJhbiBcIiA6IFwiYSBcIiArIGV4dDtcbiAgICB9XG5cbiAgcmV0dXJuIHtcbiAgICAvLyBpZDogXCJcIixcbiAgICB0aXRsZTogXCJVbm5lY2Vzc2FyeSB0cmFja2luZyBsaW5rXCIsXG4gICAgZGVzY3JpcHRpb246YEl0IGxvb2tzIGxpa2UgeW91IGFkZGVkIGEgdHJhY2tpbmcgY29kZSB0byAke3BocmFzZX0gZmlsZS5cbiAgICBJbiBmYWN0LCB5b3UgY2FuIG9ubHkgdHJhY2sgd2ViIHBhZ2VzIHdpdGggdGhlc2UgdHJhY2tpbmcgY29kZXMuYCxcbiAgICB0eXBlOiBFcnJvclR5cGUuRml4LFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkhpZ2gsXG4gICAgLy8gcmVzb3VyY2U6IFwiXCIsXG4gICAgY2FuQ29udGludWU6IGZhbHNlLFxuICAgIGN0YToge1xuICAgICAgbGFiZWw6IFwiPGkgY2xhc3M9XFxcIndpemFyZCBpY29uXFxcIj48L2k+Rml4IGl0IG5vd1wiLFxuICAgICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaTxMaW5rT2JqZWN0Lm5ldy5zZWFyY2hQYXJhbXMuZW50cmllcy5sZW5ndGg7aSsrKXtcbiAgICAgICAgICBpZigvW2Etel17MSw0fT0oLio/Oil7Myw5fS9pZy50ZXN0KExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy5lbnRyaWVzW2ldKSl7XG4gICAgICAgICAgICBMaW5rT2JqZWN0Lm5ldy5zZWFyY2hQYXJhbXMuZGVsZXRlQXRJbmRleChpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgd2luZG93LmdhKCdzZW5kJywgJ2V2ZW50JywgXCJTdWdnZXN0aW9uXCIsIFwiVW5uZWNlc3NhcnkgdHJhY2tpbmcgY29kZVwiLCBcIlJlbW92ZSBUcmFja2luZyBDb2RlXCIpO1xuICAgICAgICB9XG4gICAgICAgIExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy51cGRhdGVFbnRyaWVzKCk7XG4gICAgICAgIExpbmtPYmplY3QuaXNMaW5rQ29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gR2xvYmFsVmFycy5leHREb2VzTm90cmVxdWlyZVRyYWNraW5nQ29kZS50ZXN0KExpbmtPYmplY3QubmV3LnVybCkgJiYgTGlua09iamVjdC5oYXNUcmFja2luZ0NvZGUoKVxuICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFxuICBcImh5cGVybGluay10cmFja2luZy1yZXF1aXJlZFwiLFtcbiAgXCJMaW5rT2JqZWN0XCIsZnVuY3Rpb24oTGlua09iamVjdCl7XG5cblxuICByZXR1cm4ge1xuICAgIGlkOiBcIm9wdHVtLWJ1ZHVybC10cmFja2luZy1jb2RlLXJlcXVpcmVkXCIsXG4gICAgdGl0bGU6IFwiVGhpcyBVUkwgbmVlZHMgYSB0cmFja2luZyBjb2RlLlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkNyZWF0ZSBhbmQgYWRkIGEgdHJhY2tpbmcgY29kZSB0byBtYWtlIHRoaXMgbWVzc2FnZSBnbyBhd2F5LlwiLFxuICAgIHR5cGU6IEVycm9yVHlwZS5GaXgsXG4gICAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHkuSGlnaCxcbiAgICAvLyByZXNvdXJjZTogXCJcIixcbiAgICBjYW5Db250aW51ZTogZmFsc2UsXG4gICAgY3RhOiB7XG4gICAgICBsYWJlbDogJzxpIGNsYXNzPVwidW5sb2NrIGFsdGVybmF0ZSBpY29uXCI+PC9pPiBEbyBub3QgdHJhY2sgbGluaycsXG4gICAgICBoYW5kbGVyOiBmdW5jdGlvbigpe1xuICAgICAgICBMaW5rT2JqZWN0Lm92ZXJyaWRlVHJhY2tpbmdSZXF1aXJlbWVudHMoKTtcbiAgICAgICAgTGlua09iamVjdC5pc0xpbmtDb21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgd2hlbjogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiAoTGlua09iamVjdC53aGl0ZUxpc3RlZFVybCE9PUxpbmtPYmplY3QubmV3LnVybClcbiAgICAgICYmIExpbmtPYmplY3QubmVlZHNUcmFja2luZ0NvZGUoKVxuICAgICAgJiYhTGlua09iamVjdC5uZXcuY29udGFpbnMoXCJvcHR1bS5jby9cIilcbiAgICAgIH1cbiAgICB9O1xufV0pO1xuIiwiRU1MTWFrZXIuaW50ZWxsaWdlbmNlLm1vZHVsZShcImh5cGVybGlua1wiKS5yZWdpc3RlcihcbiAgXCJoeXBlcmxpbmstdHJhY2tpbmctcy1jb2RlXCIsW1xuICBcIkxpbmtPYmplY3RcIixmdW5jdGlvbihMaW5rT2JqZWN0KXtcblxuXG4gIHJldHVybiB7XG4gICAgLy8gaWQ6IFwiXCIsXG4gICAgdGl0bGU6IFwiUG9zc2libGUgZm9ybSAtIFRyYWNraW5nIE1hcmtldGluZyBDaGFubmVsXCIsXG4gICAgZGVzY3JpcHRpb246IGBQYWdlcyBpbiB0aGlzIGRpcmVjdG9yeSBzb21ldGltZXMgaGF2ZSBmb3JtcyBvbiB0aGVtLiBJbiBvcmRlciB0byB0cmFjayBtYXJrZXRpbmcgY2hhbm5lbCBpblxuICAgICAgdGhlIGZvcm0gc3VibWlzc2lvbiBkYXRhIHdlJ2xsIG5lZWQgdG8gYWRkIGFuIHMtY29kZSB0byB0aGUgZW5kIG9mIHRoaXMgVVJMLiBMdWNreSBmb3IgeW91LCBJJ20gcHJvZ3JhbW1lZCB0byBhdXRvbWF0aWNhbGx5IGFkZCBvbmUgaWYgdGhlcmUgaXNuJ3QgYW55LiBCdXQgaGVyZSBpcyB5b3VyIGNoYW5jZSB0byBhZGQgeW91ciBvd24gaWYgdGhlIHZhbHVlIGlzIGFueXRoaW5nIG90aGVyIHRoYW4gPGNvZGU+cz1lbWFpbDwvY29kZT5gLFxuICAgIHR5cGU6IEVycm9yVHlwZS5TdWdnZXN0aW9uLFxuICAgIHN1Z2dlc3Rpb246IFwiQUREIHM9ZW1haWxcIixcbiAgICBzZXZlcml0eTogRXJyb3JTZXZlcml0eS5Mb3csXG4gICAgLy8gcmVzb3VyY2U6IFwiXCIsXG4gICAgLy8gY2FuQ29udGludWU6IHRydWUsXG4gICAgY3RhOiB7XG4gICAgICBsYWJlbDogXCI8aSBjbGFzcz1cXFwid2l6YXJkIGljb25cXFwiPjwvaT5BZGQgUy1Db2RlXCIsXG4gICAgICBoYW5kbGVyOiBmdW5jdGlvbigpe1xuICAgICAgICBMaW5rT2JqZWN0Lm5ldy5zZWFyY2hQYXJhbXMuYXBwZW5kKFwicz1lbWFpbFwiKTtcbiAgICAgICAgTGlua09iamVjdC5pc0xpbmtDb21wbGV0ZSgpO1xuICAgICAgICB3aW5kb3cuZ2EoJ3NlbmQnLCAnZXZlbnQnLCBcIlN1Z2dlc3Rpb25cIiwgXCJBZGQgcy1jb2RlXCIsIFwicz1lbWFpbFwiKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG5cbiAgICAgIGxldCByZXF1aXJlc1MgPSBMaW5rT2JqZWN0LnJlcXVpcmVzU0NvZGUoKTtcbiAgICAgIGxldCBoYXNTID0gTGlua09iamVjdC5uZXcuc2VhcmNoUGFyYW1zLmhhcyhcInNcIik7XG4gICAgICBsZXQgcHJvY2VlZCA9IHJlcXVpcmVzUyAmJiAhaGFzUztcblxuICAgICAgcmV0dXJuIHByb2NlZWQgJiYgIWhhc1M7XG4gICAgICB9XG4gICAgfTtcbn1dKTtcbiIsIkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJoeXBlcmxpbmtcIikucmVnaXN0ZXIoXG4gIFwiaHlwZXJsaW5rLXYtZXF1YWxzXCIsW1xuICBcIkxpbmtPYmplY3RcIixmdW5jdGlvbihMaW5rT2JqZWN0KXtcblxuXG4gIHJldHVybiB7XG4gICAgLy8gaWQ6IFwiXCIsXG4gICAgdGl0bGU6IFwiVj0gY2Fubm90IGJlIHVzZWQgaW4gZW1haWxzLlwiLFxuICAgIGRlc2NyaXB0aW9uOlwiVGhpcyBxdWVyeSBzdHJpbmcgcGFyYW1ldGVyIGlzIHJlc2VydmVkIGZvciB2YW5pdHkgdXJscywgYW5kIHNob3VsZCBuZXZlciBiZSB1c2VkIGluIGFuIGVtYWlsLlwiLFxuICAgIHR5cGU6IEVycm9yVHlwZS5GaXgsXG4gICAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHkuSGlnaCxcbiAgICAvLyByZXNvdXJjZTogXCJcIixcbiAgICBjYW5Db250aW51ZTogZmFsc2UsXG4gICAgY3RhOiB7XG4gICAgICBsYWJlbDogXCJSZW1vdmUgcGFyYW1ldGVyXCIsXG4gICAgICBoYW5kbGVyOiBmdW5jdGlvbigpe1xuICAgICAgICBMaW5rT2JqZWN0Lm5ldy5zZWFyY2hQYXJhbXMuZGVsZXRlKFwidlwiKTtcbiAgICAgICAgTGlua09iamVjdC5pc0xpbmtDb21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgd2hlbjogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBMaW5rT2JqZWN0Lm5ldy5zZWFyY2hQYXJhbXMuaGFzKFwidlwiKVxuICAgICAgfVxuICAgIH07XG59XSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
