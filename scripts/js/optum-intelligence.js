function __PreviewTextEvalFuncs(){}function __CustomPhoneNumberQA(){this.storedValues="eyJldmVudHNAb3B0dW0uY29tIjoiODAwLjc2NS42NzU5IiwiaW5mb0BvcHR1bS5jb20iOiI4NjYuMzg2LjM0MDQiLCJ2aWV3cG9pbnRzQG9wdHVtLmNvbSI6IjgwMC43NjUuNjcwNSIsImlxQG9wdHVtLmNvbSI6IjgwMC43NjUuNjcwNSIsImVtcG93ZXJAb3B0dW0uY29tIjoiODAwLjc2NS42ODA3Iiwib3B0dW0zNjBAb3B0dW0uY29tIjoiODY2LjIyMy40NzMwIiwiaW5mb3JtQG9wdHVtLmNvbSI6IjgwMC43NjUuNjc5MyIsImRpc2NvdmVyQG9wdHVtLmNvbSI6IjgwMC43NjUuNjYxOSIsImNvbm5lY3RlZEBvcHR1bS5jb20iOiI4NjYuMzA2LjEzMjEiLCJpbm5vdmF0ZUBvcHR1bS5jb20iOiI4MDAuNzY1LjYwOTIiLCJlbmdhZ2VAb3B0dW0uY29tIjoiODY2LjM4Ni4zNDA5IiwiaW5nZW51aXR5QG9wdHVtLmNvbSI6Ijg2Ni40MjcuNjgwNCIsImdsb2JhbEBvcHR1bS5jb20iOiI4NjYuMzIyLjA5NTgiLCJvcHR1bXJ4QG9wdHVtLmNvbSI6Ijg2Ni4zODYuMzQwNCJ9",this.data=JSON.parse(window.atob(this.storedValues))}__PreviewTextEvalFuncs.prototype.lowerToCapitalsRatio=function(e){var t=e.length-e.replace(/[A-Z]/g,"").length,i=e.length-e.replace(/[a-z]/g,"").length;return t/(i+t)},__PreviewTextEvalFuncs.prototype.evaluateParagraphText=function(e){return!(e.indexOf("web version")>-1)&&(""!=e&&(!(e.length<70)&&(e!==e.toUpperCase()&&(this.lowerToCapitalsRatio(e)<=.1||void 0))))};var PreviewTextEvalFuncs=new __PreviewTextEvalFuncs;EMLMaker.intelligence.module("email").register("email-has-preheader",["EMLWorkspace",function(e){function t(e){var t,i="",n=/\<p([^\>]|\s|.*)\>([^<].*)?\<\/p\>/gi,r=[];do t=n.exec(e),t&&r.push(t[0]);while(t);for(var o=0;o<r.length;o++){var a=document.createElement("div");a.innerHTML=r[o];var s=a.textContent||a.innerText||"";if(PreviewTextEvalFuncs.evaluateParagraphText(s)){i=s;break}}return i.split(".").shift()+"."}var i=!0,n={title:"",msg:"",type:ErrorType.BestPractice,severity:ErrorSeverity.Low,canContinue:!0,cta:{},suggestion:""},r=e.generateOutputCode("email",!0),o=/\<p.*class=\"preheader\"[^\>].*\>([^<].*)?\<\/p\>/gi,a=/\<p([^\>].*)class=\"preheader\"([^\>].*)\>/gi;if(a.test(r)){var s=r.match(o);if(s){var l=window.jQuery(s[0]),c=l.text();if(0==c.length){n.title="Preview text - Code incomplete",n.type=ErrorType.Fix,n.severity=ErrorSeverity.High,n.msg="Code is present but there is no text set. Consider adding some, or removing the preview text code block from the HTML if you plan on using the preview text feature in Eloqua.";var u=t(r);""!==u&&(n.suggestion=u,n.cta={label:"Fix now",handler:function(){e.workingCode=e.workingCode.replace(o,function(e){return e.replace("</p>",u+"</p>")}),e.intelligence.evaluateRules()}})}else n.title="Preview text - Found",n.msg="<em>Found:</em> "+l.text()}else{n.title="Preview text - Code might be broken",n.msg="Preview text looks like it might be broken.",n.type=ErrorType.Fix,n.severity=ErrorSeverity.High,n.canContinue=!1;var d=t(r);""!==d&&(n.msg=n.msg+"Consider fixing the code and updating this preview text to some content from the email.",n.suggestion=d,n.cta={label:"Fix now",handler:function(){e.workingCode=e.workingCode.replace(a,function(e){return e+d+"</p>"}),e.intelligence.evaluateRules()}})}i=!1}return{id:"email-has-preheader",title:n.title,description:n.msg,type:n.type,severity:n.severity,suggestion:n.suggestion,canContinue:n.canContinue,cta:n.cta?n.cta:{},when:function(){return!i}}}]);var CustomPhoneNumberQA=new __CustomPhoneNumberQA;EMLMaker.intelligence.module("email").register("email-qa-telelphone-numbers",["EMLWorkspace","IntelligenceMonitor",function(e,t){var i=e.generateOutputCode("email",!0),n=[],r=[],o=[];if(GlobalVars.EmailRegex.test(i)){var a;do a=GlobalVars.EmailRegexGlobal.exec(i),a&&n.indexOf(a[0])==-1&&n.push(a[0]);while(a);for(var s=0;s<n.length;s++)CustomPhoneNumberQA.data[n[s]]&&r.push(n[s]+' <i class="ui long right arrow icon"></i> '+CustomPhoneNumberQA.data[n[s]])}var o=[];if(GlobalVars.TelephoneRegex.test(i)){var a;do a=GlobalVars.TelephoneRegexGlobal.exec(i),a&&o.push(a[0]);while(a)}return{id:"confrim-telephone-numbers",title:"Confirm correct contact information - Telephone Number"+(o.length>1?"s":""),description:"<em>Found:</em> "+o.join(", "),type:ErrorType.QA,severity:ErrorSeverity.Medium,canContinue:!1,suggestion:0==r.length?"":r.join("<br>"),cta:{label:"",handler:function(){t.overridden.push("confrim-telephone-numbers"),e.intelligence.evaluateRules()}},when:function(){return o.length>0}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-click-here-ctas",["LinkObject",function(e){return{title:'"Click here" is a bad practice.',description:'"Click here" links aren\'t really descriptive\n    enough to be effective CTAs. Additionally, click implies that users\n    are using a mouse, which is more than half the time not the case when\n    you consider mobile devices and others reading for accessibility.',type:ErrorType.Warn,severity:ErrorSeverity.Low,resource:"https://www.campaignmonitor.com/blog/email-marketing/2016/03/75-call-to-actions-to-use-in-email-marketing-campaigns/",canContinue:!0,when:function(){return e.context&&/click|click\shere/g.test(e.context)}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-click-here-ctas",["LinkObject",function(e){var t=/\%|act|app|be\s|benefit|best|bird|book|brief|buy|change|claim|collection|coming|complete|connected|count|coupon|curious|deal|delay|don(\'|’)t|donate|download|e\-book|early|ebook|fall|favorites|feedback|find|follow|free|full|get|gift|give|hear|how|insight|keep|know|learn|leave|let|like|make|more|next|now|order|pay|prices|purchase|read|register|repeat|reserve|result|reveal|review|save|saving|season|seat|see|shop|sign|spot|spread|start|stay|survey|take|tickets|today|trial|upgrade|video|vip|want|watch|webinar|white\spaper/i,i=window.jQuery(e.context),n=t.test(i.text())&&i.text().length>45;return{title:"CTA might be too long.",description:"Instead, keep your calls to action short and sweet.\n    Readers prefer quick, direct action items, not lengthy sentences.",type:ErrorType.Warn,severity:ErrorSeverity.Low,resource:"https://www.campaignmonitor.com/blog/email-marketing/2016/03/75-call-to-actions-to-use-in-email-marketing-campaigns/",canContinue:!0,when:function(){return n}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-descriptive-ctas",["LinkObject",function(e){var t=/\%|act|app|be\s|benefit|best|bird|book|brief|buy|change|claim|collection|coming|complete|connected|count|coupon|curious|deal|delay|don(\'|’)t|donate|download|e\-book|early|ebook|fall|favorites|feedback|find|follow|free|full|get|gift|give|hear|how|insight|keep|know|learn|leave|let|like|make|more|next|now|order|pay|prices|purchase|read|register|repeat|reserve|result|reveal|review|save|saving|season|seat|see|shop|sign|spot|spread|start|stay|survey|take|tickets|today|trial|upgrade|video|vip|want|watch|webinar|white\spaper/i,i=/privacy|refund|protected|secure|certified|guaranteed|realistic|researched|proven|official|money-back|tested|lifetime|backed/i,n=/easy|simple|hassle\-free|help|complete|entire|total|thorough|pure|natural|plain|straightforward|uncomplicated|candid/i,r=/increase|create|share|discover|compare|take|show|tell|find|make|plan|learn|start|grow/i,o=/select|private|confidential|insider|vip|secret|exclusive|members|elite|invitation|secret|reserved|only|choice/i,a=/now|immediately|today|limited|shortly|soon|rapid|quick|flash|hurry|alert|fast|instant|urgent/i,s=/new|introducing|latest|special|alert|gift|free|freebie|best|prize|win|save|ultimate|try/i,l=window.jQuery(e.context),c=l.text(),u=[0,0,0,0,0,0];i.test(c)&&(console.log("security"),u[0]=1),n.test(c)&&(console.log("simplicity"),u[1]=1),r.test(c)&&(console.log("engagement"),u[2]=1),o.test(c)&&(console.log("exclusive"),u[3]=1),a.test(c)&&(console.log("urgency"),u[4]=1),s.test(c)&&(console.log("excitement"),u[5]=1);var d=t.test(l.text())&&l.text().length>45;return{title:"Consider the language of the CTA",description:"",type:ErrorType.Warn,severity:ErrorSeverity.Low,resource:"https://www.campaignmonitor.com/resources/guides/10-tips-improve-email-calls-action/",canContinue:!0,when:function(){return d}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-has-spaces",["LinkObject",function(e){return{title:"This link has spaces",description:"Stuff like this breaks. Fix it now.",type:ErrorType.Fix,severity:ErrorSeverity.High,canContinue:!1,cta:{label:"Remove spaces",handler:function(){e["new"].url=e["new"].url.replace(/\s/g,"%20"),e.isLinkComplete()}},when:function(){return e["new"].contains(" ")}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-is-ics",["LinkObject","IntelligenceMonitor","EMLWorkspace",function(e,t,i){return{id:"confrim-calendar-file-is-correct",title:"Confirm correct details - Calendar file",description:"Confirm that date, time, location, timezone and description are correct.",type:ErrorType.QA,severity:ErrorSeverity.High,resource:e["new"].url,resourceText:"Open file",canContinue:!1,cta:{handler:function(){t.overridden.push("confrim-calendar-file-is-correct"),e.isLinkComplete(),i.intelligence.evaluateRules()}},when:function(){return/(\.ics|\.vcs)$/g.test(e["new"].url)}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-landing-page-preferred",["LinkObject",function(e){var t=GlobalVars.landingPagePreferred.test(e["new"].url);if(t){var i=e["new"].url.match(GlobalVars.landingPagePreferred);if(i.length>0)var n=i[0].toUpperCase().substr(1,i[0].length)}return{title:"Landing page preferred",description:["When you direct email ","traffic to ",/^[aeiouAEIOU]/gi.test(n)?"an ":"a ",n,", it's generally a good idea to serve the ",n," on"," a landing page with more information about the asset. This will also ","give you more analytics data, like session/visit duration and promote ","browsing other content."].join(""),type:ErrorType.BestPractice,severity:ErrorSeverity.High,canContinue:!0,when:function(){return t}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-no-shortlinks",["LinkObject",function(e){return{title:"Don't use shortlinks or vanity URLs in emails",description:"Always use the long link. Adding query string parameter to a vanity     url inside an email will not track appropriately.",type:e["new"].contains("optum.co")?ErrorType.Fix:ErrorType.BestPractice,severity:ErrorSeverity.High,canContinue:!e["new"].contains("optum.co"),when:function(){return/.com?(\.[a-z]{2,3})?\/([a-zA-Z0-9\-]+)\/*(\?.*)?$/.test(e["new"].url.trim())&&!e["new"].contains("info.optum")&&!/(twitter|linkedin|facebook|youtube)\.com?/.test(e["new"].url)}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-ofts-dont-use",["LinkObject",function(e){return{title:"We don't link to OFTs in emails we send.",description:"You should not be sending OFTs to external contacts.    OFTs only work with Outlook on PCs, and that is less     than half of the population of email clients these days.",type:ErrorType.BestPractice,severity:ErrorSeverity.High,canContinue:!0,when:function(){var t=e["new"].url.indexOf(".oft")>-1;return t}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-ofts-implement-ftac",["LinkObject",function(e){return{title:"Forward to a colleague?",description:"If you are trying to do a Forward to a Colleague (FTAC)   feature, forget doing that with an OFT. You can achieve    the same effect by using a mailto link. <br><br><em>NOTE:     You can leave the email address field blank for this one.      When the user clicks the link the email field will be empty,       so he/she can add their own recipients.</em>",type:ErrorType.Suggestion,severity:ErrorSeverity.Low,canContinue:!0,cta:{label:'<i class="wizard icon"></i> Try it?',handler:function(){e.mailto.email="",e.mailto.subject="I wanted you to see this",e.mailto.body="Check out this link\n\nhttps://www.yourlinkgoeshere.com",e.mailto.composeEmail(),e.mailto.initEmailEditor(),e.mailto.openEditor(),e.isLinkComplete(),window.ga("send","event","Suggestion","Use FTAC","Use FTAC")}},when:function(){return e["new"].url.indexOf(".oft")>-1}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-relative-path",["LinkObject",function(e){return{title:"This URL is not correct.",description:"/content/optum3/en/ is only for use in author in AEM, not on the live site.",type:ErrorType.Fix,severity:ErrorSeverity.High,canContinue:!1,when:function(){return/http(.*)\/content\/optum(.*)\.html/gi.test(e["new"].url)}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-style-matters",["LinkObject",function(e){return{title:"Style matters",description:"You should not put punctuation inside of a link unless it is a button, and even then it's a little weird.",type:ErrorType.BestPractice,severity:ErrorSeverity.Medium,canContinue:!0,cta:{label:"Move the punctuation",handler:function(){e.context=e.context.replace(GlobalVars.linkEncapsulatedPunctuation,"</a>$1"),e.isLinkComplete()}},when:function(){return GlobalVars.linkEncapsulatedPunctuation.test(e.context)}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-tracking-add-all",["LinkObject",function(e){var t=!1;return e.requiresTrackingCode()&&e.hasTrackingCode()&&e._super.mapLinkObjects(function(e){e.requiresTrackingCode()&&!e.hasTrackingCode()&&(t=!0)}),{title:"Need a hand?",description:"I noticed you added a tracking code to this link, great job.     If you want I can add the same tracking code to the other links in this email      which require tracking codes.",type:ErrorType.Suggestion,severity:ErrorSeverity.Low,canContinue:!0,cta:{label:'<i class="wizard icon"></i> Update all links',handler:function(){var t="";e["new"].searchParams.entries.forEach(function(i){e.hasTrackingCode(i)&&(t=i)}),e._super.mapLinkObjects(function(e){e.requiresTrackingCode()&&!e.hasTrackingCode()&&e["new"].searchParams.append(t)}),e._super.mapLinkObjects(function(e){e.isLinkComplete()}),window.ga("send","event","Suggestion","Cascade Tracking Code","Cascade Tracking Code")}},when:function(){return t}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-tracking-not-required",["LinkObject",function(e){var t=/^[aeiouAEIOU]/gi.test(n)?"an ":"a "+n,i=e["new"].url.match(GlobalVars.extDoesNotrequireTrackingCode);if(i&&i.length>0)var n=i[0].toUpperCase().substr(1,i[0].length),t=/^[aeiouAEIOU]/gi.test(n)?"an ":"a "+n;return{title:"Unnecessary tracking link",description:"It looks like you added a tracking code to "+t+" file.\n    In fact, you can only track web pages with these tracking codes.",type:ErrorType.Fix,severity:ErrorSeverity.High,canContinue:!1,cta:{label:'<i class="wizard icon"></i>Fix it now',handler:function(){for(var t=0;t<e["new"].searchParams.entries.length;t++)/[a-z]{1,4}=(.*?:){3,9}/gi.test(e["new"].searchParams.entries[t])&&e["new"].searchParams.deleteAtIndex(t),window.ga("send","event","Suggestion","Unnecessary tracking code","Remove Tracking Code");e["new"].searchParams.updateEntries(),e.isLinkComplete()}},when:function(){return GlobalVars.extDoesNotrequireTrackingCode.test(e["new"].url)&&e.hasTrackingCode()}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-tracking-required",["LinkObject",function(e){return{id:"optum-budurl-tracking-code-required",title:"This URL needs a tracking code.",description:"Create and add one to make this message go away.",type:ErrorType.Fix,severity:ErrorSeverity.High,canContinue:!1,cta:{label:'<i class="unlock alternate icon"></i> Do not track link',handler:function(){e.overrideTrackingRequirements(),e.isLinkComplete()}},when:function(){return e.whiteListedUrl!==e["new"].url&&e.needsTrackingCode()&&!e["new"].contains("optum.co/")}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-tracking-s-code",["LinkObject",function(e){return{title:"Are you tracking channel source with your form?",description:"If this link directs to a page with a form, consider adding      an s-code to the URL so you can populate a form field with       a value from the query string to track the channel source        of the form submission.<br><br><em>NOTE: You can change         the value of the s-code to whatever you'd like, but we'll          add the <code>s=email</code> by default.</em>",type:ErrorType.Suggestion,severity:ErrorSeverity.Low,cta:{label:'<i class="wizard icon"></i>Add S-Code',handler:function(){e["new"].searchParams.append("s=email"),e.isLinkComplete(),window.ga("send","event","Suggestion","Add s-code","s=email")}},when:function(){var t=e.requiresSCode(),i=e["new"].searchParams.has("s"),n=t&&!i;return n&&!i}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-v-equals",["LinkObject",function(e){return{title:"V= cannot be used in emails.",description:"This query string parameter is reserved for vanity urls, and should never be used in an email.",type:ErrorType.Fix,severity:ErrorSeverity.High,canContinue:!1,cta:{label:"Remove parameter",handler:function(){e["new"].searchParams["delete"]("v"),e.isLinkComplete()}},when:function(){return e["new"].searchParams.has("v")}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtYWlsLWhhcy1wcmVoZWFkZXIudHMiLCJlbWFpbC1xYS10ZWxlbHBob25lLW51bWJlcnMudHMiLCJoeXBlcmxpbmstY2xpY2staGVyZS1jdGFzLnRzIiwiaHlwZXJsaW5rLWN0YS10b28tbG9uZy50cyIsImh5cGVybGluay1kZXNjcmlwdGl2ZS1jdGFzLnRzIiwiaHlwZXJsaW5rLWhhcy1zcGFjZXMudHMiLCJoeXBlcmxpbmstaXMtaWNzLnRzIiwiaHlwZXJsaW5rLWxhbmRpbmctcGFnZS1wcmVmZXJyZWQudHMiLCJoeXBlcmxpbmstbm8tc2hvcnRsaW5rcy50cyIsImh5cGVybGluay1vZnRzLWRvbnQtdXNlLnRzIiwiaHlwZXJsaW5rLW9mdHMtaW1wbGVtZW50LWZ0YWMudHMiLCJoeXBlcmxpbmstcmVsYXRpdmUtcGF0aC50cyIsImh5cGVybGluay1zdHlsZS1tYXR0ZXJzLnRzIiwiaHlwZXJsaW5rLXRyYWNraW5nLWFkZC1hbGwudHMiLCJoeXBlcmxpbmstdHJhY2tpbmctbm90LXJlcXVpcmVkLnRzIiwiaHlwZXJsaW5rLXRyYWNraW5nLXJlcXVpcmVkLnRzIiwiaHlwZXJsaW5rLXRyYWNraW5nLXMtY29kZS50cyIsImh5cGVybGluay12LWVxdWFscy50cyJdLCJuYW1lcyI6WyJfX1ByZXZpZXdUZXh0RXZhbEZ1bmNzIiwiX19DdXN0b21QaG9uZU51bWJlclFBIiwidGhpcyIsInN0b3JlZFZhbHVlcyIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJ3aW5kb3ciLCJhdG9iIiwicHJvdG90eXBlIiwibG93ZXJUb0NhcGl0YWxzUmF0aW8iLCJ0ZXh0IiwibnVtVXBwZXIiLCJsZW5ndGgiLCJyZXBsYWNlIiwibnVtTG93ZXIiLCJldmFsdWF0ZVBhcmFncmFwaFRleHQiLCJpbmRleE9mIiwidG9VcHBlckNhc2UiLCJQcmV2aWV3VGV4dEV2YWxGdW5jcyIsIkVNTE1ha2VyIiwiaW50ZWxsaWdlbmNlIiwibW9kdWxlIiwicmVnaXN0ZXIiLCJFTUxXb3Jrc3BhY2UiLCJmaW5kSHVtYW5SZWFkYWJsZVRleHQiLCJvdXRwdXRDb2RlIiwibSIsInJlc3VsdCIsInJlZ2V4MiIsInJlc3VsdHMiLCJleGVjIiwicHVzaCIsImkiLCJkaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImlubmVyVGV4dCIsInNwbGl0Iiwic2hpZnQiLCJwcm9jZWVkIiwib3V0cHV0IiwidGl0bGUiLCJtc2ciLCJ0eXBlIiwiRXJyb3JUeXBlIiwiQmVzdFByYWN0aWNlIiwic2V2ZXJpdHkiLCJFcnJvclNldmVyaXR5IiwiTG93IiwiY2FuQ29udGludWUiLCJjdGEiLCJzdWdnZXN0aW9uIiwiZ2VuZXJhdGVPdXRwdXRDb2RlIiwicmVnZXgiLCJyZWdleFMiLCJ0ZXN0IiwiZm91bmQiLCJtYXRjaCIsImpRdWVyeSIsIkZpeCIsIkhpZ2giLCJzdWdnZXN0aW9uXzEiLCJsYWJlbCIsImhhbmRsZXIiLCJ3b3JraW5nQ29kZSIsImV2YWx1YXRlUnVsZXMiLCJzdWdnZXN0aW9uXzIiLCJpZCIsImRlc2NyaXB0aW9uIiwid2hlbiIsIkN1c3RvbVBob25lTnVtYmVyUUEiLCJJbnRlbGxpZ2VuY2VNb25pdG9yIiwiZm91bmRQaG9uZXMiLCJzdWdnZXN0aW9ucyIsIkdsb2JhbFZhcnMiLCJFbWFpbFJlZ2V4IiwiRW1haWxSZWdleEdsb2JhbCIsIlRlbGVwaG9uZVJlZ2V4IiwiVGVsZXBob25lUmVnZXhHbG9iYWwiLCJqb2luIiwiUUEiLCJNZWRpdW0iLCJvdmVycmlkZGVuIiwiTGlua09iamVjdCIsIldhcm4iLCJyZXNvdXJjZSIsImNvbnRleHQiLCJhIiwic2VjdXJpdHkiLCJzaW1wbGljaXR5IiwiZW5nYWdlbWVudCIsImV4Y2x1c2l2ZSIsInVyZ2VuY3kiLCJleGNpdGVtZW50IiwiYyIsInNjb3JlIiwiY29uc29sZSIsImxvZyIsInVybCIsImlzTGlua0NvbXBsZXRlIiwiY29udGFpbnMiLCJyZXNvdXJjZVRleHQiLCJsYW5kaW5nUGFnZVByZWZlcnJlZCIsImV4dCIsInN1YnN0ciIsInRyaW0iLCJTdWdnZXN0aW9uIiwibWFpbHRvIiwiZW1haWwiLCJzdWJqZWN0IiwiYm9keSIsImNvbXBvc2VFbWFpbCIsImluaXRFbWFpbEVkaXRvciIsIm9wZW5FZGl0b3IiLCJnYSIsImxpbmtFbmNhcHN1bGF0ZWRQdW5jdHVhdGlvbiIsImFmZmVjdGVkIiwicmVxdWlyZXNUcmFja2luZ0NvZGUiLCJoYXNUcmFja2luZ0NvZGUiLCJfc3VwZXIiLCJtYXBMaW5rT2JqZWN0cyIsIkxPIiwidHJhY2tpbmdDb2RlIiwic2VhcmNoUGFyYW1zIiwiZW50cmllcyIsImZvckVhY2giLCJzdHJQYXJhbWV0ZXIiLCJhcHBlbmQiLCJwaHJhc2UiLCJleHREb2VzTm90cmVxdWlyZVRyYWNraW5nQ29kZSIsImRlbGV0ZUF0SW5kZXgiLCJ1cGRhdGVFbnRyaWVzIiwib3ZlcnJpZGVUcmFja2luZ1JlcXVpcmVtZW50cyIsIndoaXRlTGlzdGVkVXJsIiwibmVlZHNUcmFja2luZ0NvZGUiLCJyZXF1aXJlc1MiLCJyZXF1aXJlc1NDb2RlIiwiaGFzUyIsImhhcyJdLCJtYXBwaW5ncyI6IkFBQUEsUUFBQUEsMkJDQ0EsUUFBQUMseUJBQ0VDLEtBQUtDLGFBQWUsK29CQUNwQkQsS0FBS0UsS0FBT0MsS0FBS0MsTUFBTUMsT0FBT0MsS0FBS04sS0FBS0MsZURBMUNILHVCQUF1QlMsVUFBVUMscUJBQXVCLFNBQVNDLEdBQy9ELEdBQUlDLEdBQVdELEVBQUtFLE9BQVNGLEVBQUtHLFFBQVEsU0FBVSxJQUFJRCxPQUNwREUsRUFBV0osRUFBS0UsT0FBU0YsRUFBS0csUUFBUSxTQUFVLElBQUlELE1BQ3hELE9BQU9ELElBQVlHLEVBQVdILElBRWhDWix1QkFBdUJTLFVBQVVPLHNCQUF3QixTQUFTTCxHQUNoRSxRQUFHQSxFQUFLTSxRQUFRLHFCQUNMLElBQVJOLE1BQ0FBLEVBQUtFLE9BQVMsTUFDZEYsSUFBU0EsRUFBS08sZ0JBQ2RoQixLQUFLUSxxQkFBcUJDLElBQVMsSUFBdEMsV0FFRixJQUFJUSxzQkFBd0IsR0FBSW5CLHVCQUVoQ29CLFVBQVNDLGFBQWFDLE9BQU8sU0FBU0MsU0FBUyx1QkFDN0MsZUFBZSxTQUFTQyxHQWN0QixRQUFBQyxHQUErQkMsR0FDN0IsR0FFSUMsR0FGQUMsRUFBUyxHQUNUQyxFQUFTLHVDQUNQQyxJQUNOLEdBQ0VILEdBQUlFLEVBQU9FLEtBQUtMLEdBQ1pDLEdBQ0pHLEVBQVFFLEtBQUtMLEVBQUUsVUFFUkEsRUFFVCxLQUFJLEdBQUlNLEdBQUUsRUFBRUEsRUFBRUgsRUFBUWpCLE9BQU9vQixJQUFJLENBQy9CLEdBQUlDLEdBQU1DLFNBQVNDLGNBQWMsTUFDakNGLEdBQUlHLFVBQVlQLEVBQVFHLEVBQ3hCLElBQUl0QixHQUFXdUIsRUFBSUksYUFBZUosRUFBSUssV0FBYSxFQUNuRCxJQUFHcEIscUJBQXFCSCxzQkFBc0JMLEdBQU8sQ0FDbkRpQixFQUFTakIsQ0FDVCxRQUdKLE1BQU9pQixHQUFPWSxNQUFNLEtBQUtDLFFBQVUsSUFoQ3JDLEdBQUlDLElBQVUsRUFFVkMsR0FDRkMsTUFBTyxHQUNQQyxJQUFLLEdBQ0xDLEtBQU1DLFVBQVVDLGFBQ2hCQyxTQUFVQyxjQUFjQyxJQUN4QkMsYUFBYSxFQUNiQyxPQUNBQyxXQUFZLElBMEJWNUIsRUFBYUYsRUFBYStCLG1CQUFtQixTQUFTLEdBQ3REQyxFQUFRLHNEQUNSQyxFQUFTLDhDQUNiLElBQUdBLEVBQU9DLEtBQUtoQyxHQUFZLENBQ3pCLEdBQUlpQyxHQUFRakMsRUFBV2tDLE1BQU1KLEVBQzdCLElBQUdHLEVBQU0sQ0FDUCxHQUFJaEQsR0FBUUosT0FBT3NELE9BQU9GLEVBQU0sSUFFNUJwQixFQUFZNUIsRUFBS0EsTUFDckIsSUFBcUIsR0FBbEI0QixFQUFVMUIsT0FBVSxDQUNyQjhCLEVBQU9DLE1BQVEsaUNBQ2ZELEVBQU9HLEtBQU9DLFVBQVVlLElBQ3hCbkIsRUFBT00sU0FBV0MsY0FBY2EsS0FDaENwQixFQUFPRSxJQUFNLGdMQUVYLElBQUltQixHQUFhdkMsRUFBc0JDLEVBQ3RCLE1BQWRzQyxJQUNEckIsRUFBT1csV0FBYVUsRUFDcEJyQixFQUFPVSxLQUNMWSxNQUFPLFVBQ1BDLFFBQVMsV0FDUDFDLEVBQWEyQyxZQUFjM0MsRUFBYTJDLFlBQVlyRCxRQUFRMEMsRUFBTyxTQUFTN0IsR0FDMUUsTUFBT0EsR0FBRWIsUUFBUSxPQUFRa0QsRUFBVyxVQUV0Q3hDLEVBQWFILGFBQWErQyx1QkFRbEN6QixHQUFPQyxNQUFRLHVCQUNmRCxFQUFPRSxJQUFNLG1CQUFxQmxDLEVBQUtBLFdBR3BDLENBQ0xnQyxFQUFPQyxNQUFRLHNDQUNmRCxFQUFPRSxJQUFNLDhDQUNiRixFQUFPRyxLQUFPQyxVQUFVZSxJQUN4Qm5CLEVBQU9NLFNBQVdDLGNBQWNhLEtBQ2hDcEIsRUFBT1MsYUFBYyxDQUNyQixJQUFJaUIsR0FBYTVDLEVBQXNCQyxFQUN0QixNQUFkMkMsSUFDRDFCLEVBQU9FLElBQU1GLEVBQU9FLElBQUssMEZBQ3pCRixFQUFPVyxXQUFhZSxFQUNwQjFCLEVBQU9VLEtBQ0xZLE1BQU8sVUFDUEMsUUFBUyxXQUNQMUMsRUFBYTJDLFlBQWMzQyxFQUFhMkMsWUFBWXJELFFBQVEyQyxFQUFRLFNBQVM5QixHQUMzRSxNQUFPQSxHQUFFMEMsRUFBVyxTQUV0QjdDLEVBQWFILGFBQWErQyxtQkFNbEMxQixHQUFVLEVBSWQsT0FDRTRCLEdBQUksc0JBQ0oxQixNQUFPRCxFQUFPQyxNQUNkMkIsWUFBYTVCLEVBQU9FLElBQ3BCQyxLQUFNSCxFQUFPRyxLQUNiRyxTQUFVTixFQUFPTSxTQUNqQkssV0FBWVgsRUFBT1csV0FFbkJGLFlBQWFULEVBQU9TLFlBQ3BCQyxJQUFLVixFQUFPVSxJQUFNVixFQUFPVSxPQUN6Qm1CLEtBQU0sV0FDSixPQUFROUIsTUMzSGQsSUFBSStCLHFCQUFzQixHQUFJeEUsc0JBSTlCbUIsVUFBU0MsYUFBYUMsT0FBTyxTQUFTQyxTQUFTLCtCQUM3QyxlQUFlLHNCQUF1QixTQUFTQyxFQUFha0QsR0FHMUQsR0FBSWhELEdBQWFGLEVBQWErQixtQkFBbUIsU0FBUyxHQUN0RG9CLEtBQWtCQyxLQUVsQjlDLElBQ0osSUFBRytDLFdBQVdDLFdBQVdwQixLQUFLaEMsR0FBWSxDQUN4QyxHQUFJQyxFQUNKLEdBQ0VBLEdBQUlrRCxXQUFXRSxpQkFBaUJoRCxLQUFLTCxHQUNqQ0MsR0FDQ2dELEVBQVkxRCxRQUFRVSxFQUFFLFNBQVNnRCxFQUFZM0MsS0FBS0wsRUFBRSxVQUdoREEsRUFDVCxLQUFJLEdBQUlNLEdBQUcsRUFBRUEsRUFBRTBDLEVBQVk5RCxPQUFPb0IsSUFDN0J3QyxvQkFBb0JyRSxLQUFLdUUsRUFBWTFDLEtBQ3RDMkMsRUFBWTVDLEtBQUsyQyxFQUFZMUMsR0FBSyw2Q0FBaUR3QyxvQkFBb0JyRSxLQUFLdUUsRUFBWTFDLEtBUTlILEdBQUlILEtBQ0osSUFBRytDLFdBQVdHLGVBQWV0QixLQUFLaEMsR0FBWSxDQUM1QyxHQUFJQyxFQUNKLEdBQ0VBLEdBQUlrRCxXQUFXSSxxQkFBcUJsRCxLQUFLTCxHQUNyQ0MsR0FDSkcsRUFBUUUsS0FBS0wsRUFBRSxVQUdSQSxHQUliLE9BQ0UyQyxHQUFJLDRCQUNKMUIsTUFBTywwREFBNERkLEVBQVFqQixPQUFPLEVBQUUsSUFBSSxJQUN4RjBELFlBQWEsbUJBQXFCekMsRUFBUW9ELEtBQUssTUFDL0NwQyxLQUFNQyxVQUFVb0MsR0FDaEJsQyxTQUFVQyxjQUFja0MsT0FFeEJoQyxhQUFhLEVBQ2JFLFdBQWdDLEdBQXBCc0IsRUFBWS9ELE9BQVksR0FBSytELEVBQVlNLEtBQUssUUFDMUQ3QixLQUNFWSxNQUFPLEdBQ1BDLFFBQVMsV0FDUFEsRUFBb0JXLFdBQVdyRCxLQUFLLDZCQUNwQ1IsRUFBYUgsYUFBYStDLGtCQUc5QkksS0FBTSxXQUNKLE1BQU8xQyxHQUFRakIsT0FBTyxPQ2xFNUJPLFNBQVNDLGFBQWFDLE9BQU8sYUFBYUMsU0FBUyw2QkFDakQsYUFBYSxTQUFTK0QsR0FHdEIsT0FFRTFDLE1BQU8sa0NBQ1AyQixZQUFhLDJRQUliekIsS0FBTUMsVUFBVXdDLEtBQ2hCdEMsU0FBVUMsY0FBY0MsSUFDeEJxQyxTQUFVLHVIQUNWcEMsYUFBYSxFQVFib0IsS0FBTSxXQUNKLE1BQU9jLEdBQVdHLFNBQVcscUJBQXFCL0IsS0FBSzRCLEVBQVdHLGNDdkJ4RXJFLFNBQVNDLGFBQWFDLE9BQU8sYUFBYUMsU0FBUyw2QkFDakQsYUFBYSxTQUFTK0QsR0FFcEIsR0FBSTlCLEdBQVEsK2dCQUVSa0MsRUFBS25GLE9BQU9zRCxPQUFPeUIsRUFBV0csU0FDOUIvQyxFQUFVYyxFQUFNRSxLQUFLZ0MsRUFBRS9FLFNBQVcrRSxFQUFFL0UsT0FBT0UsT0FBUyxFQU0xRCxRQUVFK0IsTUFBTyx5QkFDUDJCLFlBQWEsNkhBRWJ6QixLQUFNQyxVQUFVd0MsS0FDaEJ0QyxTQUFVQyxjQUFjQyxJQUN4QnFDLFNBQVUsdUhBQ1ZwQyxhQUFhLEVBUWJvQixLQUFNLFdBQ04sTUFBTzlCLFFDN0JYdEIsU0FBU0MsYUFBYUMsT0FBTyxhQUFhQyxTQUFTLDhCQUNqRCxhQUFhLFNBQVMrRCxHQUdwQixHQUFJOUIsR0FBUSwrZ0JBUVJtQyxFQUFXLCtIQUNYQyxFQUFhLHdIQUNiQyxFQUFhLHlGQUNiQyxFQUFZLGlIQUNaQyxFQUFVLGdHQUNWQyxFQUFhLDJGQUViTixFQUFLbkYsT0FBT3NELE9BQU95QixFQUFXRyxTQUM5QlEsRUFBSVAsRUFBRS9FLE9BR051RixHQUFTLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUNwQlAsR0FBU2pDLEtBQUt1QyxLQUNmRSxRQUFRQyxJQUFJLFlBQ1pGLEVBQU0sR0FBSyxHQUVWTixFQUFXbEMsS0FBS3VDLEtBQ2pCRSxRQUFRQyxJQUFJLGNBQ1pGLEVBQU0sR0FBSyxHQUVWTCxFQUFXbkMsS0FBS3VDLEtBQ2pCRSxRQUFRQyxJQUFJLGNBQ1pGLEVBQU0sR0FBSyxHQUVWSixFQUFVcEMsS0FBS3VDLEtBQ2hCRSxRQUFRQyxJQUFJLGFBQ1pGLEVBQU0sR0FBSyxHQUVWSCxFQUFRckMsS0FBS3VDLEtBQ2RFLFFBQVFDLElBQUksV0FDWkYsRUFBTSxHQUFLLEdBRVZGLEVBQVd0QyxLQUFLdUMsS0FDakJFLFFBQVFDLElBQUksY0FDWkYsRUFBTSxHQUFLLEVBT2IsSUFBSXhELEdBQVVjLEVBQU1FLEtBQUtnQyxFQUFFL0UsU0FBVytFLEVBQUUvRSxPQUFPRSxPQUFTLEVBUzFELFFBRUUrQixNQUFPLG1DQUNQMkIsWUFBYSxHQUNiekIsS0FBTUMsVUFBVXdDLEtBQ2hCdEMsU0FBVUMsY0FBY0MsSUFDeEJxQyxTQUFVLHVGQUNWcEMsYUFBYSxFQVNib0IsS0FBTSxXQUNKLE1BQU85QixRQy9FYnRCLFNBQVNDLGFBQWFDLE9BQU8sYUFBYUMsU0FBUyx3QkFDakQsYUFBYSxTQUFTK0QsR0FHdEIsT0FFRTFDLE1BQU8sdUJBQ1AyQixZQUFZLHNDQUNaekIsS0FBTUMsVUFBVWUsSUFDaEJiLFNBQVVDLGNBQWNhLEtBRXhCWCxhQUFhLEVBQ2JDLEtBQ0VZLE1BQU8sZ0JBQ1BDLFFBQVMsV0FDUG9CLEVBQUFBLE9BQWVlLElBQU1mLEVBQUFBLE9BQWVlLElBQUl2RixRQUFRLE1BQU8sT0FDdkR3RSxFQUFXZ0IsbUJBR2Y5QixLQUFNLFdBQ0osTUFBT2MsR0FBQUEsT0FBZWlCLFNBQVMsVUNwQnJDbkYsU0FBU0MsYUFBYUMsT0FBTyxhQUFhQyxTQUFTLG9CQUNqRCxhQUFjLHNCQUFzQixlQUFnQixTQUFTK0QsRUFBV1osRUFBb0JsRCxHQUc1RixPQUNFOEMsR0FBSSxtQ0FDSjFCLE1BQU8sMENBQ1AyQixZQUFZLDJFQUNaekIsS0FBTUMsVUFBVW9DLEdBQ2hCbEMsU0FBVUMsY0FBY2EsS0FDeEJ5QixTQUFVRixFQUFBQSxPQUFlZSxJQUN6QkcsYUFBYyxZQUNkcEQsYUFBYSxFQUNiQyxLQUNFYSxRQUFTLFdBQ1BRLEVBQW9CVyxXQUFXckQsS0FBSyxvQ0FDcENzRCxFQUFXZ0IsaUJBQ1g5RSxFQUFhSCxhQUFhK0Msa0JBSTlCSSxLQUFNLFdBQ0osTUFBTyxrQkFBa0JkLEtBQUs0QixFQUFBQSxPQUFlZSxVQ3RCbkRqRixTQUFTQyxhQUFhQyxPQUFPLGFBQWFDLFNBQ3hDLG9DQUNBLGFBQWEsU0FBUytELEdBQ3hCLEdBQUk1QyxHQUFVbUMsV0FBVzRCLHFCQUFxQi9DLEtBQUs0QixFQUFBQSxPQUFlZSxJQUNsRSxJQUFHM0QsRUFBUSxDQUNULEdBQUlrQixHQUFRMEIsRUFBQUEsT0FBZWUsSUFBSXpDLE1BQU1pQixXQUFXNEIscUJBQ2hELElBQUc3QyxFQUFNL0MsT0FBTyxFQUNkLEdBQUk2RixHQUFNOUMsRUFBTSxHQUFHMUMsY0FBY3lGLE9BQU8sRUFBRS9DLEVBQU0sR0FBRy9DLFFBT3JELE9BRUUrQixNQUFPLHlCQUNQMkIsYUFBYSx5QkFDYixjQUFnQixrQkFBa0JiLEtBQUtnRCxHQUFPLE1BQVEsS0FDdERBLEVBQUksNkNBQTZDQSxFQUFJLE1BQ3JELHlFQUNBLHlFQUNBLDJCQUEyQnhCLEtBQUssSUFDaENwQyxLQUFNQyxVQUFVQyxhQUNoQkMsU0FBVUMsY0FBY2EsS0FFeEJYLGFBQWEsRUFRYm9CLEtBQU0sV0FDSixNQUFPOUIsUUNuQ2J0QixTQUFTQyxhQUFhQyxPQUFPLGFBQWFDLFNBQ3hDLDJCQUNBLGFBQWEsU0FBUytELEdBR3RCLE9BRUUxQyxNQUFPLGdEQUNQMkIsWUFBWSw0SEFFWnpCLEtBQU93QyxFQUFBQSxPQUFlaUIsU0FBUyxZQUFleEQsVUFBVWUsSUFBTWYsVUFBVUMsYUFDeEVDLFNBQVVDLGNBQWNhLEtBRXhCWCxhQUFja0MsRUFBQUEsT0FBZWlCLFNBQVMsWUFRdEMvQixLQUFNLFdBQ0osTUFBTyxvREFBb0RkLEtBQUs0QixFQUFBQSxPQUFlZSxJQUFJTyxVQUMvRXRCLEVBQUFBLE9BQWVpQixTQUFTLGdCQUN4Qiw0Q0FBNEM3QyxLQUFLNEIsRUFBQUEsT0FBZWUsVUN4QjFFakYsU0FBU0MsYUFBYUMsT0FBTyxhQUFhQyxTQUN4QywyQkFDQSxhQUFhLFNBQVMrRCxHQUl4QixPQUVFMUMsTUFBTywyQ0FDUDJCLFlBQVksNEtBR1p6QixLQUFNQyxVQUFVQyxhQUNoQkMsU0FBVUMsY0FBY2EsS0FFeEJYLGFBQWEsRUFRYm9CLEtBQU0sV0FDSixHQUFJOUIsR0FBVTRDLEVBQUFBLE9BQWVlLElBQUlwRixRQUFRLFVBQ3pDLE9BQU95QixRQ3pCWHRCLFNBQVNDLGFBQWFDLE9BQU8sYUFBYUMsU0FDeEMsaUNBQ0EsYUFBYSxTQUFTK0QsR0FHeEIsT0FFRTFDLE1BQU8sMEJBQ1AyQixZQUFZLG9XQU1aekIsS0FBTUMsVUFBVThELFdBQ2hCNUQsU0FBVUMsY0FBY0MsSUFFeEJDLGFBQWEsRUFDYkMsS0FDRVksTUFBTyxzQ0FDUEMsUUFBUyxXQUNQb0IsRUFBV3dCLE9BQU9DLE1BQVEsR0FDMUJ6QixFQUFXd0IsT0FBT0UsUUFBVSwyQkFDNUIxQixFQUFXd0IsT0FBT0csS0FBTywwREFDekIzQixFQUFXd0IsT0FBT0ksZUFDbEI1QixFQUFXd0IsT0FBT0ssa0JBQ2xCN0IsRUFBV3dCLE9BQU9NLGFBQ2xCOUIsRUFBV2dCLGlCQUNYL0YsT0FBTzhHLEdBQUcsT0FBUSxRQUFTLGFBQWMsV0FBWSxjQUd6RDdDLEtBQU0sV0FDSixNQUFPYyxHQUFBQSxPQUFlZSxJQUFJcEYsUUFBUSxnQkNoQ3RDRyxTQUFTQyxhQUFhQyxPQUFPLGFBQWFDLFNBQ3hDLDJCQUNBLGFBQWEsU0FBUytELEdBR3RCLE9BRUUxQyxNQUFPLDJCQUNQMkIsWUFBWSw4RUFDWnpCLEtBQU1DLFVBQVVlLElBQ2hCYixTQUFVQyxjQUFjYSxLQUV4QlgsYUFBYSxFQVFib0IsS0FBTSxXQUNKLE1BQU8sdUNBQXVDZCxLQUFLNEIsRUFBQUEsT0FBZWUsVUNyQnhFakYsU0FBU0MsYUFBYUMsT0FBTyxhQUFhQyxTQUN4QywyQkFDQSxhQUFhLFNBQVMrRCxHQUd0QixPQUVFMUMsTUFBTyxnQkFDUDJCLFlBQVksNEdBQ1p6QixLQUFNQyxVQUFVQyxhQUNoQkMsU0FBVUMsY0FBY2tDLE9BRXhCaEMsYUFBYSxFQUNiQyxLQUNFWSxNQUFPLHVCQUNQQyxRQUFTLFdBQ1BvQixFQUFXRyxRQUFVSCxFQUFXRyxRQUFRM0UsUUFBUStELFdBQVd5Qyw0QkFBNkIsVUFDeEZoQyxFQUFXZ0IsbUJBR2Y5QixLQUFNLFdBQ0osTUFBT0ssWUFBV3lDLDRCQUE0QjVELEtBQUs0QixFQUFXRyxjQ3JCcEVyRSxTQUFTQyxhQUFhQyxPQUFPLGFBQWFDLFNBQ3hDLDhCQUNBLGFBQWEsU0FBUytELEdBQ3BCLEdBQUlpQyxJQUFXLENBU2pCLE9BUktqQyxHQUFXa0Msd0JBQTBCbEMsRUFBV21DLG1CQUNqRG5DLEVBQVdvQyxPQUFPQyxlQUFlLFNBQVNDLEdBQ3JDQSxFQUFHSix5QkFBMkJJLEVBQUdILG9CQUNsQ0YsR0FBUyxNQU9mM0UsTUFBTyxlQUNQMkIsWUFBWSxvTEFHWnpCLEtBQU1DLFVBQVU4RCxXQUNoQjVELFNBQVVDLGNBQWNDLElBRXhCQyxhQUFhLEVBQ2JDLEtBQ0VZLE1BQU8sK0NBQ1BDLFFBQVMsV0FDUCxHQUFJMkQsR0FBZSxFQUNuQnZDLEdBQUFBLE9BQWV3QyxhQUFhQyxRQUFRQyxRQUFRLFNBQVNDLEdBQ2hEM0MsRUFBV21DLGdCQUFnQlEsS0FDNUJKLEVBQWVJLEtBR25CM0MsRUFBV29DLE9BQU9DLGVBQWUsU0FBU0MsR0FDckNBLEVBQUdKLHlCQUEyQkksRUFBR0gsbUJBQ2xDRyxFQUFBQSxPQUFPRSxhQUFhSSxPQUFPTCxLQUcvQnZDLEVBQVdvQyxPQUFPQyxlQUFlLFNBQVNDLEdBQUtBLEVBQUd0QixtQkFDbEQvRixPQUFPOEcsR0FBRyxPQUFRLFFBQVMsYUFBYyx3QkFBeUIsMkJBR3RFN0MsS0FBTSxXQUNKLE1BQU8rQyxRQ3pDYm5HLFNBQVNDLGFBQWFDLE9BQU8sYUFBYUMsU0FDeEMsbUNBQ0EsYUFBYSxTQUFTK0QsR0FFdEIsR0FBSTZDLEdBQVMsa0JBQWtCekUsS0FBS2dELEdBQU8sTUFBUSxLQUFPQSxFQUV0RDlDLEVBQVEwQixFQUFBQSxPQUFlZSxJQUFJekMsTUFBTWlCLFdBQVd1RCw4QkFDaEQsSUFBR3hFLEdBQVNBLEVBQU0vQyxPQUFPLEVBQ3ZCLEdBQUk2RixHQUFNOUMsRUFBTSxHQUFHMUMsY0FBY3lGLE9BQU8sRUFBRS9DLEVBQU0sR0FBRy9DLFFBQy9Dc0gsRUFBUyxrQkFBa0J6RSxLQUFLZ0QsR0FBTyxNQUFRLEtBQU9BLENBRzVELFFBRUU5RCxNQUFPLDRCQUNQMkIsWUFBWSw4Q0FBOEM0RCxFQUFNLCtFQUVoRXJGLEtBQU1DLFVBQVVlLElBQ2hCYixTQUFVQyxjQUFjYSxLQUV4QlgsYUFBYSxFQUNiQyxLQUNFWSxNQUFPLHdDQUNQQyxRQUFTLFdBQ1AsSUFBSSxHQUFJakMsR0FBSSxFQUFHQSxFQUFFcUQsRUFBQUEsT0FBZXdDLGFBQWFDLFFBQVFsSCxPQUFPb0IsSUFDdkQsMkJBQTJCeUIsS0FBSzRCLEVBQUFBLE9BQWV3QyxhQUFhQyxRQUFROUYsS0FDckVxRCxFQUFBQSxPQUFld0MsYUFBYU8sY0FBY3BHLEdBRTVDMUIsT0FBTzhHLEdBQUcsT0FBUSxRQUFTLGFBQWMsNEJBQTZCLHVCQUV4RS9CLEdBQUFBLE9BQWV3QyxhQUFhUSxnQkFDNUJoRCxFQUFXZ0IsbUJBR2Y5QixLQUFNLFdBQ0osTUFBT0ssWUFBV3VELDhCQUE4QjFFLEtBQUs0QixFQUFBQSxPQUFlZSxNQUFRZixFQUFXbUMsdUJDbkM3RnJHLFNBQVNDLGFBQWFDLE9BQU8sYUFBYUMsU0FDeEMsK0JBQ0EsYUFBYSxTQUFTK0QsR0FHdEIsT0FDRWhCLEdBQUksc0NBQ0oxQixNQUFPLGtDQUNQMkIsWUFBYSxtREFDYnpCLEtBQU1DLFVBQVVlLElBQ2hCYixTQUFVQyxjQUFjYSxLQUV4QlgsYUFBYSxFQUNiQyxLQUNFWSxNQUFPLDBEQUNQQyxRQUFTLFdBQ1BvQixFQUFXaUQsK0JBQ1hqRCxFQUFXZ0IsbUJBR2Y5QixLQUFNLFdBQ0osTUFBUWMsR0FBV2tELGlCQUFpQmxELEVBQUFBLE9BQWVlLEtBQ2hEZixFQUFXbUQsc0JBQ1huRCxFQUFBQSxPQUFlaUIsU0FBUyxrQkN2QmpDbkYsU0FBU0MsYUFBYUMsT0FBTyxhQUFhQyxTQUN4Qyw2QkFDQSxhQUFhLFNBQVMrRCxHQUd0QixPQUVFMUMsTUFBTyxrREFDUDJCLFlBQVksc1hBTVp6QixLQUFNQyxVQUFVOEQsV0FDaEI1RCxTQUFVQyxjQUFjQyxJQUd4QkUsS0FDRVksTUFBTyx3Q0FDUEMsUUFBUyxXQUNQb0IsRUFBQUEsT0FBZXdDLGFBQWFJLE9BQU8sV0FDbkM1QyxFQUFXZ0IsaUJBQ1gvRixPQUFPOEcsR0FBRyxPQUFRLFFBQVMsYUFBYyxhQUFjLGFBRzNEN0MsS0FBTSxXQUVKLEdBQUlrRSxHQUFZcEQsRUFBV3FELGdCQUN2QkMsRUFBT3RELEVBQUFBLE9BQWV3QyxhQUFhZSxJQUFJLEtBQ3ZDbkcsRUFBVWdHLElBQWNFLENBRTVCLE9BQU9sRyxLQUFZa0csT0NoQ3pCeEgsU0FBU0MsYUFBYUMsT0FBTyxhQUFhQyxTQUN4QyxzQkFDQSxhQUFhLFNBQVMrRCxHQUd0QixPQUVFMUMsTUFBTywrQkFDUDJCLFlBQVksaUdBQ1p6QixLQUFNQyxVQUFVZSxJQUNoQmIsU0FBVUMsY0FBY2EsS0FFeEJYLGFBQWEsRUFDYkMsS0FDRVksTUFBTyxtQkFDUEMsUUFBUyxXQUNQb0IsRUFBQUEsT0FBZXdDLGFBQWZ4QyxVQUFtQyxLQUNuQ0EsRUFBV2dCLG1CQUdmOUIsS0FBTSxXQUNKLE1BQU9jLEdBQUFBLE9BQWV3QyxhQUFhZSxJQUFJIiwiZmlsZSI6Im9wdHVtLWludGVsbGlnZW5jZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9fUHJldmlld1RleHRFdmFsRnVuY3MoKXtcblxufVxuX19QcmV2aWV3VGV4dEV2YWxGdW5jcy5wcm90b3R5cGUubG93ZXJUb0NhcGl0YWxzUmF0aW8gPSBmdW5jdGlvbih0ZXh0KXtcbiAgdmFyIG51bVVwcGVyID0gdGV4dC5sZW5ndGggLSB0ZXh0LnJlcGxhY2UoL1tBLVpdL2csICcnKS5sZW5ndGg7XG4gIHZhciBudW1Mb3dlciA9IHRleHQubGVuZ3RoIC0gdGV4dC5yZXBsYWNlKC9bYS16XS9nLCAnJykubGVuZ3RoO1xuICByZXR1cm4gbnVtVXBwZXIgLyAobnVtTG93ZXIgKyBudW1VcHBlcik7XG59O1xuX19QcmV2aWV3VGV4dEV2YWxGdW5jcy5wcm90b3R5cGUuZXZhbHVhdGVQYXJhZ3JhcGhUZXh0ID0gZnVuY3Rpb24odGV4dCl7XG4gIGlmKHRleHQuaW5kZXhPZihcIndlYiB2ZXJzaW9uXCIpPi0xKSByZXR1cm4gZmFsc2U7XG4gIGlmKHRleHQgPT0gXCJcIikgcmV0dXJuIGZhbHNlO1xuICBpZih0ZXh0Lmxlbmd0aCA8IDcwKSByZXR1cm4gZmFsc2U7XG4gIGlmKHRleHQgPT09IHRleHQudG9VcHBlckNhc2UoKSkgcmV0dXJuIGZhbHNlO1xuICBpZih0aGlzLmxvd2VyVG9DYXBpdGFsc1JhdGlvKHRleHQpIDw9IDAuMSkgcmV0dXJuIHRydWU7XG59O1xudmFyIFByZXZpZXdUZXh0RXZhbEZ1bmNzICA9IG5ldyBfX1ByZXZpZXdUZXh0RXZhbEZ1bmNzKCk7XG5cbkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJlbWFpbFwiKS5yZWdpc3RlcihcImVtYWlsLWhhcy1wcmVoZWFkZXJcIixbXG4gIFwiRU1MV29ya3NwYWNlXCIsZnVuY3Rpb24oRU1MV29ya3NwYWNlKXtcblxuICAgIHZhciBwcm9jZWVkID0gdHJ1ZTtcbiAgICB2YXIgcHJlaGVhZGVyVGV4dCA9IFwiXCI7XG4gICAgdmFyIG91dHB1dCA9IHtcbiAgICAgIHRpdGxlOiBcIlwiLFxuICAgICAgbXNnOiBcIlwiLFxuICAgICAgdHlwZTogRXJyb3JUeXBlLkJlc3RQcmFjdGljZSxcbiAgICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkxvdyxcbiAgICAgIGNhbkNvbnRpbnVlOiB0cnVlLFxuICAgICAgY3RhOiB7fSxcbiAgICAgIHN1Z2dlc3Rpb246IFwiXCJcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZmluZEh1bWFuUmVhZGFibGVUZXh0KG91dHB1dENvZGUpe1xuICAgICAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gICAgICBsZXQgcmVnZXgyID0gL1xcPHAoW15cXD5dfFxcc3wuKilcXD4oW148XS4qKT9cXDxcXC9wXFw+L2dpO1xuICAgICAgdmFyIG0scmVzdWx0cyA9IFtdO1xuICAgICAgZG8ge1xuICAgICAgICBtID0gcmVnZXgyLmV4ZWMob3V0cHV0Q29kZSk7XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChtWzBdKTtcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAobSk7XG5cbiAgICAgIGZvcih2YXIgaT0wO2k8cmVzdWx0cy5sZW5ndGg7aSsrKXtcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSByZXN1bHRzW2ldO1xuICAgICAgICB2YXIgdGV4dDphbnkgPSBkaXYudGV4dENvbnRlbnQgfHwgZGl2LmlubmVyVGV4dCB8fCBcIlwiO1xuICAgICAgICBpZihQcmV2aWV3VGV4dEV2YWxGdW5jcy5ldmFsdWF0ZVBhcmFncmFwaFRleHQodGV4dCkpIHtcbiAgICAgICAgICByZXN1bHQgPSB0ZXh0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0LnNwbGl0KFwiLlwiKS5zaGlmdCgpICsgXCIuXCI7XG4gICAgfVxuXG4gICAgbGV0IG91dHB1dENvZGUgPSBFTUxXb3Jrc3BhY2UuZ2VuZXJhdGVPdXRwdXRDb2RlKFwiZW1haWxcIiwgdHJ1ZSk7XG4gICAgbGV0IHJlZ2V4ID0gL1xcPHAuKmNsYXNzPVxcXCJwcmVoZWFkZXJcXFwiW15cXD5dLipcXD4oW148XS4qKT9cXDxcXC9wXFw+L2dpO1xuICAgIGxldCByZWdleFMgPSAvXFw8cChbXlxcPl0uKiljbGFzcz1cXFwicHJlaGVhZGVyXFxcIihbXlxcPl0uKilcXD4vZ2k7XG4gICAgaWYocmVnZXhTLnRlc3Qob3V0cHV0Q29kZSkpe1xuICAgICAgdmFyIGZvdW5kID0gb3V0cHV0Q29kZS5tYXRjaChyZWdleCk7XG4gICAgICBpZihmb3VuZCl7XG4gICAgICAgIHZhciB0ZXh0ICA9IHdpbmRvdy5qUXVlcnkoZm91bmRbMF0pO1xuXG4gICAgICAgIGxldCBpbm5lclRleHQgPSB0ZXh0LnRleHQoKTtcbiAgICAgICAgaWYoaW5uZXJUZXh0Lmxlbmd0aD09MCl7XG4gICAgICAgICAgb3V0cHV0LnRpdGxlID0gXCJQcmV2aWV3IHRleHQgLSBDb2RlIGluY29tcGxldGVcIjtcbiAgICAgICAgICBvdXRwdXQudHlwZSA9IEVycm9yVHlwZS5GaXg7XG4gICAgICAgICAgb3V0cHV0LnNldmVyaXR5ID0gRXJyb3JTZXZlcml0eS5IaWdoO1xuICAgICAgICAgIG91dHB1dC5tc2cgPSBcIkNvZGUgaXMgcHJlc2VudCBidXQgdGhlcmUgaXMgbm8gdGV4dCBzZXQuIENvbnNpZGVyIGFkZGluZyBzb21lLCBvciByZW1vdmluZyB0aGUgcHJldmlldyB0ZXh0IGNvZGUgYmxvY2sgZnJvbSB0aGUgSFRNTCBpZiB5b3UgcGxhbiBvbiB1c2luZyB0aGUgcHJldmlldyB0ZXh0IGZlYXR1cmUgaW4gRWxvcXVhLlwiO1xuICAgICAgICAgICAgLy9nZXQgc3VnZ2VzdGlvbi4gKG5lZWRzIHRvIGJlIHNlbnRlbmNlIGNhc2UgYW5kIGxvbmdpc2gpO1xuICAgICAgICAgICAgbGV0IHN1Z2dlc3Rpb24gPSBmaW5kSHVtYW5SZWFkYWJsZVRleHQob3V0cHV0Q29kZSk7XG4gICAgICAgICAgICBpZihzdWdnZXN0aW9uICE9PVwiXCIpIHtcbiAgICAgICAgICAgICAgb3V0cHV0LnN1Z2dlc3Rpb24gPSBzdWdnZXN0aW9uO1xuICAgICAgICAgICAgICBvdXRwdXQuY3RhID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkZpeCBub3dcIixcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgRU1MV29ya3NwYWNlLndvcmtpbmdDb2RlID0gRU1MV29ya3NwYWNlLndvcmtpbmdDb2RlLnJlcGxhY2UocmVnZXgsIGZ1bmN0aW9uKG0pe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5yZXBsYWNlKFwiPC9wPlwiLCBzdWdnZXN0aW9uK1wiPC9wPlwiKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgRU1MV29ya3NwYWNlLmludGVsbGlnZW5jZS5ldmFsdWF0ZVJ1bGVzKCk7XG5cbiAgICAgICAgICAgICAgICAgIC8vdXBkYXRlIHRoZSBjb2RlLlxuICAgICAgICAgICAgICB9fTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0cHV0LnRpdGxlID0gXCJQcmV2aWV3IHRleHQgLSBGb3VuZFwiO1xuICAgICAgICAgIG91dHB1dC5tc2cgPSBcIjxlbT5Gb3VuZDo8L2VtPiBcIiArIHRleHQudGV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dHB1dC50aXRsZSA9IFwiUHJldmlldyB0ZXh0IC0gQ29kZSBtaWdodCBiZSBicm9rZW5cIjtcbiAgICAgICAgb3V0cHV0Lm1zZyA9IFwiUHJldmlldyB0ZXh0IGxvb2tzIGxpa2UgaXQgbWlnaHQgYmUgYnJva2VuLlwiO1xuICAgICAgICBvdXRwdXQudHlwZSA9IEVycm9yVHlwZS5GaXg7XG4gICAgICAgIG91dHB1dC5zZXZlcml0eSA9IEVycm9yU2V2ZXJpdHkuSGlnaDtcbiAgICAgICAgb3V0cHV0LmNhbkNvbnRpbnVlID0gZmFsc2U7XG4gICAgICAgIGxldCBzdWdnZXN0aW9uID0gZmluZEh1bWFuUmVhZGFibGVUZXh0KG91dHB1dENvZGUpO1xuICAgICAgICBpZihzdWdnZXN0aW9uICE9PVwiXCIpIHtcbiAgICAgICAgICBvdXRwdXQubXNnID0gb3V0cHV0Lm1zZysgXCJDb25zaWRlciBmaXhpbmcgdGhlIGNvZGUgYW5kIHVwZGF0aW5nIHRoaXMgcHJldmlldyB0ZXh0IHRvIHNvbWUgY29udGVudCBmcm9tIHRoZSBlbWFpbC5cIjtcbiAgICAgICAgICBvdXRwdXQuc3VnZ2VzdGlvbiA9IHN1Z2dlc3Rpb247XG4gICAgICAgICAgb3V0cHV0LmN0YSA9IHtcbiAgICAgICAgICAgIGxhYmVsOiBcIkZpeCBub3dcIixcbiAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgIEVNTFdvcmtzcGFjZS53b3JraW5nQ29kZSA9IEVNTFdvcmtzcGFjZS53b3JraW5nQ29kZS5yZXBsYWNlKHJlZ2V4UywgZnVuY3Rpb24obSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG0rc3VnZ2VzdGlvbitcIjwvcD5cIjtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIEVNTFdvcmtzcGFjZS5pbnRlbGxpZ2VuY2UuZXZhbHVhdGVSdWxlcygpO1xuICAgICAgICAgICAgICAvL3VwZGF0ZSB0aGUgY29kZS5cbiAgICAgICAgICB9fTtcbiAgICAgICAgfVxuXG4gICAgICB9XG4gICAgICBwcm9jZWVkID0gZmFsc2U7XG4gICAgfVxuXG5cbiAgcmV0dXJuIHtcbiAgICBpZDogXCJlbWFpbC1oYXMtcHJlaGVhZGVyXCIsXG4gICAgdGl0bGU6IG91dHB1dC50aXRsZSxcbiAgICBkZXNjcmlwdGlvbjogb3V0cHV0Lm1zZyxcbiAgICB0eXBlOiBvdXRwdXQudHlwZSxcbiAgICBzZXZlcml0eTogb3V0cHV0LnNldmVyaXR5LFxuICAgIHN1Z2dlc3Rpb246IG91dHB1dC5zdWdnZXN0aW9uLFxuICAgIC8vIHJlc291cmNlOiBcIlwiLFxuICAgIGNhbkNvbnRpbnVlOiBvdXRwdXQuY2FuQ29udGludWUsXG4gICAgY3RhOiBvdXRwdXQuY3RhID8gb3V0cHV0LmN0YSA6IHt9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gIXByb2NlZWQ7XG4gICAgfVxuICB9O1xufV0pO1xuIiwiXG5mdW5jdGlvbiBfX0N1c3RvbVBob25lTnVtYmVyUUEoKXtcbiAgdGhpcy5zdG9yZWRWYWx1ZXMgPSBcImV5SmxkbVZ1ZEhOQWIzQjBkVzB1WTI5dElqb2lPREF3TGpjMk5TNDJOelU1SWl3aWFXNW1iMEJ2Y0hSMWJTNWpiMjBpT2lJNE5qWXVNemcyTGpNME1EUWlMQ0oyYVdWM2NHOXBiblJ6UUc5d2RIVnRMbU52YlNJNklqZ3dNQzQzTmpVdU5qY3dOU0lzSW1seFFHOXdkSFZ0TG1OdmJTSTZJamd3TUM0M05qVXVOamN3TlNJc0ltVnRjRzkzWlhKQWIzQjBkVzB1WTI5dElqb2lPREF3TGpjMk5TNDJPREEzSWl3aWIzQjBkVzB6TmpCQWIzQjBkVzB1WTI5dElqb2lPRFkyTGpJeU15NDBOek13SWl3aWFXNW1iM0p0UUc5d2RIVnRMbU52YlNJNklqZ3dNQzQzTmpVdU5qYzVNeUlzSW1ScGMyTnZkbVZ5UUc5d2RIVnRMbU52YlNJNklqZ3dNQzQzTmpVdU5qWXhPU0lzSW1OdmJtNWxZM1JsWkVCdmNIUjFiUzVqYjIwaU9pSTROall1TXpBMkxqRXpNakVpTENKcGJtNXZkbUYwWlVCdmNIUjFiUzVqYjIwaU9pSTRNREF1TnpZMUxqWXdPVElpTENKbGJtZGhaMlZBYjNCMGRXMHVZMjl0SWpvaU9EWTJMak00Tmk0ek5EQTVJaXdpYVc1blpXNTFhWFI1UUc5d2RIVnRMbU52YlNJNklqZzJOaTQwTWpjdU5qZ3dOQ0lzSW1kc2IySmhiRUJ2Y0hSMWJTNWpiMjBpT2lJNE5qWXVNekl5TGpBNU5UZ2lMQ0p2Y0hSMWJYSjRRRzl3ZEhWdExtTnZiU0k2SWpnMk5pNHpPRFl1TXpRd05DSjlcIjtcbiAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZSh3aW5kb3cuYXRvYih0aGlzLnN0b3JlZFZhbHVlcykpO1xufVxudmFyIEN1c3RvbVBob25lTnVtYmVyUUEgPSBuZXcgX19DdXN0b21QaG9uZU51bWJlclFBKCk7XG5cblxuXG5FTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiZW1haWxcIikucmVnaXN0ZXIoXCJlbWFpbC1xYS10ZWxlbHBob25lLW51bWJlcnNcIixbXG4gIFwiRU1MV29ya3NwYWNlXCIsXCJJbnRlbGxpZ2VuY2VNb25pdG9yXCIsIGZ1bmN0aW9uKEVNTFdvcmtzcGFjZSxJbnRlbGxpZ2VuY2VNb25pdG9yKXtcblxuICAgIC8vZG8gdGhlIGNvZGUgaGVyZTtcbiAgICBsZXQgb3V0cHV0Q29kZSA9IEVNTFdvcmtzcGFjZS5nZW5lcmF0ZU91dHB1dENvZGUoXCJlbWFpbFwiLCB0cnVlKTtcbiAgICB2YXIgZm91bmRQaG9uZXMgPSBbXSwgc3VnZ2VzdGlvbnMgPSBbXTtcbiAgICAvLyBnZXQgdGhlIGVtYWlscyB1c2VkO1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgaWYoR2xvYmFsVmFycy5FbWFpbFJlZ2V4LnRlc3Qob3V0cHV0Q29kZSkpe1xuICAgICAgdmFyIG07XG4gICAgICBkbyB7XG4gICAgICAgIG0gPSBHbG9iYWxWYXJzLkVtYWlsUmVnZXhHbG9iYWwuZXhlYyhvdXRwdXRDb2RlKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICBpZihmb3VuZFBob25lcy5pbmRleE9mKG1bMF0pPT0tMSkgZm91bmRQaG9uZXMucHVzaChtWzBdKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhtWzFdLCBtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAobSk7XG4gICAgICBmb3IodmFyIGkgPTA7aTxmb3VuZFBob25lcy5sZW5ndGg7aSsrKXtcbiAgICAgICAgaWYoQ3VzdG9tUGhvbmVOdW1iZXJRQS5kYXRhW2ZvdW5kUGhvbmVzW2ldXSl7XG4gICAgICAgICAgc3VnZ2VzdGlvbnMucHVzaChmb3VuZFBob25lc1tpXSArIFwiIDxpIGNsYXNzPVxcXCJ1aSBsb25nIHJpZ2h0IGFycm93IGljb25cXFwiPjwvaT4gXCIgKyBDdXN0b21QaG9uZU51bWJlclFBLmRhdGFbZm91bmRQaG9uZXNbaV1dKTtcbiAgICAgICAgfVxuXG4gICAgICB9XG4gICAgfVxuXG5cblxuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgaWYoR2xvYmFsVmFycy5UZWxlcGhvbmVSZWdleC50ZXN0KG91dHB1dENvZGUpKXtcbiAgICAgIHZhciBtO1xuICAgICAgZG8ge1xuICAgICAgICBtID0gR2xvYmFsVmFycy5UZWxlcGhvbmVSZWdleEdsb2JhbC5leGVjKG91dHB1dENvZGUpO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICByZXN1bHRzLnB1c2gobVswXSk7XG4gICAgICAgIC8vY29uc29sZS5sb2cobVsxXSwgbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKG0pO1xuICAgIH1cblxuXG4gIHJldHVybiB7XG4gICAgaWQ6IFwiY29uZnJpbS10ZWxlcGhvbmUtbnVtYmVyc1wiLFxuICAgIHRpdGxlOiBcIkNvbmZpcm0gY29ycmVjdCBjb250YWN0IGluZm9ybWF0aW9uIC0gVGVsZXBob25lIE51bWJlclwiICsgKHJlc3VsdHMubGVuZ3RoPjE/XCJzXCI6XCJcIiksXG4gICAgZGVzY3JpcHRpb246IFwiPGVtPkZvdW5kOjwvZW0+IFwiICsgcmVzdWx0cy5qb2luKFwiLCBcIiksXG4gICAgdHlwZTogRXJyb3JUeXBlLlFBLFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5Lk1lZGl1bSxcbiAgICAvLyByZXNvdXJjZTogXCJcIixcbiAgICBjYW5Db250aW51ZTogZmFsc2UsXG4gICAgc3VnZ2VzdGlvbjogc3VnZ2VzdGlvbnMubGVuZ3RoPT0wID8gXCJcIiA6IHN1Z2dlc3Rpb25zLmpvaW4oXCI8YnI+XCIpLFxuICAgIGN0YToge1xuICAgICAgbGFiZWw6IFwiXCIsXG4gICAgICBoYW5kbGVyOiBmdW5jdGlvbigpe1xuICAgICAgICBJbnRlbGxpZ2VuY2VNb25pdG9yLm92ZXJyaWRkZW4ucHVzaChcImNvbmZyaW0tdGVsZXBob25lLW51bWJlcnNcIik7XG4gICAgICAgIEVNTFdvcmtzcGFjZS5pbnRlbGxpZ2VuY2UuZXZhbHVhdGVSdWxlcygpO1xuICAgICAgfVxuICAgIH0sXG4gICAgd2hlbjogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiByZXN1bHRzLmxlbmd0aD4wO1xuICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFwiaHlwZXJsaW5rLWNsaWNrLWhlcmUtY3Rhc1wiLFtcbiAgXCJMaW5rT2JqZWN0XCIsZnVuY3Rpb24oTGlua09iamVjdCl7XG5cblxuICByZXR1cm4ge1xuICAgIC8vIGlkOiBcIlwiLFxuICAgIHRpdGxlOiBcIlxcXCJDbGljayBoZXJlXFxcIiBpcyBhIGJhZCBwcmFjdGljZS5cIixcbiAgICBkZXNjcmlwdGlvbjogYFxcXCJDbGljayBoZXJlXFxcIiBsaW5rcyBhcmVuJ3QgcmVhbGx5IGRlc2NyaXB0aXZlXG4gICAgZW5vdWdoIHRvIGJlIGVmZmVjdGl2ZSBDVEFzLiBBZGRpdGlvbmFsbHksIGNsaWNrIGltcGxpZXMgdGhhdCB1c2Vyc1xuICAgIGFyZSB1c2luZyBhIG1vdXNlLCB3aGljaCBpcyBtb3JlIHRoYW4gaGFsZiB0aGUgdGltZSBub3QgdGhlIGNhc2Ugd2hlblxuICAgIHlvdSBjb25zaWRlciBtb2JpbGUgZGV2aWNlcyBhbmQgb3RoZXJzIHJlYWRpbmcgZm9yIGFjY2Vzc2liaWxpdHkuYCxcbiAgICB0eXBlOiBFcnJvclR5cGUuV2FybixcbiAgICBzZXZlcml0eTogRXJyb3JTZXZlcml0eS5Mb3csXG4gICAgcmVzb3VyY2U6IFwiaHR0cHM6Ly93d3cuY2FtcGFpZ25tb25pdG9yLmNvbS9ibG9nL2VtYWlsLW1hcmtldGluZy8yMDE2LzAzLzc1LWNhbGwtdG8tYWN0aW9ucy10by11c2UtaW4tZW1haWwtbWFya2V0aW5nLWNhbXBhaWducy9cIixcbiAgICBjYW5Db250aW51ZTogdHJ1ZSxcbiAgICAvLyBjdGE6IHtcbiAgICAvLyAgIGxhYmVsOiBcIlJlbW92ZSBwYXJhbWV0ZXJcIixcbiAgICAvLyAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgLy8gICAgIExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy5kZWxldGUoXCJ2XCIpO1xuICAgIC8vICAgICBMaW5rT2JqZWN0LmlzTGlua0NvbXBsZXRlKCk7XG4gICAgLy8gICB9XG4gICAgLy8gfSxcbiAgICB3aGVuOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIExpbmtPYmplY3QuY29udGV4dCAmJiAvY2xpY2t8Y2xpY2tcXHNoZXJlL2cudGVzdChMaW5rT2JqZWN0LmNvbnRleHQpXG4gICAgICB9XG4gICAgfTtcbn1dKTtcbiIsIkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJoeXBlcmxpbmtcIikucmVnaXN0ZXIoXCJoeXBlcmxpbmstY2xpY2staGVyZS1jdGFzXCIsW1xuICBcIkxpbmtPYmplY3RcIixmdW5jdGlvbihMaW5rT2JqZWN0KXtcblxuICAgIGxldCByZWdleCA9IC9cXCV8YWN0fGFwcHxiZVxcc3xiZW5lZml0fGJlc3R8YmlyZHxib29rfGJyaWVmfGJ1eXxjaGFuZ2V8Y2xhaW18Y29sbGVjdGlvbnxjb21pbmd8Y29tcGxldGV8Y29ubmVjdGVkfGNvdW50fGNvdXBvbnxjdXJpb3VzfGRlYWx8ZGVsYXl8ZG9uKFxcJ3zigJkpdHxkb25hdGV8ZG93bmxvYWR8ZVxcLWJvb2t8ZWFybHl8ZWJvb2t8ZmFsbHxmYXZvcml0ZXN8ZmVlZGJhY2t8ZmluZHxmb2xsb3d8ZnJlZXxmdWxsfGdldHxnaWZ0fGdpdmV8aGVhcnxob3d8aW5zaWdodHxrZWVwfGtub3d8bGVhcm58bGVhdmV8bGV0fGxpa2V8bWFrZXxtb3JlfG5leHR8bm93fG9yZGVyfHBheXxwcmljZXN8cHVyY2hhc2V8cmVhZHxyZWdpc3RlcnxyZXBlYXR8cmVzZXJ2ZXxyZXN1bHR8cmV2ZWFsfHJldmlld3xzYXZlfHNhdmluZ3xzZWFzb258c2VhdHxzZWV8c2hvcHxzaWdufHNwb3R8c3ByZWFkfHN0YXJ0fHN0YXl8c3VydmV5fHRha2V8dGlja2V0c3x0b2RheXx0cmlhbHx1cGdyYWRlfHZpZGVvfHZpcHx3YW50fHdhdGNofHdlYmluYXJ8d2hpdGVcXHNwYXBlci9pO1xuXG4gICAgdmFyIGEgID0gd2luZG93LmpRdWVyeShMaW5rT2JqZWN0LmNvbnRleHQpO1xuICAgIGxldCBwcm9jZWVkID0gcmVnZXgudGVzdChhLnRleHQoKSkgJiYgYS50ZXh0KCkubGVuZ3RoID4gNDU7XG5cblxuXG4gIC8vICBpZihMaW5rT2JqZWN0LmNvbnRleHQudGVzdCgvY2xpY2t8bGVhcm58ZG93bmxvYWR8cmVnaXN0ZXJ8c3RheXx1cGRhdGV8bm93fHRvZGF5KSlcblxuICByZXR1cm4ge1xuICAgIC8vIGlkOiBcIlwiLFxuICAgIHRpdGxlOiBcIkNUQSBtaWdodCBiZSB0b28gbG9uZy5cIixcbiAgICBkZXNjcmlwdGlvbjogYEluc3RlYWQsIGtlZXAgeW91ciBjYWxscyB0byBhY3Rpb24gc2hvcnQgYW5kIHN3ZWV0LlxuICAgIFJlYWRlcnMgcHJlZmVyIHF1aWNrLCBkaXJlY3QgYWN0aW9uIGl0ZW1zLCBub3QgbGVuZ3RoeSBzZW50ZW5jZXMuYCxcbiAgICB0eXBlOiBFcnJvclR5cGUuV2FybixcbiAgICBzZXZlcml0eTogRXJyb3JTZXZlcml0eS5Mb3csXG4gICAgcmVzb3VyY2U6IFwiaHR0cHM6Ly93d3cuY2FtcGFpZ25tb25pdG9yLmNvbS9ibG9nL2VtYWlsLW1hcmtldGluZy8yMDE2LzAzLzc1LWNhbGwtdG8tYWN0aW9ucy10by11c2UtaW4tZW1haWwtbWFya2V0aW5nLWNhbXBhaWducy9cIixcbiAgICBjYW5Db250aW51ZTogdHJ1ZSxcbiAgICAvLyBjdGE6IHtcbiAgICAvLyAgIGxhYmVsOiBcIlJlbW92ZSBwYXJhbWV0ZXJcIixcbiAgICAvLyAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgLy8gICAgIExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy5kZWxldGUoXCJ2XCIpO1xuICAgIC8vICAgICBMaW5rT2JqZWN0LmlzTGlua0NvbXBsZXRlKCk7XG4gICAgLy8gICB9XG4gICAgLy8gfSxcbiAgICB3aGVuOiBmdW5jdGlvbigpe1xuICAgIHJldHVybiBwcm9jZWVkO1xuICAgICAgLy9yZXR1cm4gTGlua09iamVjdC5jb250ZXh0ICYmIC9jbGlja3xjbGlja1xcc2hlcmUvZy50ZXN0KExpbmtPYmplY3QuY29udGV4dClcbiAgICAgIH1cbiAgICB9O1xufV0pO1xuIiwiRU1MTWFrZXIuaW50ZWxsaWdlbmNlLm1vZHVsZShcImh5cGVybGlua1wiKS5yZWdpc3RlcihcImh5cGVybGluay1kZXNjcmlwdGl2ZS1jdGFzXCIsW1xuICBcIkxpbmtPYmplY3RcIixmdW5jdGlvbihMaW5rT2JqZWN0KXtcblxuXG4gICAgbGV0IHJlZ2V4ID0gL1xcJXxhY3R8YXBwfGJlXFxzfGJlbmVmaXR8YmVzdHxiaXJkfGJvb2t8YnJpZWZ8YnV5fGNoYW5nZXxjbGFpbXxjb2xsZWN0aW9ufGNvbWluZ3xjb21wbGV0ZXxjb25uZWN0ZWR8Y291bnR8Y291cG9ufGN1cmlvdXN8ZGVhbHxkZWxheXxkb24oXFwnfOKAmSl0fGRvbmF0ZXxkb3dubG9hZHxlXFwtYm9va3xlYXJseXxlYm9va3xmYWxsfGZhdm9yaXRlc3xmZWVkYmFja3xmaW5kfGZvbGxvd3xmcmVlfGZ1bGx8Z2V0fGdpZnR8Z2l2ZXxoZWFyfGhvd3xpbnNpZ2h0fGtlZXB8a25vd3xsZWFybnxsZWF2ZXxsZXR8bGlrZXxtYWtlfG1vcmV8bmV4dHxub3d8b3JkZXJ8cGF5fHByaWNlc3xwdXJjaGFzZXxyZWFkfHJlZ2lzdGVyfHJlcGVhdHxyZXNlcnZlfHJlc3VsdHxyZXZlYWx8cmV2aWV3fHNhdmV8c2F2aW5nfHNlYXNvbnxzZWF0fHNlZXxzaG9wfHNpZ258c3BvdHxzcHJlYWR8c3RhcnR8c3RheXxzdXJ2ZXl8dGFrZXx0aWNrZXRzfHRvZGF5fHRyaWFsfHVwZ3JhZGV8dmlkZW98dmlwfHdhbnR8d2F0Y2h8d2ViaW5hcnx3aGl0ZVxcc3BhcGVyL2k7XG5cblxuICAgIC8vaWRlbnRpZnkgY29tcGFyZUFnYWluc3RcblxuICAgIC8vc2VjdXJpdHlcbiAgICAvL3NpbXBsaWNpdHlcbiAgICAvL2VuZ2FnZW1lbnRcbiAgICBsZXQgc2VjdXJpdHkgPSAvcHJpdmFjeXxyZWZ1bmR8cHJvdGVjdGVkfHNlY3VyZXxjZXJ0aWZpZWR8Z3VhcmFudGVlZHxyZWFsaXN0aWN8cmVzZWFyY2hlZHxwcm92ZW58b2ZmaWNpYWx8bW9uZXktYmFja3x0ZXN0ZWR8bGlmZXRpbWV8YmFja2VkL2lcbiAgICBsZXQgc2ltcGxpY2l0eSA9IC9lYXN5fHNpbXBsZXxoYXNzbGVcXC1mcmVlfGhlbHB8Y29tcGxldGV8ZW50aXJlfHRvdGFsfHRob3JvdWdofHB1cmV8bmF0dXJhbHxwbGFpbnxzdHJhaWdodGZvcndhcmR8dW5jb21wbGljYXRlZHxjYW5kaWQvaVxuICAgIGxldCBlbmdhZ2VtZW50ID0gL2luY3JlYXNlfGNyZWF0ZXxzaGFyZXxkaXNjb3Zlcnxjb21wYXJlfHRha2V8c2hvd3x0ZWxsfGZpbmR8bWFrZXxwbGFufGxlYXJufHN0YXJ0fGdyb3cvaVxuICAgIGxldCBleGNsdXNpdmUgPSAvc2VsZWN0fHByaXZhdGV8Y29uZmlkZW50aWFsfGluc2lkZXJ8dmlwfHNlY3JldHxleGNsdXNpdmV8bWVtYmVyc3xlbGl0ZXxpbnZpdGF0aW9ufHNlY3JldHxyZXNlcnZlZHxvbmx5fGNob2ljZS9pXG4gICAgbGV0IHVyZ2VuY3kgPSAvbm93fGltbWVkaWF0ZWx5fHRvZGF5fGxpbWl0ZWR8c2hvcnRseXxzb29ufHJhcGlkfHF1aWNrfGZsYXNofGh1cnJ5fGFsZXJ0fGZhc3R8aW5zdGFudHx1cmdlbnQvaVxuICAgIGxldCBleGNpdGVtZW50ID0gL25ld3xpbnRyb2R1Y2luZ3xsYXRlc3R8c3BlY2lhbHxhbGVydHxnaWZ0fGZyZWV8ZnJlZWJpZXxiZXN0fHByaXplfHdpbnxzYXZlfHVsdGltYXRlfHRyeS9pXG5cbiAgICB2YXIgYSAgPSB3aW5kb3cualF1ZXJ5KExpbmtPYmplY3QuY29udGV4dCk7XG4gICAgdmFyIGMgPSBhLnRleHQoKTtcblxuXG4gICAgdmFyIHNjb3JlID0gWzAsMCwwLDAsMCwwXTtcbiAgICBpZihzZWN1cml0eS50ZXN0KGMpKXtcbiAgICAgIGNvbnNvbGUubG9nKFwic2VjdXJpdHlcIik7XG4gICAgICBzY29yZVswXSA9IDE7XG4gICAgfVxuICAgIGlmKHNpbXBsaWNpdHkudGVzdChjKSl7XG4gICAgICBjb25zb2xlLmxvZyhcInNpbXBsaWNpdHlcIik7XG4gICAgICBzY29yZVsxXSA9IDE7XG4gICAgfVxuICAgIGlmKGVuZ2FnZW1lbnQudGVzdChjKSl7XG4gICAgICBjb25zb2xlLmxvZyhcImVuZ2FnZW1lbnRcIik7XG4gICAgICBzY29yZVsyXSA9IDE7XG4gICAgfVxuICAgIGlmKGV4Y2x1c2l2ZS50ZXN0KGMpKXtcbiAgICAgIGNvbnNvbGUubG9nKFwiZXhjbHVzaXZlXCIpO1xuICAgICAgc2NvcmVbM10gPSAxO1xuICAgIH1cbiAgICBpZih1cmdlbmN5LnRlc3QoYykpe1xuICAgICAgY29uc29sZS5sb2coXCJ1cmdlbmN5XCIpO1xuICAgICAgc2NvcmVbNF0gPSAxO1xuICAgIH1cbiAgICBpZihleGNpdGVtZW50LnRlc3QoYykpe1xuICAgICAgY29uc29sZS5sb2coXCJleGNpdGVtZW50XCIpO1xuICAgICAgc2NvcmVbNV0gPSAxO1xuICAgIH1cblxuXG5cblxuXG4gICAgbGV0IHByb2NlZWQgPSByZWdleC50ZXN0KGEudGV4dCgpKSAmJiBhLnRleHQoKS5sZW5ndGggPiA0NTtcblxuICAvL1xuICAvL1xuICAvLyBsZXQgcHJvY2VlZCA9IExpbmtPYmplY3QuY29udGV4dCAmJiAvY2xpY2t8Y2xpY2tcXHNoZXJlL2cudGVzdChMaW5rT2JqZWN0LmNvbnRleHQpO1xuXG5cblxuXG4gIHJldHVybiB7XG4gICAgLy8gaWQ6IFwiXCIsXG4gICAgdGl0bGU6IFwiQ29uc2lkZXIgdGhlIGxhbmd1YWdlIG9mIHRoZSBDVEFcIixcbiAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICB0eXBlOiBFcnJvclR5cGUuV2FybixcbiAgICBzZXZlcml0eTogRXJyb3JTZXZlcml0eS5Mb3csXG4gICAgcmVzb3VyY2U6IFwiaHR0cHM6Ly93d3cuY2FtcGFpZ25tb25pdG9yLmNvbS9yZXNvdXJjZXMvZ3VpZGVzLzEwLXRpcHMtaW1wcm92ZS1lbWFpbC1jYWxscy1hY3Rpb24vXCIsXG4gICAgY2FuQ29udGludWU6IHRydWUsXG4gICAgLy8gaHR0cHM6Ly93d3cuY2FtcGFpZ25tb25pdG9yLmNvbS9ibG9nL2VtYWlsLW1hcmtldGluZy8yMDE2LzAzLzc1LWNhbGwtdG8tYWN0aW9ucy10by11c2UtaW4tZW1haWwtbWFya2V0aW5nLWNhbXBhaWducy9cbiAgICAvLyBjdGE6IHtcbiAgICAvLyAgIGxhYmVsOiBcIlJlbW92ZSBwYXJhbWV0ZXJcIixcbiAgICAvLyAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgLy8gICAgIExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy5kZWxldGUoXCJ2XCIpO1xuICAgIC8vICAgICBMaW5rT2JqZWN0LmlzTGlua0NvbXBsZXRlKCk7XG4gICAgLy8gICB9XG4gICAgLy8gfSxcbiAgICB3aGVuOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIHByb2NlZWRcbiAgICAgIH1cbiAgICB9O1xufV0pO1xuIiwiRU1MTWFrZXIuaW50ZWxsaWdlbmNlLm1vZHVsZShcImh5cGVybGlua1wiKS5yZWdpc3RlcihcImh5cGVybGluay1oYXMtc3BhY2VzXCIsW1xuICBcIkxpbmtPYmplY3RcIixmdW5jdGlvbihMaW5rT2JqZWN0KXtcblxuXG4gIHJldHVybiB7XG4gICAgLy8gaWQ6IFwiXCIsXG4gICAgdGl0bGU6IFwiVGhpcyBsaW5rIGhhcyBzcGFjZXNcIixcbiAgICBkZXNjcmlwdGlvbjpcIlN0dWZmIGxpa2UgdGhpcyBicmVha3MuIEZpeCBpdCBub3cuXCIsXG4gICAgdHlwZTogRXJyb3JUeXBlLkZpeCxcbiAgICBzZXZlcml0eTogRXJyb3JTZXZlcml0eS5IaWdoLFxuICAgIC8vIHJlc291cmNlOiBcIlwiLFxuICAgIGNhbkNvbnRpbnVlOiBmYWxzZSxcbiAgICBjdGE6IHtcbiAgICAgIGxhYmVsOiBcIlJlbW92ZSBzcGFjZXNcIixcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgIExpbmtPYmplY3QubmV3LnVybCA9IExpbmtPYmplY3QubmV3LnVybC5yZXBsYWNlKC9cXHMvZywgXCIlMjBcIik7XG4gICAgICAgIExpbmtPYmplY3QuaXNMaW5rQ29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gTGlua09iamVjdC5uZXcuY29udGFpbnMoXCIgXCIpO1xuICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFwiaHlwZXJsaW5rLWlzLWljc1wiLFtcbiAgXCJMaW5rT2JqZWN0XCIsIFwiSW50ZWxsaWdlbmNlTW9uaXRvclwiLFwiRU1MV29ya3NwYWNlXCIsIGZ1bmN0aW9uKExpbmtPYmplY3QsSW50ZWxsaWdlbmNlTW9uaXRvcixFTUxXb3Jrc3BhY2Upe1xuXG5cbiAgcmV0dXJuIHtcbiAgICBpZDogXCJjb25mcmltLWNhbGVuZGFyLWZpbGUtaXMtY29ycmVjdFwiLFxuICAgIHRpdGxlOiBcIkNvbmZpcm0gY29ycmVjdCBkZXRhaWxzIC0gQ2FsZW5kYXIgZmlsZVwiLFxuICAgIGRlc2NyaXB0aW9uOlwiQ29uZmlybSB0aGF0IGRhdGUsIHRpbWUsIGxvY2F0aW9uLCB0aW1lem9uZSBhbmQgZGVzY3JpcHRpb24gYXJlIGNvcnJlY3QuXCIsXG4gICAgdHlwZTogRXJyb3JUeXBlLlFBLFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkhpZ2gsXG4gICAgcmVzb3VyY2U6IExpbmtPYmplY3QubmV3LnVybCxcbiAgICByZXNvdXJjZVRleHQ6IFwiT3BlbiBmaWxlXCIsXG4gICAgY2FuQ29udGludWU6IGZhbHNlLFxuICAgIGN0YToge1xuICAgICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgSW50ZWxsaWdlbmNlTW9uaXRvci5vdmVycmlkZGVuLnB1c2goXCJjb25mcmltLWNhbGVuZGFyLWZpbGUtaXMtY29ycmVjdFwiKTtcbiAgICAgICAgTGlua09iamVjdC5pc0xpbmtDb21wbGV0ZSgpO1xuICAgICAgICBFTUxXb3Jrc3BhY2UuaW50ZWxsaWdlbmNlLmV2YWx1YXRlUnVsZXMoKTtcblxuICAgICAgfVxuICAgIH0sXG4gICAgd2hlbjogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiAvKFxcLmljc3xcXC52Y3MpJC9nLnRlc3QoTGlua09iamVjdC5uZXcudXJsKTtcbiAgICAgIH1cbiAgICB9O1xufV0pO1xuIiwiRU1MTWFrZXIuaW50ZWxsaWdlbmNlLm1vZHVsZShcImh5cGVybGlua1wiKS5yZWdpc3RlcihcbiAgXCJoeXBlcmxpbmstbGFuZGluZy1wYWdlLXByZWZlcnJlZFwiLFtcbiAgXCJMaW5rT2JqZWN0XCIsZnVuY3Rpb24oTGlua09iamVjdCl7XG5sZXQgcHJvY2VlZCA9IEdsb2JhbFZhcnMubGFuZGluZ1BhZ2VQcmVmZXJyZWQudGVzdChMaW5rT2JqZWN0Lm5ldy51cmwpO1xuaWYocHJvY2VlZCl7XG4gIHZhciBtYXRjaCA9IExpbmtPYmplY3QubmV3LnVybC5tYXRjaChHbG9iYWxWYXJzLmxhbmRpbmdQYWdlUHJlZmVycmVkKTtcbiAgaWYobWF0Y2gubGVuZ3RoPjApe1xuICAgIHZhciBleHQgPSBtYXRjaFswXS50b1VwcGVyQ2FzZSgpLnN1YnN0cigxLG1hdGNoWzBdLmxlbmd0aCk7XG4gIH1cblxufSBlbHNlIHtcblxufVxuXG4gIHJldHVybiB7XG4gICAgLy8gaWQ6IFwiXCIsXG4gICAgdGl0bGU6IFwiTGFuZGluZyBwYWdlIHByZWZlcnJlZFwiLFxuICAgIGRlc2NyaXB0aW9uOltcIldoZW4geW91IGRpcmVjdCBlbWFpbCBcIixcbiAgICBcInRyYWZmaWMgdG8gXCIsICgvXlthZWlvdUFFSU9VXS9naS50ZXN0KGV4dCkgPyBcImFuIFwiIDogXCJhIFwiKSxcbiAgICBleHQsXCIsIGl0J3MgZ2VuZXJhbGx5IGEgZ29vZCBpZGVhIHRvIHNlcnZlIHRoZSBcIixleHQsXCIgb25cIixcbiAgICBcIiBhIGxhbmRpbmcgcGFnZSB3aXRoIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGFzc2V0LiBUaGlzIHdpbGwgYWxzbyBcIixcbiAgICBcImdpdmUgeW91IG1vcmUgYW5hbHl0aWNzIGRhdGEsIGxpa2Ugc2Vzc2lvbi92aXNpdCBkdXJhdGlvbiBhbmQgcHJvbW90ZSBcIixcbiAgICBcImJyb3dzaW5nIG90aGVyIGNvbnRlbnQuXCJdLmpvaW4oXCJcIiksXG4gICAgdHlwZTogRXJyb3JUeXBlLkJlc3RQcmFjdGljZSxcbiAgICBzZXZlcml0eTogRXJyb3JTZXZlcml0eS5IaWdoLFxuICAgIC8vIHJlc291cmNlOiBcIlwiLFxuICAgIGNhbkNvbnRpbnVlOiB0cnVlLFxuICAgIC8vIGN0YToge1xuICAgIC8vICAgbGFiZWw6IFwiUmVtb3ZlIHBhcmFtZXRlclwiLFxuICAgIC8vICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAvLyAgICAgTGlua09iamVjdC5uZXcuc2VhcmNoUGFyYW1zLmRlbGV0ZShcInZcIik7XG4gICAgLy8gICAgIExpbmtPYmplY3QuaXNMaW5rQ29tcGxldGUoKTtcbiAgICAvLyAgIH1cbiAgICAvLyB9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gcHJvY2VlZFxuICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFxuICBcImh5cGVybGluay1uby1zaG9ydGxpbmtzXCIsW1xuICBcIkxpbmtPYmplY3RcIixmdW5jdGlvbihMaW5rT2JqZWN0KXtcblxuXG4gIHJldHVybiB7XG4gICAgLy8gaWQ6IFwiXCIsXG4gICAgdGl0bGU6IFwiRG9uJ3QgdXNlIHNob3J0bGlua3Mgb3IgdmFuaXR5IFVSTHMgaW4gZW1haWxzXCIsXG4gICAgZGVzY3JpcHRpb246XCJBbHdheXMgdXNlIHRoZSBsb25nIGxpbmsuIEFkZGluZyBxdWVyeSBzdHJpbmcgcGFyYW1ldGVyIHRvIGEgdmFuaXR5XFxcbiAgICAgdXJsIGluc2lkZSBhbiBlbWFpbCB3aWxsIG5vdCB0cmFjayBhcHByb3ByaWF0ZWx5LlwiLFxuICAgIHR5cGU6IChMaW5rT2JqZWN0Lm5ldy5jb250YWlucyhcIm9wdHVtLmNvXCIpKSA/IEVycm9yVHlwZS5GaXggOiBFcnJvclR5cGUuQmVzdFByYWN0aWNlLFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkhpZ2gsXG4gICAgLy8gcmVzb3VyY2U6IFwiXCIsXG4gICAgY2FuQ29udGludWU6IChMaW5rT2JqZWN0Lm5ldy5jb250YWlucyhcIm9wdHVtLmNvXCIpKSA/IGZhbHNlIDogdHJ1ZSxcbiAgICAvLyBjdGE6IHtcbiAgICAvLyAgIGxhYmVsOiBcIlJlbW92ZSBwYXJhbWV0ZXJcIixcbiAgICAvLyAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgLy8gICAgIExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy5kZWxldGUoXCJ2XCIpO1xuICAgIC8vICAgICBMaW5rT2JqZWN0LmlzTGlua0NvbXBsZXRlKCk7XG4gICAgLy8gICB9XG4gICAgLy8gfSxcbiAgICB3aGVuOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIC8uY29tPyhcXC5bYS16XXsyLDN9KT9cXC8oW2EtekEtWjAtOVxcLV0rKVxcLyooXFw/LiopPyQvLnRlc3QoTGlua09iamVjdC5uZXcudXJsLnRyaW0oKSlcbiAgICAgICYmICFMaW5rT2JqZWN0Lm5ldy5jb250YWlucygnaW5mby5vcHR1bScpXG4gICAgICAmJiAhLyh0d2l0dGVyfGxpbmtlZGlufGZhY2Vib29rfHlvdXR1YmUpXFwuY29tPy8udGVzdChMaW5rT2JqZWN0Lm5ldy51cmwpXG4gICAgICB9XG4gICAgfTtcbn1dKTtcbiIsIkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJoeXBlcmxpbmtcIikucmVnaXN0ZXIoXG4gIFwiaHlwZXJsaW5rLW9mdHMtZG9udC11c2VcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuXG5cblxucmV0dXJuIHtcbiAgLy8gaWQ6IFwiXCIsXG4gIHRpdGxlOiBcIldlIGRvbid0IGxpbmsgdG8gT0ZUcyBpbiBlbWFpbHMgd2Ugc2VuZC5cIixcbiAgZGVzY3JpcHRpb246XCJZb3Ugc2hvdWxkIG5vdCBiZSBzZW5kaW5nIE9GVHMgdG8gZXh0ZXJuYWwgY29udGFjdHMuXFxcbiAgICBPRlRzIG9ubHkgd29yayB3aXRoIE91dGxvb2sgb24gUENzLCBhbmQgdGhhdCBpcyBsZXNzXFxcbiAgICAgdGhhbiBoYWxmIG9mIHRoZSBwb3B1bGF0aW9uIG9mIGVtYWlsIGNsaWVudHMgdGhlc2UgZGF5cy5cIixcbiAgdHlwZTogRXJyb3JUeXBlLkJlc3RQcmFjdGljZSxcbiAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHkuSGlnaCxcbiAgLy8gcmVzb3VyY2U6IFwiXCIsXG4gIGNhbkNvbnRpbnVlOiB0cnVlLFxuICAvLyBjdGE6IHtcbiAgLy8gICBsYWJlbDogXCJSZW1vdmUgcGFyYW1ldGVyXCIsXG4gIC8vICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgLy8gICAgIExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy5kZWxldGUoXCJ2XCIpO1xuICAvLyAgICAgTGlua09iamVjdC5pc0xpbmtDb21wbGV0ZSgpO1xuICAvLyAgIH1cbiAgLy8gfSxcbiAgd2hlbjogZnVuY3Rpb24oKXtcbiAgICBsZXQgcHJvY2VlZCA9IExpbmtPYmplY3QubmV3LnVybC5pbmRleE9mKFwiLm9mdFwiKT4tMTtcbiAgICByZXR1cm4gcHJvY2VlZFxuICAgIH1cbiAgfTtcbn1dKTtcbiIsIkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJoeXBlcmxpbmtcIikucmVnaXN0ZXIoXG4gIFwiaHlwZXJsaW5rLW9mdHMtaW1wbGVtZW50LWZ0YWNcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuXG5cbnJldHVybiB7XG4gIC8vIGlkOiBcIlwiLFxuICB0aXRsZTogXCJGb3J3YXJkIHRvIGEgY29sbGVhZ3VlP1wiLFxuICBkZXNjcmlwdGlvbjpcIklmIHlvdSBhcmUgdHJ5aW5nIHRvIGRvIGEgRm9yd2FyZCB0byBhIENvbGxlYWd1ZSAoRlRBQylcXFxuICAgZmVhdHVyZSwgZm9yZ2V0IGRvaW5nIHRoYXQgd2l0aCBhbiBPRlQuIFlvdSBjYW4gYWNoaWV2ZVxcXG4gICAgdGhlIHNhbWUgZWZmZWN0IGJ5IHVzaW5nIGEgbWFpbHRvIGxpbmsuIDxicj48YnI+PGVtPk5PVEU6XFxcbiAgICAgWW91IGNhbiBsZWF2ZSB0aGUgZW1haWwgYWRkcmVzcyBmaWVsZCBibGFuayBmb3IgdGhpcyBvbmUuXFxcbiAgICAgIFdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoZSBsaW5rIHRoZSBlbWFpbCBmaWVsZCB3aWxsIGJlIGVtcHR5LFxcXG4gICAgICAgc28gaGUvc2hlIGNhbiBhZGQgdGhlaXIgb3duIHJlY2lwaWVudHMuPC9lbT5cIixcbiAgdHlwZTogRXJyb3JUeXBlLlN1Z2dlc3Rpb24sXG4gIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkxvdyxcbiAgLy8gcmVzb3VyY2U6IFwiXCIsXG4gIGNhbkNvbnRpbnVlOiB0cnVlLFxuICBjdGE6IHtcbiAgICBsYWJlbDogXCI8aSBjbGFzcz1cXFwid2l6YXJkIGljb25cXFwiPjwvaT4gVHJ5IGl0P1wiLFxuICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgICBMaW5rT2JqZWN0Lm1haWx0by5lbWFpbCA9IFwiXCI7XG4gICAgICBMaW5rT2JqZWN0Lm1haWx0by5zdWJqZWN0ID0gXCJJIHdhbnRlZCB5b3UgdG8gc2VlIHRoaXNcIjtcbiAgICAgIExpbmtPYmplY3QubWFpbHRvLmJvZHkgPSBcIkNoZWNrIG91dCB0aGlzIGxpbmtcXG5cXG5odHRwczovL3d3dy55b3VybGlua2dvZXNoZXJlLmNvbVwiO1xuICAgICAgTGlua09iamVjdC5tYWlsdG8uY29tcG9zZUVtYWlsKCk7XG4gICAgICBMaW5rT2JqZWN0Lm1haWx0by5pbml0RW1haWxFZGl0b3IoKTtcbiAgICAgIExpbmtPYmplY3QubWFpbHRvLm9wZW5FZGl0b3IoKTtcbiAgICAgIExpbmtPYmplY3QuaXNMaW5rQ29tcGxldGUoKTtcbiAgICAgIHdpbmRvdy5nYSgnc2VuZCcsICdldmVudCcsIFwiU3VnZ2VzdGlvblwiLCBcIlVzZSBGVEFDXCIsIFwiVXNlIEZUQUNcIik7XG4gICAgfVxuICB9LFxuICB3aGVuOiBmdW5jdGlvbigpe1xuICAgIHJldHVybiBMaW5rT2JqZWN0Lm5ldy51cmwuaW5kZXhPZihcIi5vZnRcIik+LTFcbiAgICB9XG4gIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFxuICBcImh5cGVybGluay1yZWxhdGl2ZS1wYXRoXCIsW1xuICBcIkxpbmtPYmplY3RcIixmdW5jdGlvbihMaW5rT2JqZWN0KXtcblxuXG4gIHJldHVybiB7XG4gICAgLy8gaWQ6IFwiXCIsXG4gICAgdGl0bGU6IFwiVGhpcyBVUkwgaXMgbm90IGNvcnJlY3QuXCIsXG4gICAgZGVzY3JpcHRpb246XCIvY29udGVudC9vcHR1bTMvZW4vIGlzIG9ubHkgZm9yIHVzZSBpbiBhdXRob3IgaW4gQUVNLCBub3Qgb24gdGhlIGxpdmUgc2l0ZS5cIixcbiAgICB0eXBlOiBFcnJvclR5cGUuRml4LFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkhpZ2gsXG4gICAgLy8gcmVzb3VyY2U6IFwiXCIsXG4gICAgY2FuQ29udGludWU6IGZhbHNlLFxuICAgIC8vIGN0YToge1xuICAgIC8vICAgbGFiZWw6IFwiUmVtb3ZlIHBhcmFtZXRlclwiLFxuICAgIC8vICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAvLyAgICAgTGlua09iamVjdC5uZXcuc2VhcmNoUGFyYW1zLmRlbGV0ZShcInZcIik7XG4gICAgLy8gICAgIExpbmtPYmplY3QuaXNMaW5rQ29tcGxldGUoKTtcbiAgICAvLyAgIH1cbiAgICAvLyB9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gL2h0dHAoLiopXFwvY29udGVudFxcL29wdHVtKC4qKVxcLmh0bWwvZ2kudGVzdChMaW5rT2JqZWN0Lm5ldy51cmwpXG4gICAgICB9XG4gICAgfTtcbn1dKTtcbiIsIkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJoeXBlcmxpbmtcIikucmVnaXN0ZXIoXG4gIFwiaHlwZXJsaW5rLXN0eWxlLW1hdHRlcnNcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuXG5cbiAgcmV0dXJuIHtcbiAgICAvLyBpZDogXCJcIixcbiAgICB0aXRsZTogXCJTdHlsZSBtYXR0ZXJzXCIsXG4gICAgZGVzY3JpcHRpb246XCJZb3Ugc2hvdWxkIG5vdCBwdXQgcHVuY3R1YXRpb24gaW5zaWRlIG9mIGEgbGluayB1bmxlc3MgaXQgaXMgYSBidXR0b24sIGFuZCBldmVuIHRoZW4gaXQncyBhIGxpdHRsZSB3ZWlyZC5cIixcbiAgICB0eXBlOiBFcnJvclR5cGUuQmVzdFByYWN0aWNlLFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5Lk1lZGl1bSxcbiAgICAvLyByZXNvdXJjZTogXCJcIixcbiAgICBjYW5Db250aW51ZTogdHJ1ZSxcbiAgICBjdGE6IHtcbiAgICAgIGxhYmVsOiAnTW92ZSB0aGUgcHVuY3R1YXRpb24nLFxuICAgICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgTGlua09iamVjdC5jb250ZXh0ID0gTGlua09iamVjdC5jb250ZXh0LnJlcGxhY2UoR2xvYmFsVmFycy5saW5rRW5jYXBzdWxhdGVkUHVuY3R1YXRpb24sIFwiPC9hPiQxXCIpO1xuICAgICAgICBMaW5rT2JqZWN0LmlzTGlua0NvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB3aGVuOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIEdsb2JhbFZhcnMubGlua0VuY2Fwc3VsYXRlZFB1bmN0dWF0aW9uLnRlc3QoTGlua09iamVjdC5jb250ZXh0KVxuICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFxuICBcImh5cGVybGluay10cmFja2luZy1hZGQtYWxsXCIsW1xuICBcIkxpbmtPYmplY3RcIixmdW5jdGlvbihMaW5rT2JqZWN0KXtcbiAgICB2YXIgYWZmZWN0ZWQgPSBmYWxzZTtcbiAgICBpZihMaW5rT2JqZWN0LnJlcXVpcmVzVHJhY2tpbmdDb2RlKCkgJiYgTGlua09iamVjdC5oYXNUcmFja2luZ0NvZGUoKSl7XG4gICAgICBMaW5rT2JqZWN0Ll9zdXBlci5tYXBMaW5rT2JqZWN0cyhmdW5jdGlvbihMTyl7XG4gICAgICAgIGlmKExPLnJlcXVpcmVzVHJhY2tpbmdDb2RlKCkgJiYgIUxPLmhhc1RyYWNraW5nQ29kZSgpKXtcbiAgICAgICAgICBhZmZlY3RlZD10cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgcmV0dXJuIHtcbiAgICAvLyBpZDogXCJcIixcbiAgICB0aXRsZTogXCJOZWVkIGEgaGFuZD9cIixcbiAgICBkZXNjcmlwdGlvbjpcIkkgbm90aWNlZCB5b3UgYWRkZWQgYSB0cmFja2luZyBjb2RlIHRvIHRoaXMgbGluaywgZ3JlYXQgam9iLlxcXG4gICAgIElmIHlvdSB3YW50IEkgY2FuIGFkZCB0aGUgc2FtZSB0cmFja2luZyBjb2RlIHRvIHRoZSBvdGhlciBsaW5rcyBpbiB0aGlzIGVtYWlsIFxcXG4gICAgIHdoaWNoIHJlcXVpcmUgdHJhY2tpbmcgY29kZXMuXCIsXG4gICAgdHlwZTogRXJyb3JUeXBlLlN1Z2dlc3Rpb24sXG4gICAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHkuTG93LFxuICAgIC8vIHJlc291cmNlOiBcIlwiLFxuICAgIGNhbkNvbnRpbnVlOiB0cnVlLFxuICAgIGN0YToge1xuICAgICAgbGFiZWw6IFwiPGkgY2xhc3M9XFxcIndpemFyZCBpY29uXFxcIj48L2k+IFVwZGF0ZSBhbGwgbGlua3NcIixcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciB0cmFja2luZ0NvZGUgPSBcIlwiO1xuICAgICAgICBMaW5rT2JqZWN0Lm5ldy5zZWFyY2hQYXJhbXMuZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uKHN0clBhcmFtZXRlcil7XG4gICAgICAgICAgaWYoTGlua09iamVjdC5oYXNUcmFja2luZ0NvZGUoc3RyUGFyYW1ldGVyKSl7XG4gICAgICAgICAgICB0cmFja2luZ0NvZGUgPSBzdHJQYXJhbWV0ZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgTGlua09iamVjdC5fc3VwZXIubWFwTGlua09iamVjdHMoZnVuY3Rpb24oTE8pe1xuICAgICAgICAgIGlmKExPLnJlcXVpcmVzVHJhY2tpbmdDb2RlKCkgJiYgIUxPLmhhc1RyYWNraW5nQ29kZSgpKXtcbiAgICAgICAgICAgIExPLm5ldy5zZWFyY2hQYXJhbXMuYXBwZW5kKHRyYWNraW5nQ29kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgTGlua09iamVjdC5fc3VwZXIubWFwTGlua09iamVjdHMoZnVuY3Rpb24oTE8peyBMTy5pc0xpbmtDb21wbGV0ZSgpOyB9KTtcbiAgICAgICAgd2luZG93LmdhKCdzZW5kJywgJ2V2ZW50JywgXCJTdWdnZXN0aW9uXCIsIFwiQ2FzY2FkZSBUcmFja2luZyBDb2RlXCIsIFwiQ2FzY2FkZSBUcmFja2luZyBDb2RlXCIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgd2hlbjogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBhZmZlY3RlZFxuICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFxuICBcImh5cGVybGluay10cmFja2luZy1ub3QtcmVxdWlyZWRcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuXG4gIHZhciBwaHJhc2UgPSAvXlthZWlvdUFFSU9VXS9naS50ZXN0KGV4dCkgPyBcImFuIFwiIDogXCJhIFwiICsgZXh0O1xuXG4gIHZhciBtYXRjaCA9IExpbmtPYmplY3QubmV3LnVybC5tYXRjaChHbG9iYWxWYXJzLmV4dERvZXNOb3RyZXF1aXJlVHJhY2tpbmdDb2RlKTtcbiAgaWYobWF0Y2ggJiYgbWF0Y2gubGVuZ3RoPjApe1xuICAgIHZhciBleHQgPSBtYXRjaFswXS50b1VwcGVyQ2FzZSgpLnN1YnN0cigxLG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgdmFyIHBocmFzZSA9IC9eW2FlaW91QUVJT1VdL2dpLnRlc3QoZXh0KSA/IFwiYW4gXCIgOiBcImEgXCIgKyBleHQ7XG4gICAgfVxuXG4gIHJldHVybiB7XG4gICAgLy8gaWQ6IFwiXCIsXG4gICAgdGl0bGU6IFwiVW5uZWNlc3NhcnkgdHJhY2tpbmcgbGlua1wiLFxuICAgIGRlc2NyaXB0aW9uOmBJdCBsb29rcyBsaWtlIHlvdSBhZGRlZCBhIHRyYWNraW5nIGNvZGUgdG8gJHtwaHJhc2V9IGZpbGUuXG4gICAgSW4gZmFjdCwgeW91IGNhbiBvbmx5IHRyYWNrIHdlYiBwYWdlcyB3aXRoIHRoZXNlIHRyYWNraW5nIGNvZGVzLmAsXG4gICAgdHlwZTogRXJyb3JUeXBlLkZpeCxcbiAgICBzZXZlcml0eTogRXJyb3JTZXZlcml0eS5IaWdoLFxuICAgIC8vIHJlc291cmNlOiBcIlwiLFxuICAgIGNhbkNvbnRpbnVlOiBmYWxzZSxcbiAgICBjdGE6IHtcbiAgICAgIGxhYmVsOiBcIjxpIGNsYXNzPVxcXCJ3aXphcmQgaWNvblxcXCI+PC9pPkZpeCBpdCBub3dcIixcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGk8TGlua09iamVjdC5uZXcuc2VhcmNoUGFyYW1zLmVudHJpZXMubGVuZ3RoO2krKyl7XG4gICAgICAgICAgaWYoL1thLXpdezEsNH09KC4qPzopezMsOX0vaWcudGVzdChMaW5rT2JqZWN0Lm5ldy5zZWFyY2hQYXJhbXMuZW50cmllc1tpXSkpe1xuICAgICAgICAgICAgTGlua09iamVjdC5uZXcuc2VhcmNoUGFyYW1zLmRlbGV0ZUF0SW5kZXgoaSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHdpbmRvdy5nYSgnc2VuZCcsICdldmVudCcsIFwiU3VnZ2VzdGlvblwiLCBcIlVubmVjZXNzYXJ5IHRyYWNraW5nIGNvZGVcIiwgXCJSZW1vdmUgVHJhY2tpbmcgQ29kZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBMaW5rT2JqZWN0Lm5ldy5zZWFyY2hQYXJhbXMudXBkYXRlRW50cmllcygpO1xuICAgICAgICBMaW5rT2JqZWN0LmlzTGlua0NvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB3aGVuOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIEdsb2JhbFZhcnMuZXh0RG9lc05vdHJlcXVpcmVUcmFja2luZ0NvZGUudGVzdChMaW5rT2JqZWN0Lm5ldy51cmwpICYmIExpbmtPYmplY3QuaGFzVHJhY2tpbmdDb2RlKClcbiAgICAgIH1cbiAgICB9O1xufV0pO1xuIiwiRU1MTWFrZXIuaW50ZWxsaWdlbmNlLm1vZHVsZShcImh5cGVybGlua1wiKS5yZWdpc3RlcihcbiAgXCJoeXBlcmxpbmstdHJhY2tpbmctcmVxdWlyZWRcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuXG5cbiAgcmV0dXJuIHtcbiAgICBpZDogXCJvcHR1bS1idWR1cmwtdHJhY2tpbmctY29kZS1yZXF1aXJlZFwiLFxuICAgIHRpdGxlOiBcIlRoaXMgVVJMIG5lZWRzIGEgdHJhY2tpbmcgY29kZS5cIixcbiAgICBkZXNjcmlwdGlvbjogXCJDcmVhdGUgYW5kIGFkZCBvbmUgdG8gbWFrZSB0aGlzIG1lc3NhZ2UgZ28gYXdheS5cIixcbiAgICB0eXBlOiBFcnJvclR5cGUuRml4LFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkhpZ2gsXG4gICAgLy8gcmVzb3VyY2U6IFwiXCIsXG4gICAgY2FuQ29udGludWU6IGZhbHNlLFxuICAgIGN0YToge1xuICAgICAgbGFiZWw6ICc8aSBjbGFzcz1cInVubG9jayBhbHRlcm5hdGUgaWNvblwiPjwvaT4gRG8gbm90IHRyYWNrIGxpbmsnLFxuICAgICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgTGlua09iamVjdC5vdmVycmlkZVRyYWNraW5nUmVxdWlyZW1lbnRzKCk7XG4gICAgICAgIExpbmtPYmplY3QuaXNMaW5rQ29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gKExpbmtPYmplY3Qud2hpdGVMaXN0ZWRVcmwhPT1MaW5rT2JqZWN0Lm5ldy51cmwpXG4gICAgICAmJiBMaW5rT2JqZWN0Lm5lZWRzVHJhY2tpbmdDb2RlKClcbiAgICAgICYmIUxpbmtPYmplY3QubmV3LmNvbnRhaW5zKFwib3B0dW0uY28vXCIpXG4gICAgICB9XG4gICAgfTtcbn1dKTtcbiIsIkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJoeXBlcmxpbmtcIikucmVnaXN0ZXIoXG4gIFwiaHlwZXJsaW5rLXRyYWNraW5nLXMtY29kZVwiLFtcbiAgXCJMaW5rT2JqZWN0XCIsZnVuY3Rpb24oTGlua09iamVjdCl7XG5cblxuICByZXR1cm4ge1xuICAgIC8vIGlkOiBcIlwiLFxuICAgIHRpdGxlOiBcIkFyZSB5b3UgdHJhY2tpbmcgY2hhbm5lbCBzb3VyY2Ugd2l0aCB5b3VyIGZvcm0/XCIsXG4gICAgZGVzY3JpcHRpb246XCJJZiB0aGlzIGxpbmsgZGlyZWN0cyB0byBhIHBhZ2Ugd2l0aCBhIGZvcm0sIGNvbnNpZGVyIGFkZGluZ1xcXG4gICAgICBhbiBzLWNvZGUgdG8gdGhlIFVSTCBzbyB5b3UgY2FuIHBvcHVsYXRlIGEgZm9ybSBmaWVsZCB3aXRoXFxcbiAgICAgICBhIHZhbHVlIGZyb20gdGhlIHF1ZXJ5IHN0cmluZyB0byB0cmFjayB0aGUgY2hhbm5lbCBzb3VyY2VcXFxuICAgICAgICBvZiB0aGUgZm9ybSBzdWJtaXNzaW9uLjxicj48YnI+PGVtPk5PVEU6IFlvdSBjYW4gY2hhbmdlXFxcbiAgICAgICAgIHRoZSB2YWx1ZSBvZiB0aGUgcy1jb2RlIHRvIHdoYXRldmVyIHlvdSdkIGxpa2UsIGJ1dCB3ZSdsbFxcXG4gICAgICAgICAgYWRkIHRoZSA8Y29kZT5zPWVtYWlsPC9jb2RlPiBieSBkZWZhdWx0LjwvZW0+XCIsXG4gICAgdHlwZTogRXJyb3JUeXBlLlN1Z2dlc3Rpb24sXG4gICAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHkuTG93LFxuICAgIC8vIHJlc291cmNlOiBcIlwiLFxuICAgIC8vIGNhbkNvbnRpbnVlOiB0cnVlLFxuICAgIGN0YToge1xuICAgICAgbGFiZWw6IFwiPGkgY2xhc3M9XFxcIndpemFyZCBpY29uXFxcIj48L2k+QWRkIFMtQ29kZVwiLFxuICAgICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgTGlua09iamVjdC5uZXcuc2VhcmNoUGFyYW1zLmFwcGVuZChcInM9ZW1haWxcIik7XG4gICAgICAgIExpbmtPYmplY3QuaXNMaW5rQ29tcGxldGUoKTtcbiAgICAgICAgd2luZG93LmdhKCdzZW5kJywgJ2V2ZW50JywgXCJTdWdnZXN0aW9uXCIsIFwiQWRkIHMtY29kZVwiLCBcInM9ZW1haWxcIik7XG4gICAgICB9XG4gICAgfSxcbiAgICB3aGVuOiBmdW5jdGlvbigpe1xuXG4gICAgICBsZXQgcmVxdWlyZXNTID0gTGlua09iamVjdC5yZXF1aXJlc1NDb2RlKCk7XG4gICAgICBsZXQgaGFzUyA9IExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy5oYXMoXCJzXCIpO1xuICAgICAgbGV0IHByb2NlZWQgPSByZXF1aXJlc1MgJiYgIWhhc1M7XG5cbiAgICAgIHJldHVybiBwcm9jZWVkICYmICFoYXNTO1xuICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFxuICBcImh5cGVybGluay12LWVxdWFsc1wiLFtcbiAgXCJMaW5rT2JqZWN0XCIsZnVuY3Rpb24oTGlua09iamVjdCl7XG5cblxuICByZXR1cm4ge1xuICAgIC8vIGlkOiBcIlwiLFxuICAgIHRpdGxlOiBcIlY9IGNhbm5vdCBiZSB1c2VkIGluIGVtYWlscy5cIixcbiAgICBkZXNjcmlwdGlvbjpcIlRoaXMgcXVlcnkgc3RyaW5nIHBhcmFtZXRlciBpcyByZXNlcnZlZCBmb3IgdmFuaXR5IHVybHMsIGFuZCBzaG91bGQgbmV2ZXIgYmUgdXNlZCBpbiBhbiBlbWFpbC5cIixcbiAgICB0eXBlOiBFcnJvclR5cGUuRml4LFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkhpZ2gsXG4gICAgLy8gcmVzb3VyY2U6IFwiXCIsXG4gICAgY2FuQ29udGludWU6IGZhbHNlLFxuICAgIGN0YToge1xuICAgICAgbGFiZWw6IFwiUmVtb3ZlIHBhcmFtZXRlclwiLFxuICAgICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgTGlua09iamVjdC5uZXcuc2VhcmNoUGFyYW1zLmRlbGV0ZShcInZcIik7XG4gICAgICAgIExpbmtPYmplY3QuaXNMaW5rQ29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gTGlua09iamVjdC5uZXcuc2VhcmNoUGFyYW1zLmhhcyhcInZcIilcbiAgICAgIH1cbiAgICB9O1xufV0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
