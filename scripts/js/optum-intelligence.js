function __PreviewTextEvalFuncs(){}function __CustomPhoneNumberQA(){this.storedValues="eyJldmVudHNAb3B0dW0uY29tIjoiODAwLjc2NS42NzU5IiwiaW5mb0BvcHR1bS5jb20iOiI4NjYuMzg2LjM0MDQiLCJ2aWV3cG9pbnRzQG9wdHVtLmNvbSI6IjgwMC43NjUuNjcwNSIsImlxQG9wdHVtLmNvbSI6IjgwMC43NjUuNjcwNSIsImVtcG93ZXJAb3B0dW0uY29tIjoiODAwLjc2NS42ODA3Iiwib3B0dW0zNjBAb3B0dW0uY29tIjoiODY2LjIyMy40NzMwIiwiaW5mb3JtQG9wdHVtLmNvbSI6IjgwMC43NjUuNjc5MyIsImRpc2NvdmVyQG9wdHVtLmNvbSI6IjgwMC43NjUuNjYxOSIsImNvbm5lY3RlZEBvcHR1bS5jb20iOiI4NjYuMzA2LjEzMjEiLCJpbm5vdmF0ZUBvcHR1bS5jb20iOiI4MDAuNzY1LjYwOTIiLCJlbmdhZ2VAb3B0dW0uY29tIjoiODY2LjM4Ni4zNDA5IiwiaW5nZW51aXR5QG9wdHVtLmNvbSI6Ijg2Ni40MjcuNjgwNCIsImdsb2JhbEBvcHR1bS5jb20iOiI4NjYuMzIyLjA5NTgiLCJvcHR1bXJ4QG9wdHVtLmNvbSI6Ijg2Ni4zODYuMzQwNCJ9",this.data=JSON.parse(window[["a","t","o","b"].join("")](this.storedValues))}__PreviewTextEvalFuncs.prototype.lowerToCapitalsRatio=function(e){var t=e.length-e.replace(/[A-Z]/g,"").length,i=e.length-e.replace(/[a-z]/g,"").length;return t/(i+t)},__PreviewTextEvalFuncs.prototype.evaluateParagraphText=function(e){return!(e.indexOf("web version")>-1)&&(""!=e&&(!(e.length<70)&&(e!==e.toUpperCase()&&(this.lowerToCapitalsRatio(e)<=.1||void 0))))};var PreviewTextEvalFuncs=new __PreviewTextEvalFuncs;EMLMaker.intelligence.module("email").register("email-has-preheader",["EMLWorkspace",function(e){function t(e){var t,i="",n=/\<p([^\>]|\s|.*)\>([^<].*)?\<\/p\>/gi,r=[];do t=n.exec(e),t&&r.push(t[0]);while(t);for(var o=0;o<r.length;o++){var a=document.createElement("div");a.innerHTML=r[o];var s=a.textContent||a.innerText||"";if(PreviewTextEvalFuncs.evaluateParagraphText(s)){i=s;break}}return i.split(".").shift()+"."}var i=!0,n={title:"",msg:"",type:ErrorType.BestPractice,severity:ErrorSeverity.Low,canContinue:!0,cta:{},suggestion:""},r=e.generateOutputCode("email",!0),o=/\<p.*class=\"preheader\"[^\>].*\>([^<].*)?\<\/p\>/gi,a=/\<p([^\>].*)class=\"preheader\"([^\>].*)\>/gi;if(a.test(r)){var s=r.match(o);if(s){var l=window.jQuery(s[0]),c=l.text();if(0==c.length){n.title="Preview text - Code incomplete",n.type=ErrorType.Fix,n.severity=ErrorSeverity.High,n.msg="Code is present but there is no text set. Consider adding some, or removing the preview text code block from the HTML if you plan on using the preview text feature in Eloqua.";var u=t(r);""!==u&&(n.suggestion=u,n.cta={label:"Fix now",handler:function(){e.workingCode=e.workingCode.replace(o,function(e){return e.replace("</p>",u+"</p>")}),e.intelligence.evaluateRules()}})}else n.title="Preview text - Found",n.msg="<em>Found:</em> "+l.text()}else{n.title="Preview text - Code might be broken",n.msg="Preview text looks like it might be broken.",n.type=ErrorType.Fix,n.severity=ErrorSeverity.High,n.canContinue=!1;var d=t(r);""!==d&&(n.msg=n.msg+"Consider fixing the code and updating this preview text to some content from the email.",n.suggestion=d,n.cta={label:"Fix now",handler:function(){e.workingCode=e.workingCode.replace(a,function(e){return e+d+"</p>"}),e.intelligence.evaluateRules()}})}i=!1}return{id:"email-has-preheader",title:n.title,description:n.msg,type:n.type,severity:n.severity,suggestion:n.suggestion,canContinue:n.canContinue,cta:n.cta?n.cta:{},when:function(){return!i}}}]);var CustomPhoneNumberQA=new __CustomPhoneNumberQA;EMLMaker.intelligence.module("email").register("email-qa-telelphone-numbers",["EMLWorkspace","IntelligenceMonitor",function(e,t){var i=e.generateOutputCode("email",!0),n=[],r=[],o=[];if(GlobalVars.EmailRegex.test(i)){var a;do a=GlobalVars.EmailRegexGlobal.exec(i),a&&n.indexOf(a[0])==-1&&n.push(a[0]);while(a);for(var s=0;s<n.length;s++)CustomPhoneNumberQA.data[n[s]]&&r.push(n[s]+' <i class="ui long right arrow icon"></i> '+CustomPhoneNumberQA.data[n[s]])}var o=[];if(GlobalVars.TelephoneRegex.test(i)){var a;do a=GlobalVars.TelephoneRegexGlobal.exec(i),a&&o.push(a[0]);while(a)}return{id:"confrim-telephone-numbers",title:"Confirm correct contact information - Telephone Number"+(o.length>1?"s":""),description:"<em>Found:</em> "+o.join(", "),type:ErrorType.QA,severity:ErrorSeverity.Medium,canContinue:!1,suggestion:0==r.length?"":r.join("<br>"),cta:{label:"",handler:function(){t.overridden.push("confrim-telephone-numbers"),e.intelligence.evaluateRules()}},when:function(){return o.length>0}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-budurl-correct-type",["LinkObject",function(e){return{id:"optum-hyperlink-budurl-correct-type",title:"Tracking code - Review Marketing Channel",description:"Make sure the BudURL that you created uses the correct marketing channel. For emails, it should be <strong>Email (eml)</strong>.",type:ErrorType.Fix,severity:ErrorSeverity.High,canContinue:!1,when:function(){return e.hasTrackingCode()&&!/\:eml\:/i.test(e["new"].url)}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-click-here-ctas",["LinkObject",function(e){return{title:'"Click here" is a bad practice.',description:'"Click here" links aren\'t really descriptive\n    enough to be effective CTAs. Additionally, click implies that users\n    are using a mouse, which is more than half the time not the case when\n    you consider mobile devices and others reading for accessibility.',type:ErrorType.Warn,severity:ErrorSeverity.Low,resource:"https://www.campaignmonitor.com/blog/email-marketing/2016/03/75-call-to-actions-to-use-in-email-marketing-campaigns/",canContinue:!0,when:function(){return e.context&&/click|click\shere/gi.test(e.context)}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-click-here-ctas",["LinkObject",function(e){var t=/\%|act|app|be\s|benefit|best|bird|book|brief|buy|change|claim|collection|coming|complete|connected|count|coupon|curious|deal|delay|don(\'|â€™)t|donate|download|e\-book|early|ebook|fall|favorites|feedback|find|follow|free|full|get|gift|give|hear|how|insight|keep|know|learn|leave|let|like|make|more|next|now|order|pay|prices|purchase|read|register|repeat|reserve|result|reveal|review|save|saving|season|seat|see|shop|sign|spot|spread|start|stay|survey|take|tickets|today|trial|upgrade|video|vip|want|watch|webinar|white\spaper/i,i=window.jQuery(e.context),n=t.test(i.text())&&i.text().length>45;return{title:"CTA might be too long.",description:"Instead, keep your calls to action short and sweet.\n    Readers prefer quick, direct action items, not lengthy sentences.",type:ErrorType.Warn,severity:ErrorSeverity.Low,resource:"https://www.campaignmonitor.com/blog/email-marketing/2016/03/75-call-to-actions-to-use-in-email-marketing-campaigns/",canContinue:!0,when:function(){return n}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-descriptive-ctas",["LinkObject",function(e){var t,i=/privacy|refund|protected|secure|certified|guaranteed|realistic|researched|proven|official|money-back|tested|lifetime|backed/i,n=/easy|simple|hassle\-free|help|complete|entire|total|thorough|pure|natural|plain|straightforward|uncomplicated|candid/i,r=/increase|create|share|discover|compare|take|show|tell|find|make|plan|learn|start|grow|subscribe/i,o=/select|private|confidential|insider|vip|secret|exclusive|members|elite|invitation|secret|reserved|only|choice/i,a=/now|immediately|today|limited|shortly|soon|rapid|quick|flash|hurry|alert|fast|instant|urgent/i,s=/new|introducing|latest|special|alert|gift|free|freebie|best|prize|win|save|ultimate|try/i,l=window.jQuery(e.context),c=l.text();!function(e){e[e.Security=0]="Security",e[e.Simplicity=1]="Simplicity",e[e.Engagement=2]="Engagement",e[e.Exclusive=3]="Exclusive",e[e.Urgency=4]="Urgency",e[e.Excitement=5]="Excitement"}(t||(t={}));var u=[0,0,0,0,0,0];i.test(c)&&(console.log("security"),u[t.Security]=1),n.test(c)&&(console.log("simplicity"),u[t.Simplicity]=1),r.test(c)&&(console.log("engagement"),u[t.Engagement]=1),o.test(c)&&(console.log("exclusive"),u[t.Exclusive]=1),a.test(c)&&(console.log("urgency"),u[t.Urgency]=1),s.test(c)&&(console.log("excitement"),u[t.Excitement]=1);var d=!1;return{title:"Consider the language of the CTA",description:u.toString(),type:ErrorType.Warn,severity:ErrorSeverity.Low,resource:"https://www.campaignmonitor.com/resources/guides/10-tips-improve-email-calls-action/",canContinue:!0,when:function(){return d}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-has-spaces",["LinkObject",function(e){return{title:"This link has spaces",description:"Stuff like this breaks. Fix it now.",type:ErrorType.Fix,severity:ErrorSeverity.High,canContinue:!1,cta:{label:"Remove spaces",handler:function(){e["new"].url=e["new"].url.replace(/\s/g,"%20"),e.isLinkComplete(),window.ga("send","event","Suggestion","Remove spaces")}},when:function(){return e["new"].contains(" ")}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-is-ics",["LinkObject","IntelligenceMonitor","EMLWorkspace",function(e,t,i){return{id:"confrim-calendar-file-is-correct",title:"Confirm correct details - Calendar file",description:"Confirm that date, time, location, timezone and description are correct.",type:ErrorType.QA,severity:ErrorSeverity.High,resource:e["new"].url,resourceText:"Open file",canContinue:!1,cta:{handler:function(){t.overridden.push("confrim-calendar-file-is-correct"),e.isLinkComplete(),i.intelligence.evaluateRules()}},when:function(){return/(\.ics|\.vcs)$/g.test(e["new"].url)}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-landing-page-preferred",["LinkObject",function(e){var t=GlobalVars.landingPagePreferred.test(e["new"].url);if(t){var i=e["new"].url.match(GlobalVars.landingPagePreferred);if(i.length>0)var n=i[0].toUpperCase().substr(1,i[0].length)}return{title:"Landing page preferred",description:["When you direct email ","traffic to ",/^[aeiouAEIOU]/gi.test(n)?"an ":"a ",n,", it's generally a good idea to serve the ",n," on"," a landing page with more information about the asset. This will also ","give you more analytics data, like session/visit duration and promote ","browsing other content."].join(""),type:ErrorType.BestPractice,severity:ErrorSeverity.High,canContinue:!0,when:function(){return t}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-no-shortlinks",["LinkObject",function(e){return{title:"Don't use shortlinks or vanity URLs in emails",description:"Always use the long link. Adding query string parameter to a vanity     url inside an email will not track appropriately.",type:e["new"].contains("optum.co")?ErrorType.Fix:ErrorType.BestPractice,severity:ErrorSeverity.High,canContinue:!e["new"].contains("optum.co"),when:function(){return/.com?(\.[a-z]{2,3})?\/([a-zA-Z0-9\-]+)\/*(\?.*)?$/.test(e["new"].url.trim())&&!e["new"].contains("info.optum")&&!/(twitter|linkedin|facebook|youtube)\.com?/.test(e["new"].url)}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-ofts-dont-use",["LinkObject",function(e){return{title:"We don't link to OFTs in emails we send.",description:"You should not be sending OFTs to external contacts.    OFTs only work with Outlook on PCs, and that is less     than half of the population of email clients these days.",type:ErrorType.BestPractice,severity:ErrorSeverity.High,canContinue:!0,when:function(){var t=e["new"].url.indexOf(".oft")>-1;return t}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-ofts-implement-ftac",["LinkObject",function(e){return{title:"Forward to a colleague?",description:"If you are trying to do a Forward to a Colleague (FTAC)   feature, forget doing that with an OFT. You can achieve    the same effect by using a mailto link. <br><br><em>NOTE:     You can leave the email address field blank for this one.      When the user clicks the link the email field will be empty,       so he/she can add their own recipients.</em>",type:ErrorType.Suggestion,severity:ErrorSeverity.Low,canContinue:!0,cta:{label:'<i class="wizard icon"></i> Try it?',handler:function(){e.mailto.email="",e.mailto.subject="I wanted you to see this",e.mailto.body="Check out this link\n\nhttps://www.yourlinkgoeshere.com",e.mailto.composeEmail(),e.mailto.initEmailEditor(),e.mailto.openEditor(),e.isLinkComplete(),window.ga("send","event","Suggestion","Use FTAC","Use FTAC")}},when:function(){return e["new"].url.indexOf(".oft")>-1}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-relative-path",["LinkObject",function(e){return{title:"This URL is not correct.",description:"/content/optum3/en/ is only for use in author in AEM, not on the live site.",type:ErrorType.Fix,severity:ErrorSeverity.High,canContinue:!1,when:function(){return/http(.*)\/content\/optum(.*)\.html/gi.test(e["new"].url)}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-style-matters",["LinkObject",function(e){return{title:"Style matters",description:"You should not put punctuation inside of a link unless it is a button, and even then it's a little weird.",type:ErrorType.BestPractice,severity:ErrorSeverity.Medium,canContinue:!0,cta:{label:"Move the punctuation",handler:function(){e.context=e.context.replace(GlobalVars.linkEncapsulatedPunctuation,"</a>$1"),e.isLinkComplete(),window.ga("send","event","Suggestion","Move punctuation")}},when:function(){return GlobalVars.linkEncapsulatedPunctuation.test(e.context)}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-tracking-add-all",["LinkObject",function(e){var t=!1;return e.requiresTrackingCode()&&e.hasTrackingCode()&&e._super.mapLinkObjects(function(e){e.requiresTrackingCode()&&!e.hasTrackingCode()&&(t=!0)}),{title:"Tracking code - Apply to all links?",description:"I noticed you added a tracking code to this link, great job.     If you want I can add the same tracking code to the other links in this email      which require tracking codes.",type:ErrorType.Suggestion,severity:ErrorSeverity.Low,canContinue:!0,cta:{label:'<i class="wizard icon"></i> Update all links',handler:function(){var t="";e["new"].searchParams.entries.forEach(function(i){e.hasTrackingCode(i)&&(t=i)}),e._super.mapLinkObjects(function(e){e.requiresTrackingCode()&&!e.hasTrackingCode()&&e["new"].searchParams.append(t)}),e._super.mapLinkObjects(function(e){e.isLinkComplete()}),window.ga("send","event","Suggestion","Cascade Tracking Code","Cascade Tracking Code")}},when:function(){return t}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-tracking-not-required",["LinkObject",function(e){var t=/^[aeiouAEIOU]/gi.test(n)?"an ":"a "+n,i=e["new"].url.match(GlobalVars.extDoesNotrequireTrackingCode);if(i&&i.length>0)var n=i[0].toUpperCase().substr(1,i[0].length),t=/^[aeiouAEIOU]/gi.test(n)?"an ":"a "+n;return{title:"Unnecessary tracking link",description:"It looks like you added a tracking code to "+t+" file.\n    In fact, you can only track web pages with these tracking codes.",type:ErrorType.Fix,severity:ErrorSeverity.High,canContinue:!1,cta:{label:'<i class="wizard icon"></i>Fix it now',handler:function(){for(var t=0;t<e["new"].searchParams.entries.length;t++)/[a-z]{1,4}=(.*?:){3,9}/gi.test(e["new"].searchParams.entries[t])&&e["new"].searchParams.deleteAtIndex(t),window.ga("send","event","Suggestion","Unnecessary tracking code","Remove Tracking Code");e["new"].searchParams.updateEntries(),e.isLinkComplete()}},when:function(){return GlobalVars.extDoesNotrequireTrackingCode.test(e["new"].url)&&e.hasTrackingCode()}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-tracking-required",["LinkObject",function(e){return{id:"optum-budurl-tracking-code-required",title:"This URL needs a tracking code.",description:"Create and add a tracking code to make this message go away.",type:ErrorType.Fix,severity:ErrorSeverity.High,canContinue:!1,cta:{label:'<i class="unlock alternate icon"></i> Do not track link',handler:function(){e.overrideTrackingRequirements(),e.isLinkComplete()}},when:function(){return e.whiteListedUrl!==e["new"].url&&e.needsTrackingCode()&&!e["new"].contains("optum.co/")}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-tracking-s-code",["LinkObject",function(e){return{title:"Possible form - Tracking Marketing Channel",description:"Pages in this directory sometimes have forms on them. In order to track marketing channel in\n      the form submission data we'll need to add an s-code to the end of this URL. Lucky for you, I'm programmed to automatically add one if there isn't any. But here is your chance to add your own if the value is anything other than <code>s=email</code>",type:ErrorType.Suggestion,suggestion:"ADD s=email",severity:ErrorSeverity.Low,cta:{label:'<i class="wizard icon"></i>Add S-Code',handler:function(){e["new"].searchParams.append("s=email"),e.isLinkComplete(),window.ga("send","event","Suggestion","Add s-code","s=email")}},when:function(){var t=e.requiresSCode(),i=e["new"].searchParams.has("s"),n=t&&!i;return n&&!i}}}]),EMLMaker.intelligence.module("hyperlink").register("hyperlink-v-equals",["LinkObject",function(e){return{title:"V= cannot be used in emails.",description:"This query string parameter is reserved for vanity urls, and should never be used in an email.",type:ErrorType.Fix,severity:ErrorSeverity.High,canContinue:!1,cta:{label:"Remove parameter",handler:function(){e["new"].searchParams["delete"]("v"),e.isLinkComplete()}},when:function(){return e["new"].searchParams.has("v")}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtYWlsLWhhcy1wcmVoZWFkZXIudHMiLCJlbWFpbC1xYS10ZWxlbHBob25lLW51bWJlcnMudHMiLCJoeXBlcmxpbmstYnVkdXJsLWNvcnJlY3QtdHlwZS50cyIsImh5cGVybGluay1jbGljay1oZXJlLWN0YXMudHMiLCJoeXBlcmxpbmstY3RhLXRvby1sb25nLnRzIiwiaHlwZXJsaW5rLWRlc2NyaXB0aXZlLWN0YXMudHMiLCJoeXBlcmxpbmstaGFzLXNwYWNlcy50cyIsImh5cGVybGluay1pcy1pY3MudHMiLCJoeXBlcmxpbmstbGFuZGluZy1wYWdlLXByZWZlcnJlZC50cyIsImh5cGVybGluay1uby1zaG9ydGxpbmtzLnRzIiwiaHlwZXJsaW5rLW9mdHMtZG9udC11c2UudHMiLCJoeXBlcmxpbmstb2Z0cy1pbXBsZW1lbnQtZnRhYy50cyIsImh5cGVybGluay1yZWxhdGl2ZS1wYXRoLnRzIiwiaHlwZXJsaW5rLXN0eWxlLW1hdHRlcnMudHMiLCJoeXBlcmxpbmstdHJhY2tpbmctYWRkLWFsbC50cyIsImh5cGVybGluay10cmFja2luZy1ub3QtcmVxdWlyZWQudHMiLCJoeXBlcmxpbmstdHJhY2tpbmctcmVxdWlyZWQudHMiLCJoeXBlcmxpbmstdHJhY2tpbmctcy1jb2RlLnRzIiwiaHlwZXJsaW5rLXYtZXF1YWxzLnRzIl0sIm5hbWVzIjpbIl9fUHJldmlld1RleHRFdmFsRnVuY3MiLCJfX0N1c3RvbVBob25lTnVtYmVyUUEiLCJ0aGlzIiwic3RvcmVkVmFsdWVzIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsIndpbmRvdyIsImpvaW4iLCJwcm90b3R5cGUiLCJsb3dlclRvQ2FwaXRhbHNSYXRpbyIsInRleHQiLCJudW1VcHBlciIsImxlbmd0aCIsInJlcGxhY2UiLCJudW1Mb3dlciIsImV2YWx1YXRlUGFyYWdyYXBoVGV4dCIsImluZGV4T2YiLCJ0b1VwcGVyQ2FzZSIsIlByZXZpZXdUZXh0RXZhbEZ1bmNzIiwiRU1MTWFrZXIiLCJpbnRlbGxpZ2VuY2UiLCJtb2R1bGUiLCJyZWdpc3RlciIsIkVNTFdvcmtzcGFjZSIsImZpbmRIdW1hblJlYWRhYmxlVGV4dCIsIm91dHB1dENvZGUiLCJtIiwicmVzdWx0IiwicmVnZXgyIiwicmVzdWx0cyIsImV4ZWMiLCJwdXNoIiwiaSIsImRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRleHRDb250ZW50IiwiaW5uZXJUZXh0Iiwic3BsaXQiLCJzaGlmdCIsInByb2NlZWQiLCJvdXRwdXQiLCJ0aXRsZSIsIm1zZyIsInR5cGUiLCJFcnJvclR5cGUiLCJCZXN0UHJhY3RpY2UiLCJzZXZlcml0eSIsIkVycm9yU2V2ZXJpdHkiLCJMb3ciLCJjYW5Db250aW51ZSIsImN0YSIsInN1Z2dlc3Rpb24iLCJnZW5lcmF0ZU91dHB1dENvZGUiLCJyZWdleCIsInJlZ2V4UyIsInRlc3QiLCJmb3VuZCIsIm1hdGNoIiwialF1ZXJ5IiwiRml4IiwiSGlnaCIsInN1Z2dlc3Rpb25fMSIsImxhYmVsIiwiaGFuZGxlciIsIndvcmtpbmdDb2RlIiwiZXZhbHVhdGVSdWxlcyIsInN1Z2dlc3Rpb25fMiIsImlkIiwiZGVzY3JpcHRpb24iLCJ3aGVuIiwiQ3VzdG9tUGhvbmVOdW1iZXJRQSIsIkludGVsbGlnZW5jZU1vbml0b3IiLCJmb3VuZFBob25lcyIsInN1Z2dlc3Rpb25zIiwiR2xvYmFsVmFycyIsIkVtYWlsUmVnZXgiLCJFbWFpbFJlZ2V4R2xvYmFsIiwiVGVsZXBob25lUmVnZXgiLCJUZWxlcGhvbmVSZWdleEdsb2JhbCIsIlFBIiwiTWVkaXVtIiwib3ZlcnJpZGRlbiIsIkxpbmtPYmplY3QiLCJoYXNUcmFja2luZ0NvZGUiLCJ1cmwiLCJXYXJuIiwicmVzb3VyY2UiLCJjb250ZXh0IiwiYSIsIkNUQUFuYWx5c2lzIiwic2VjdXJpdHkiLCJzaW1wbGljaXR5IiwiZW5nYWdlbWVudCIsImV4Y2x1c2l2ZSIsInVyZ2VuY3kiLCJleGNpdGVtZW50IiwiYyIsInNjb3JlIiwiY29uc29sZSIsImxvZyIsIlNlY3VyaXR5IiwiU2ltcGxpY2l0eSIsIkVuZ2FnZW1lbnQiLCJFeGNsdXNpdmUiLCJVcmdlbmN5IiwiRXhjaXRlbWVudCIsInRvU3RyaW5nIiwiaXNMaW5rQ29tcGxldGUiLCJnYSIsImNvbnRhaW5zIiwicmVzb3VyY2VUZXh0IiwibGFuZGluZ1BhZ2VQcmVmZXJyZWQiLCJleHQiLCJzdWJzdHIiLCJ0cmltIiwiU3VnZ2VzdGlvbiIsIm1haWx0byIsImVtYWlsIiwic3ViamVjdCIsImJvZHkiLCJjb21wb3NlRW1haWwiLCJpbml0RW1haWxFZGl0b3IiLCJvcGVuRWRpdG9yIiwibGlua0VuY2Fwc3VsYXRlZFB1bmN0dWF0aW9uIiwiYWZmZWN0ZWQiLCJyZXF1aXJlc1RyYWNraW5nQ29kZSIsIl9zdXBlciIsIm1hcExpbmtPYmplY3RzIiwiTE8iLCJ0cmFja2luZ0NvZGUiLCJzZWFyY2hQYXJhbXMiLCJlbnRyaWVzIiwiZm9yRWFjaCIsInN0clBhcmFtZXRlciIsImFwcGVuZCIsInBocmFzZSIsImV4dERvZXNOb3RyZXF1aXJlVHJhY2tpbmdDb2RlIiwiZGVsZXRlQXRJbmRleCIsInVwZGF0ZUVudHJpZXMiLCJvdmVycmlkZVRyYWNraW5nUmVxdWlyZW1lbnRzIiwid2hpdGVMaXN0ZWRVcmwiLCJuZWVkc1RyYWNraW5nQ29kZSIsInJlcXVpcmVzUyIsInJlcXVpcmVzU0NvZGUiLCJoYXNTIiwiaGFzIl0sIm1hcHBpbmdzIjoiQUFBQSxRQUFBQSwyQkNDQSxRQUFBQyx5QkFDRUMsS0FBS0MsYUFBZSwrb0JBQ3BCRCxLQUFLRSxLQUFPQyxLQUFLQyxNQUFNQyxRQUFRLElBQUksSUFBSSxJQUFJLEtBQUtDLEtBQUssS0FBS04sS0FBS0MsZURBakVILHVCQUF1QlMsVUFBVUMscUJBQXVCLFNBQVNDLEdBQy9ELEdBQUlDLEdBQVdELEVBQUtFLE9BQVNGLEVBQUtHLFFBQVEsU0FBVSxJQUFJRCxPQUNwREUsRUFBV0osRUFBS0UsT0FBU0YsRUFBS0csUUFBUSxTQUFVLElBQUlELE1BQ3hELE9BQU9ELElBQVlHLEVB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TUFBTywrQkFDUDJCLFlBQVksaUdBQ1p6QixLQUFNQyxVQUFVZSxJQUNoQmIsU0FBVUMsY0FBY2EsS0FFeEJYLGFBQWEsRUFDYkMsS0FDRVksTUFBTyxtQkFDUEMsUUFBUyxXQUNQbUIsRUFBQUEsT0FBZWdELGFBQWZoRCxVQUFtQyxLQUNuQ0EsRUFBV3lCLG1CQUdmdEMsS0FBTSxXQUNKLE1BQU9hLEdBQUFBLE9BQWVnRCxhQUFhZSxJQUFJIiwiZmlsZSI6Im9wdHVtLWludGVsbGlnZW5jZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9fUHJldmlld1RleHRFdmFsRnVuY3MoKXtcblxufVxuX19QcmV2aWV3VGV4dEV2YWxGdW5jcy5wcm90b3R5cGUubG93ZXJUb0NhcGl0YWxzUmF0aW8gPSBmdW5jdGlvbih0ZXh0KXtcbiAgdmFyIG51bVVwcGVyID0gdGV4dC5sZW5ndGggLSB0ZXh0LnJlcGxhY2UoL1tBLVpdL2csICcnKS5sZW5ndGg7XG4gIHZhciBudW1Mb3dlciA9IHRleHQubGVuZ3RoIC0gdGV4dC5yZXBsYWNlKC9bYS16XS9nLCAnJykubGVuZ3RoO1xuICByZXR1cm4gbnVtVXBwZXIgLyAobnVtTG93ZXIgKyBudW1VcHBlcik7XG59O1xuX19QcmV2aWV3VGV4dEV2YWxGdW5jcy5wcm90b3R5cGUuZXZhbHVhdGVQYXJhZ3JhcGhUZXh0ID0gZnVuY3Rpb24odGV4dCl7XG4gIGlmKHRleHQuaW5kZXhPZihcIndlYiB2ZXJzaW9uXCIpPi0xKSByZXR1cm4gZmFsc2U7XG4gIGlmKHRleHQgPT0gXCJcIikgcmV0dXJuIGZhbHNlO1xuICBpZih0ZXh0Lmxlbmd0aCA8IDcwKSByZXR1cm4gZmFsc2U7XG4gIGlmKHRleHQgPT09IHRleHQudG9VcHBlckNhc2UoKSkgcmV0dXJuIGZhbHNlO1xuICBpZih0aGlzLmxvd2VyVG9DYXBpdGFsc1JhdGlvKHRleHQpIDw9IDAuMSkgcmV0dXJuIHRydWU7XG59O1xudmFyIFByZXZpZXdUZXh0RXZhbEZ1bmNzICA9IG5ldyBfX1ByZXZpZXdUZXh0RXZhbEZ1bmNzKCk7XG5cbkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJlbWFpbFwiKS5yZWdpc3RlcihcImVtYWlsLWhhcy1wcmVoZWFkZXJcIixbXG4gIFwiRU1MV29ya3NwYWNlXCIsZnVuY3Rpb24oRU1MV29ya3NwYWNlKXtcblxuICAgIHZhciBwcm9jZWVkID0gdHJ1ZTtcbiAgICB2YXIgcHJlaGVhZGVyVGV4dCA9IFwiXCI7XG4gICAgdmFyIG91dHB1dCA9IHtcbiAgICAgIHRpdGxlOiBcIlwiLFxuICAgICAgbXNnOiBcIlwiLFxuICAgICAgdHlwZTogRXJyb3JUeXBlLkJlc3RQcmFjdGljZSxcbiAgICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkxvdyxcbiAgICAgIGNhbkNvbnRpbnVlOiB0cnVlLFxuICAgICAgY3RhOiB7fSxcbiAgICAgIHN1Z2dlc3Rpb246IFwiXCJcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZmluZEh1bWFuUmVhZGFibGVUZXh0KG91dHB1dENvZGUpe1xuICAgICAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gICAgICBsZXQgcmVnZXgyID0gL1xcPHAoW15cXD5dfFxcc3wuKilcXD4oW148XS4qKT9cXDxcXC9wXFw+L2dpO1xuICAgICAgdmFyIG0scmVzdWx0cyA9IFtdO1xuICAgICAgZG8ge1xuICAgICAgICBtID0gcmVnZXgyLmV4ZWMob3V0cHV0Q29kZSk7XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChtWzBdKTtcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAobSk7XG5cbiAgICAgIGZvcih2YXIgaT0wO2k8cmVzdWx0cy5sZW5ndGg7aSsrKXtcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSByZXN1bHRzW2ldO1xuICAgICAgICB2YXIgdGV4dDphbnkgPSBkaXYudGV4dENvbnRlbnQgfHwgZGl2LmlubmVyVGV4dCB8fCBcIlwiO1xuICAgICAgICBpZihQcmV2aWV3VGV4dEV2YWxGdW5jcy5ldmFsdWF0ZVBhcmFncmFwaFRleHQodGV4dCkpIHtcbiAgICAgICAgICByZXN1bHQgPSB0ZXh0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0LnNwbGl0KFwiLlwiKS5zaGlmdCgpICsgXCIuXCI7XG4gICAgfVxuXG4gICAgbGV0IG91dHB1dENvZGUgPSBFTUxXb3Jrc3BhY2UuZ2VuZXJhdGVPdXRwdXRDb2RlKFwiZW1haWxcIiwgdHJ1ZSk7XG4gICAgbGV0IHJlZ2V4ID0gL1xcPHAuKmNsYXNzPVxcXCJwcmVoZWFkZXJcXFwiW15cXD5dLipcXD4oW148XS4qKT9cXDxcXC9wXFw+L2dpO1xuICAgIGxldCByZWdleFMgPSAvXFw8cChbXlxcPl0uKiljbGFzcz1cXFwicHJlaGVhZGVyXFxcIihbXlxcPl0uKilcXD4vZ2k7XG4gICAgaWYocmVnZXhTLnRlc3Qob3V0cHV0Q29kZSkpe1xuICAgICAgdmFyIGZvdW5kID0gb3V0cHV0Q29kZS5tYXRjaChyZWdleCk7XG4gICAgICBpZihmb3VuZCl7XG4gICAgICAgIHZhciB0ZXh0ICA9IHdpbmRvdy5qUXVlcnkoZm91bmRbMF0pO1xuXG4gICAgICAgIGxldCBpbm5lclRleHQgPSB0ZXh0LnRleHQoKTtcbiAgICAgICAgaWYoaW5uZXJUZXh0Lmxlbmd0aD09MCl7XG4gICAgICAgICAgb3V0cHV0LnRpdGxlID0gXCJQcmV2aWV3IHRleHQgLSBDb2RlIGluY29tcGxldGVcIjtcbiAgICAgICAgICBvdXRwdXQudHlwZSA9IEVycm9yVHlwZS5GaXg7XG4gICAgICAgICAgb3V0cHV0LnNldmVyaXR5ID0gRXJyb3JTZXZlcml0eS5IaWdoO1xuICAgICAgICAgIG91dHB1dC5tc2cgPSBcIkNvZGUgaXMgcHJlc2VudCBidXQgdGhlcmUgaXMgbm8gdGV4dCBzZXQuIENvbnNpZGVyIGFkZGluZyBzb21lLCBvciByZW1vdmluZyB0aGUgcHJldmlldyB0ZXh0IGNvZGUgYmxvY2sgZnJvbSB0aGUgSFRNTCBpZiB5b3UgcGxhbiBvbiB1c2luZyB0aGUgcHJldmlldyB0ZXh0IGZlYXR1cmUgaW4gRWxvcXVhLlwiO1xuICAgICAgICAgICAgLy9nZXQgc3VnZ2VzdGlvbi4gKG5lZWRzIHRvIGJlIHNlbnRlbmNlIGNhc2UgYW5kIGxvbmdpc2gpO1xuICAgICAgICAgICAgbGV0IHN1Z2dlc3Rpb24gPSBmaW5kSHVtYW5SZWFkYWJsZVRleHQob3V0cHV0Q29kZSk7XG4gICAgICAgICAgICBpZihzdWdnZXN0aW9uICE9PVwiXCIpIHtcbiAgICAgICAgICAgICAgb3V0cHV0LnN1Z2dlc3Rpb24gPSBzdWdnZXN0aW9uO1xuICAgICAgICAgICAgICBvdXRwdXQuY3RhID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkZpeCBub3dcIixcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgRU1MV29ya3NwYWNlLndvcmtpbmdDb2RlID0gRU1MV29ya3NwYWNlLndvcmtpbmdDb2RlLnJlcGxhY2UocmVnZXgsIGZ1bmN0aW9uKG0pe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5yZXBsYWNlKFwiPC9wPlwiLCBzdWdnZXN0aW9uK1wiPC9wPlwiKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgRU1MV29ya3NwYWNlLmludGVsbGlnZW5jZS5ldmFsdWF0ZVJ1bGVzKCk7XG5cbiAgICAgICAgICAgICAgICAgIC8vdXBkYXRlIHRoZSBjb2RlLlxuICAgICAgICAgICAgICB9fTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0cHV0LnRpdGxlID0gXCJQcmV2aWV3IHRleHQgLSBGb3VuZFwiO1xuICAgICAgICAgIG91dHB1dC5tc2cgPSBcIjxlbT5Gb3VuZDo8L2VtPiBcIiArIHRleHQudGV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dHB1dC50aXRsZSA9IFwiUHJldmlldyB0ZXh0IC0gQ29kZSBtaWdodCBiZSBicm9rZW5cIjtcbiAgICAgICAgb3V0cHV0Lm1zZyA9IFwiUHJldmlldyB0ZXh0IGxvb2tzIGxpa2UgaXQgbWlnaHQgYmUgYnJva2VuLlwiO1xuICAgICAgICBvdXRwdXQudHlwZSA9IEVycm9yVHlwZS5GaXg7XG4gICAgICAgIG91dHB1dC5zZXZlcml0eSA9IEVycm9yU2V2ZXJpdHkuSGlnaDtcbiAgICAgICAgb3V0cHV0LmNhbkNvbnRpbnVlID0gZmFsc2U7XG4gICAgICAgIGxldCBzdWdnZXN0aW9uID0gZmluZEh1bWFuUmVhZGFibGVUZXh0KG91dHB1dENvZGUpO1xuICAgICAgICBpZihzdWdnZXN0aW9uICE9PVwiXCIpIHtcbiAgICAgICAgICBvdXRwdXQubXNnID0gb3V0cHV0Lm1zZysgXCJDb25zaWRlciBmaXhpbmcgdGhlIGNvZGUgYW5kIHVwZGF0aW5nIHRoaXMgcHJldmlldyB0ZXh0IHRvIHNvbWUgY29udGVudCBmcm9tIHRoZSBlbWFpbC5cIjtcbiAgICAgICAgICBvdXRwdXQuc3VnZ2VzdGlvbiA9IHN1Z2dlc3Rpb247XG4gICAgICAgICAgb3V0cHV0LmN0YSA9IHtcbiAgICAgICAgICAgIGxhYmVsOiBcIkZpeCBub3dcIixcbiAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgIEVNTFdvcmtzcGFjZS53b3JraW5nQ29kZSA9IEVNTFdvcmtzcGFjZS53b3JraW5nQ29kZS5yZXBsYWNlKHJlZ2V4UywgZnVuY3Rpb24obSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG0rc3VnZ2VzdGlvbitcIjwvcD5cIjtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIEVNTFdvcmtzcGFjZS5pbnRlbGxpZ2VuY2UuZXZhbHVhdGVSdWxlcygpO1xuICAgICAgICAgICAgICAvL3VwZGF0ZSB0aGUgY29kZS5cbiAgICAgICAgICB9fTtcbiAgICAgICAgfVxuXG4gICAgICB9XG4gICAgICBwcm9jZWVkID0gZmFsc2U7XG4gICAgfVxuXG5cbiAgcmV0dXJuIHtcbiAgICBpZDogXCJlbWFpbC1oYXMtcHJlaGVhZGVyXCIsXG4gICAgdGl0bGU6IG91dHB1dC50aXRsZSxcbiAgICBkZXNjcmlwdGlvbjogb3V0cHV0Lm1zZyxcbiAgICB0eXBlOiBvdXRwdXQudHlwZSxcbiAgICBzZXZlcml0eTogb3V0cHV0LnNldmVyaXR5LFxuICAgIHN1Z2dlc3Rpb246IG91dHB1dC5zdWdnZXN0aW9uLFxuICAgIC8vIHJlc291cmNlOiBcIlwiLFxuICAgIGNhbkNvbnRpbnVlOiBvdXRwdXQuY2FuQ29udGludWUsXG4gICAgY3RhOiBvdXRwdXQuY3RhID8gb3V0cHV0LmN0YSA6IHt9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gIXByb2NlZWQ7XG4gICAgfVxuICB9O1xufV0pO1xuIiwiXG5mdW5jdGlvbiBfX0N1c3RvbVBob25lTnVtYmVyUUEoKXtcbiAgdGhpcy5zdG9yZWRWYWx1ZXMgPSBcImV5SmxkbVZ1ZEhOQWIzQjBkVzB1WTI5dElqb2lPREF3TGpjMk5TNDJOelU1SWl3aWFXNW1iMEJ2Y0hSMWJTNWpiMjBpT2lJNE5qWXVNemcyTGpNME1EUWlMQ0oyYVdWM2NHOXBiblJ6UUc5d2RIVnRMbU52YlNJNklqZ3dNQzQzTmpVdU5qY3dOU0lzSW1seFFHOXdkSFZ0TG1OdmJTSTZJamd3TUM0M05qVXVOamN3TlNJc0ltVnRjRzkzWlhKQWIzQjBkVzB1WTI5dElqb2lPREF3TGpjMk5TNDJPREEzSWl3aWIzQjBkVzB6TmpCQWIzQjBkVzB1WTI5dElqb2lPRFkyTGpJeU15NDBOek13SWl3aWFXNW1iM0p0UUc5d2RIVnRMbU52YlNJNklqZ3dNQzQzTmpVdU5qYzVNeUlzSW1ScGMyTnZkbVZ5UUc5d2RIVnRMbU52YlNJNklqZ3dNQzQzTmpVdU5qWXhPU0lzSW1OdmJtNWxZM1JsWkVCdmNIUjFiUzVqYjIwaU9pSTROall1TXpBMkxqRXpNakVpTENKcGJtNXZkbUYwWlVCdmNIUjFiUzVqYjIwaU9pSTRNREF1TnpZMUxqWXdPVElpTENKbGJtZGhaMlZBYjNCMGRXMHVZMjl0SWpvaU9EWTJMak00Tmk0ek5EQTVJaXdpYVc1blpXNTFhWFI1UUc5d2RIVnRMbU52YlNJNklqZzJOaTQwTWpjdU5qZ3dOQ0lzSW1kc2IySmhiRUJ2Y0hSMWJTNWpiMjBpT2lJNE5qWXVNekl5TGpBNU5UZ2lMQ0p2Y0hSMWJYSjRRRzl3ZEhWdExtTnZiU0k2SWpnMk5pNHpPRFl1TXpRd05DSjlcIjtcbiAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZSh3aW5kb3dbW1wiYVwiLFwidFwiLFwib1wiLFwiYlwiXS5qb2luKFwiXCIpXSh0aGlzLnN0b3JlZFZhbHVlcykpO1xufVxudmFyIEN1c3RvbVBob25lTnVtYmVyUUEgPSBuZXcgX19DdXN0b21QaG9uZU51bWJlclFBKCk7XG5cblxuXG5FTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiZW1haWxcIikucmVnaXN0ZXIoXCJlbWFpbC1xYS10ZWxlbHBob25lLW51bWJlcnNcIixbXG4gIFwiRU1MV29ya3NwYWNlXCIsXCJJbnRlbGxpZ2VuY2VNb25pdG9yXCIsIGZ1bmN0aW9uKEVNTFdvcmtzcGFjZSxJbnRlbGxpZ2VuY2VNb25pdG9yKXtcblxuICAgIC8vZG8gdGhlIGNvZGUgaGVyZTtcbiAgICBsZXQgb3V0cHV0Q29kZSA9IEVNTFdvcmtzcGFjZS5nZW5lcmF0ZU91dHB1dENvZGUoXCJlbWFpbFwiLCB0cnVlKTtcbiAgICB2YXIgZm91bmRQaG9uZXMgPSBbXSwgc3VnZ2VzdGlvbnMgPSBbXTtcbiAgICAvLyBnZXQgdGhlIGVtYWlscyB1c2VkO1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgaWYoR2xvYmFsVmFycy5FbWFpbFJlZ2V4LnRlc3Qob3V0cHV0Q29kZSkpe1xuICAgICAgdmFyIG07XG4gICAgICBkbyB7XG4gICAgICAgIG0gPSBHbG9iYWxWYXJzLkVtYWlsUmVnZXhHbG9iYWwuZXhlYyhvdXRwdXRDb2RlKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICBpZihmb3VuZFBob25lcy5pbmRleE9mKG1bMF0pPT0tMSkgZm91bmRQaG9uZXMucHVzaChtWzBdKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhtWzFdLCBtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAobSk7XG4gICAgICBmb3IodmFyIGkgPTA7aTxmb3VuZFBob25lcy5sZW5ndGg7aSsrKXtcbiAgICAgICAgaWYoQ3VzdG9tUGhvbmVOdW1iZXJRQS5kYXRhW2ZvdW5kUGhvbmVzW2ldXSl7XG4gICAgICAgICAgc3VnZ2VzdGlvbnMucHVzaChmb3VuZFBob25lc1tpXSArIFwiIDxpIGNsYXNzPVxcXCJ1aSBsb25nIHJpZ2h0IGFycm93IGljb25cXFwiPjwvaT4gXCIgKyBDdXN0b21QaG9uZU51bWJlclFBLmRhdGFbZm91bmRQaG9uZXNbaV1dKTtcbiAgICAgICAgfVxuXG4gICAgICB9XG4gICAgfVxuXG5cblxuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgaWYoR2xvYmFsVmFycy5UZWxlcGhvbmVSZWdleC50ZXN0KG91dHB1dENvZGUpKXtcbiAgICAgIHZhciBtO1xuICAgICAgZG8ge1xuICAgICAgICBtID0gR2xvYmFsVmFycy5UZWxlcGhvbmVSZWdleEdsb2JhbC5leGVjKG91dHB1dENvZGUpO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICByZXN1bHRzLnB1c2gobVswXSk7XG4gICAgICAgIC8vY29uc29sZS5sb2cobVsxXSwgbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKG0pO1xuICAgIH1cblxuXG4gIHJldHVybiB7XG4gICAgaWQ6IFwiY29uZnJpbS10ZWxlcGhvbmUtbnVtYmVyc1wiLFxuICAgIHRpdGxlOiBcIkNvbmZpcm0gY29ycmVjdCBjb250YWN0IGluZm9ybWF0aW9uIC0gVGVsZXBob25lIE51bWJlclwiICsgKHJlc3VsdHMubGVuZ3RoPjE/XCJzXCI6XCJcIiksXG4gICAgZGVzY3JpcHRpb246IFwiPGVtPkZvdW5kOjwvZW0+IFwiICsgcmVzdWx0cy5qb2luKFwiLCBcIiksXG4gICAgdHlwZTogRXJyb3JUeXBlLlFBLFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5Lk1lZGl1bSxcbiAgICAvLyByZXNvdXJjZTogXCJcIixcbiAgICBjYW5Db250aW51ZTogZmFsc2UsXG4gICAgc3VnZ2VzdGlvbjogc3VnZ2VzdGlvbnMubGVuZ3RoPT0wID8gXCJcIiA6IHN1Z2dlc3Rpb25zLmpvaW4oXCI8YnI+XCIpLFxuICAgIGN0YToge1xuICAgICAgbGFiZWw6IFwiXCIsXG4gICAgICBoYW5kbGVyOiBmdW5jdGlvbigpe1xuICAgICAgICBJbnRlbGxpZ2VuY2VNb25pdG9yLm92ZXJyaWRkZW4ucHVzaChcImNvbmZyaW0tdGVsZXBob25lLW51bWJlcnNcIik7XG4gICAgICAgIEVNTFdvcmtzcGFjZS5pbnRlbGxpZ2VuY2UuZXZhbHVhdGVSdWxlcygpO1xuICAgICAgfVxuICAgIH0sXG4gICAgd2hlbjogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiByZXN1bHRzLmxlbmd0aD4wO1xuICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFxuICBcImh5cGVybGluay1idWR1cmwtY29ycmVjdC10eXBlXCIsW1xuICBcIkxpbmtPYmplY3RcIixmdW5jdGlvbihMaW5rT2JqZWN0KXtcblxuXG4gIHJldHVybiB7XG4gICAgaWQ6IFwib3B0dW0taHlwZXJsaW5rLWJ1ZHVybC1jb3JyZWN0LXR5cGVcIixcbiAgICB0aXRsZTogXCJUcmFja2luZyBjb2RlIC0gUmV2aWV3IE1hcmtldGluZyBDaGFubmVsXCIsXG4gICAgZGVzY3JpcHRpb246IFwiTWFrZSBzdXJlIHRoZSBCdWRVUkwgdGhhdCB5b3UgY3JlYXRlZCB1c2VzIHRoZSBjb3JyZWN0IG1hcmtldGluZyBjaGFubmVsLiBGb3IgZW1haWxzLCBpdCBzaG91bGQgYmUgPHN0cm9uZz5FbWFpbCAoZW1sKTwvc3Ryb25nPi5cIixcbiAgICB0eXBlOiBFcnJvclR5cGUuRml4LFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkhpZ2gsXG4gICAgLy8gcmVzb3VyY2U6IFwiXCIsXG4gICAgY2FuQ29udGludWU6IGZhbHNlLFxuICAgIC8vIGN0YToge1xuICAgIC8vICAgbGFiZWw6ICc8aSBjbGFzcz1cInVubG9jayBhbHRlcm5hdGUgaWNvblwiPjwvaT4gRG8gbm90IHRyYWNrIGxpbmsnLFxuICAgIC8vICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAvLyAgICAgTGlua09iamVjdC5vdmVycmlkZVRyYWNraW5nUmVxdWlyZW1lbnRzKCk7XG4gICAgLy8gICAgIExpbmtPYmplY3QuaXNMaW5rQ29tcGxldGUoKTtcbiAgICAvLyAgIH1cbiAgICAvLyB9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gTGlua09iamVjdC5oYXNUcmFja2luZ0NvZGUoKSAmJiAhL1xcOmVtbFxcOi9pLnRlc3QoTGlua09iamVjdC5uZXcudXJsKVxuICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFwiaHlwZXJsaW5rLWNsaWNrLWhlcmUtY3Rhc1wiLFtcbiAgXCJMaW5rT2JqZWN0XCIsZnVuY3Rpb24oTGlua09iamVjdCl7XG5cblxuICByZXR1cm4ge1xuICAgIC8vIGlkOiBcIlwiLFxuICAgIHRpdGxlOiBcIlxcXCJDbGljayBoZXJlXFxcIiBpcyBhIGJhZCBwcmFjdGljZS5cIixcbiAgICBkZXNjcmlwdGlvbjogYFxcXCJDbGljayBoZXJlXFxcIiBsaW5rcyBhcmVuJ3QgcmVhbGx5IGRlc2NyaXB0aXZlXG4gICAgZW5vdWdoIHRvIGJlIGVmZmVjdGl2ZSBDVEFzLiBBZGRpdGlvbmFsbHksIGNsaWNrIGltcGxpZXMgdGhhdCB1c2Vyc1xuICAgIGFyZSB1c2luZyBhIG1vdXNlLCB3aGljaCBpcyBtb3JlIHRoYW4gaGFsZiB0aGUgdGltZSBub3QgdGhlIGNhc2Ugd2hlblxuICAgIHlvdSBjb25zaWRlciBtb2JpbGUgZGV2aWNlcyBhbmQgb3RoZXJzIHJlYWRpbmcgZm9yIGFjY2Vzc2liaWxpdHkuYCxcbiAgICB0eXBlOiBFcnJvclR5cGUuV2FybixcbiAgICBzZXZlcml0eTogRXJyb3JTZXZlcml0eS5Mb3csXG4gICAgcmVzb3VyY2U6IFwiaHR0cHM6Ly93d3cuY2FtcGFpZ25tb25pdG9yLmNvbS9ibG9nL2VtYWlsLW1hcmtldGluZy8yMDE2LzAzLzc1LWNhbGwtdG8tYWN0aW9ucy10by11c2UtaW4tZW1haWwtbWFya2V0aW5nLWNhbXBhaWducy9cIixcbiAgICBjYW5Db250aW51ZTogdHJ1ZSxcbiAgICAvLyBjdGE6IHtcbiAgICAvLyAgIGxhYmVsOiBcIlJlbW92ZSBwYXJhbWV0ZXJcIixcbiAgICAvLyAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgLy8gICAgIExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy5kZWxldGUoXCJ2XCIpO1xuICAgIC8vICAgICBMaW5rT2JqZWN0LmlzTGlua0NvbXBsZXRlKCk7XG4gICAgLy8gICB9XG4gICAgLy8gfSxcbiAgICB3aGVuOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIExpbmtPYmplY3QuY29udGV4dCAmJiAvY2xpY2t8Y2xpY2tcXHNoZXJlL2dpLnRlc3QoTGlua09iamVjdC5jb250ZXh0KVxuICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFwiaHlwZXJsaW5rLWNsaWNrLWhlcmUtY3Rhc1wiLFtcbiAgXCJMaW5rT2JqZWN0XCIsZnVuY3Rpb24oTGlua09iamVjdCl7XG5cbiAgICBsZXQgcmVnZXggPSAvXFwlfGFjdHxhcHB8YmVcXHN8YmVuZWZpdHxiZXN0fGJpcmR8Ym9va3xicmllZnxidXl8Y2hhbmdlfGNsYWltfGNvbGxlY3Rpb258Y29taW5nfGNvbXBsZXRlfGNvbm5lY3RlZHxjb3VudHxjb3Vwb258Y3VyaW91c3xkZWFsfGRlbGF5fGRvbihcXCd84oCZKXR8ZG9uYXRlfGRvd25sb2FkfGVcXC1ib29rfGVhcmx5fGVib29rfGZhbGx8ZmF2b3JpdGVzfGZlZWRiYWNrfGZpbmR8Zm9sbG93fGZyZWV8ZnVsbHxnZXR8Z2lmdHxnaXZlfGhlYXJ8aG93fGluc2lnaHR8a2VlcHxrbm93fGxlYXJufGxlYXZlfGxldHxsaWtlfG1ha2V8bW9yZXxuZXh0fG5vd3xvcmRlcnxwYXl8cHJpY2VzfHB1cmNoYXNlfHJlYWR8cmVnaXN0ZXJ8cmVwZWF0fHJlc2VydmV8cmVzdWx0fHJldmVhbHxyZXZpZXd8c2F2ZXxzYXZpbmd8c2Vhc29ufHNlYXR8c2VlfHNob3B8c2lnbnxzcG90fHNwcmVhZHxzdGFydHxzdGF5fHN1cnZleXx0YWtlfHRpY2tldHN8dG9kYXl8dHJpYWx8dXBncmFkZXx2aWRlb3x2aXB8d2FudHx3YXRjaHx3ZWJpbmFyfHdoaXRlXFxzcGFwZXIvaTtcblxuICAgIHZhciBhICA9IHdpbmRvdy5qUXVlcnkoTGlua09iamVjdC5jb250ZXh0KTtcbiAgICBsZXQgcHJvY2VlZCA9IHJlZ2V4LnRlc3QoYS50ZXh0KCkpICYmIGEudGV4dCgpLmxlbmd0aCA+IDQ1O1xuXG5cblxuICAvLyAgaWYoTGlua09iamVjdC5jb250ZXh0LnRlc3QoL2NsaWNrfGxlYXJufGRvd25sb2FkfHJlZ2lzdGVyfHN0YXl8dXBkYXRlfG5vd3x0b2RheSkpXG5cbiAgcmV0dXJuIHtcbiAgICAvLyBpZDogXCJcIixcbiAgICB0aXRsZTogXCJDVEEgbWlnaHQgYmUgdG9vIGxvbmcuXCIsXG4gICAgZGVzY3JpcHRpb246IGBJbnN0ZWFkLCBrZWVwIHlvdXIgY2FsbHMgdG8gYWN0aW9uIHNob3J0IGFuZCBzd2VldC5cbiAgICBSZWFkZXJzIHByZWZlciBxdWljaywgZGlyZWN0IGFjdGlvbiBpdGVtcywgbm90IGxlbmd0aHkgc2VudGVuY2VzLmAsXG4gICAgdHlwZTogRXJyb3JUeXBlLldhcm4sXG4gICAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHkuTG93LFxuICAgIHJlc291cmNlOiBcImh0dHBzOi8vd3d3LmNhbXBhaWdubW9uaXRvci5jb20vYmxvZy9lbWFpbC1tYXJrZXRpbmcvMjAxNi8wMy83NS1jYWxsLXRvLWFjdGlvbnMtdG8tdXNlLWluLWVtYWlsLW1hcmtldGluZy1jYW1wYWlnbnMvXCIsXG4gICAgY2FuQ29udGludWU6IHRydWUsXG4gICAgLy8gY3RhOiB7XG4gICAgLy8gICBsYWJlbDogXCJSZW1vdmUgcGFyYW1ldGVyXCIsXG4gICAgLy8gICBoYW5kbGVyOiBmdW5jdGlvbigpe1xuICAgIC8vICAgICBMaW5rT2JqZWN0Lm5ldy5zZWFyY2hQYXJhbXMuZGVsZXRlKFwidlwiKTtcbiAgICAvLyAgICAgTGlua09iamVjdC5pc0xpbmtDb21wbGV0ZSgpO1xuICAgIC8vICAgfVxuICAgIC8vIH0sXG4gICAgd2hlbjogZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gcHJvY2VlZDtcbiAgICAgIC8vcmV0dXJuIExpbmtPYmplY3QuY29udGV4dCAmJiAvY2xpY2t8Y2xpY2tcXHNoZXJlL2cudGVzdChMaW5rT2JqZWN0LmNvbnRleHQpXG4gICAgICB9XG4gICAgfTtcbn1dKTtcbiIsIkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJoeXBlcmxpbmtcIikucmVnaXN0ZXIoXCJoeXBlcmxpbmstZGVzY3JpcHRpdmUtY3Rhc1wiLFtcbiAgXCJMaW5rT2JqZWN0XCIsZnVuY3Rpb24oTGlua09iamVjdCl7XG5cblxuICAgIGxldCByZWdleCA9IC9cXCV8YWN0fGFwcHxiZVxcc3xiZW5lZml0fGJlc3R8YmlyZHxib29rfGJyaWVmfGJ1eXxjaGFuZ2V8Y2xhaW18Y29sbGVjdGlvbnxjb21pbmd8Y29tcGxldGV8Y29ubmVjdGVkfGNvdW50fGNvdXBvbnxjdXJpb3VzfGRlYWx8ZGVsYXl8ZG9uKFxcJ3zigJkpdHxkb25hdGV8ZG93bmxvYWR8ZVxcLWJvb2t8ZWFybHl8ZWJvb2t8ZmFsbHxmYXZvcml0ZXN8ZmVlZGJhY2t8ZmluZHxmb2xsb3d8ZnJlZXxmdWxsfGdldHxnaWZ0fGdpdmV8aGVhcnxob3d8aW5zaWdodHxrZWVwfGtub3d8bGVhcm58bGVhdmV8bGV0fGxpa2V8bWFrZXxtb3JlfG5leHR8bm93fG9yZGVyfHBheXxwcmljZXN8cHVyY2hhc2V8cmVhZHxyZWdpc3RlcnxyZXBlYXR8cmVzZXJ2ZXxyZXN1bHR8cmV2ZWFsfHJldmlld3xzYXZlfHNhdmluZ3xzZWFzb258c2VhdHxzZWV8c2hvcHxzaWdufHNwb3R8c3ByZWFkfHN0YXJ0fHN0YXl8c3VydmV5fHRha2V8dGlja2V0c3x0b2RheXx0cmlhbHx1cGdyYWRlfHZpZGVvfHZpcHx3YW50fHdhdGNofHdlYmluYXJ8d2hpdGVcXHNwYXBlci9pO1xuXG5cbiAgICAvL2lkZW50aWZ5IGNvbXBhcmVBZ2FpbnN0XG5cbiAgICAvL3NlY3VyaXR5XG4gICAgLy9zaW1wbGljaXR5XG4gICAgLy9lbmdhZ2VtZW50XG4gICAgbGV0IHNlY3VyaXR5ID0gL3ByaXZhY3l8cmVmdW5kfHByb3RlY3RlZHxzZWN1cmV8Y2VydGlmaWVkfGd1YXJhbnRlZWR8cmVhbGlzdGljfHJlc2VhcmNoZWR8cHJvdmVufG9mZmljaWFsfG1vbmV5LWJhY2t8dGVzdGVkfGxpZmV0aW1lfGJhY2tlZC9pXG4gICAgbGV0IHNpbXBsaWNpdHkgPSAvZWFzeXxzaW1wbGV8aGFzc2xlXFwtZnJlZXxoZWxwfGNvbXBsZXRlfGVudGlyZXx0b3RhbHx0aG9yb3VnaHxwdXJlfG5hdHVyYWx8cGxhaW58c3RyYWlnaHRmb3J3YXJkfHVuY29tcGxpY2F0ZWR8Y2FuZGlkL2lcbiAgICBsZXQgZW5nYWdlbWVudCA9IC9pbmNyZWFzZXxjcmVhdGV8c2hhcmV8ZGlzY292ZXJ8Y29tcGFyZXx0YWtlfHNob3d8dGVsbHxmaW5kfG1ha2V8cGxhbnxsZWFybnxzdGFydHxncm93fHN1YnNjcmliZS9pXG4gICAgbGV0IGV4Y2x1c2l2ZSA9IC9zZWxlY3R8cHJpdmF0ZXxjb25maWRlbnRpYWx8aW5zaWRlcnx2aXB8c2VjcmV0fGV4Y2x1c2l2ZXxtZW1iZXJzfGVsaXRlfGludml0YXRpb258c2VjcmV0fHJlc2VydmVkfG9ubHl8Y2hvaWNlL2lcbiAgICBsZXQgdXJnZW5jeSA9IC9ub3d8aW1tZWRpYXRlbHl8dG9kYXl8bGltaXRlZHxzaG9ydGx5fHNvb258cmFwaWR8cXVpY2t8Zmxhc2h8aHVycnl8YWxlcnR8ZmFzdHxpbnN0YW50fHVyZ2VudC9pXG4gICAgbGV0IGV4Y2l0ZW1lbnQgPSAvbmV3fGludHJvZHVjaW5nfGxhdGVzdHxzcGVjaWFsfGFsZXJ0fGdpZnR8ZnJlZXxmcmVlYmllfGJlc3R8cHJpemV8d2lufHNhdmV8dWx0aW1hdGV8dHJ5L2lcblxuICAgIHZhciBhICA9IHdpbmRvdy5qUXVlcnkoTGlua09iamVjdC5jb250ZXh0KTtcbiAgICB2YXIgYyA9IGEudGV4dCgpO1xuXG4gICAgZW51bSBDVEFBbmFseXNpcyB7XG4gICAgICBTZWN1cml0eT0wLFxuICAgICAgU2ltcGxpY2l0eSxcbiAgICAgIEVuZ2FnZW1lbnQsXG4gICAgICBFeGNsdXNpdmUsXG4gICAgICBVcmdlbmN5LFxuICAgICAgRXhjaXRlbWVudFxuICAgIH1cbiAgICB2YXIgc2NvcmUgPSBbMCwwLDAsMCwwLDBdO1xuICAgIGlmKHNlY3VyaXR5LnRlc3QoYykpe1xuICAgICAgY29uc29sZS5sb2coXCJzZWN1cml0eVwiKTtcbiAgICAgIHNjb3JlW0NUQUFuYWx5c2lzLlNlY3VyaXR5XSA9IDE7XG4gICAgfVxuICAgIGlmKHNpbXBsaWNpdHkudGVzdChjKSl7XG4gICAgICBjb25zb2xlLmxvZyhcInNpbXBsaWNpdHlcIik7XG4gICAgICBzY29yZVtDVEFBbmFseXNpcy5TaW1wbGljaXR5XSA9IDE7XG4gICAgfVxuICAgIGlmKGVuZ2FnZW1lbnQudGVzdChjKSl7XG4gICAgICBjb25zb2xlLmxvZyhcImVuZ2FnZW1lbnRcIik7XG4gICAgICBzY29yZVtDVEFBbmFseXNpcy5FbmdhZ2VtZW50XSA9IDE7XG4gICAgfVxuICAgIGlmKGV4Y2x1c2l2ZS50ZXN0KGMpKXtcbiAgICAgIGNvbnNvbGUubG9nKFwiZXhjbHVzaXZlXCIpO1xuICAgICAgc2NvcmVbQ1RBQW5hbHlzaXMuRXhjbHVzaXZlXSA9IDE7XG4gICAgfVxuICAgIGlmKHVyZ2VuY3kudGVzdChjKSl7XG4gICAgICBjb25zb2xlLmxvZyhcInVyZ2VuY3lcIik7XG4gICAgICBzY29yZVtDVEFBbmFseXNpcy5VcmdlbmN5XSA9IDE7XG4gICAgfVxuICAgIGlmKGV4Y2l0ZW1lbnQudGVzdChjKSl7XG4gICAgICBjb25zb2xlLmxvZyhcImV4Y2l0ZW1lbnRcIik7XG4gICAgICBzY29yZVtDVEFBbmFseXNpcy5FeGNpdGVtZW50XSA9IDE7XG4gICAgfVxuXG5cblxuXG4gICAgLy8gbGV0IHByb2NlZWQgPSBzY29yZS5yZWR1Y2UoKGEsYik9PiBhK2IsIDApID4gMDtcbiAgICBsZXQgcHJvY2VlZCA9IGZhbHNlO1xuXG4gIC8vXG4gIC8vXG4gIC8vIGxldCBwcm9jZWVkID0gTGlua09iamVjdC5jb250ZXh0ICYmIC9jbGlja3xjbGlja1xcc2hlcmUvZy50ZXN0KExpbmtPYmplY3QuY29udGV4dCk7XG5cblxuXG5cbiAgcmV0dXJuIHtcbiAgICAvLyBpZDogXCJcIixcbiAgICB0aXRsZTogXCJDb25zaWRlciB0aGUgbGFuZ3VhZ2Ugb2YgdGhlIENUQVwiLFxuICAgIGRlc2NyaXB0aW9uOiBzY29yZS50b1N0cmluZygpLFxuICAgIHR5cGU6IEVycm9yVHlwZS5XYXJuLFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkxvdyxcbiAgICByZXNvdXJjZTogXCJodHRwczovL3d3dy5jYW1wYWlnbm1vbml0b3IuY29tL3Jlc291cmNlcy9ndWlkZXMvMTAtdGlwcy1pbXByb3ZlLWVtYWlsLWNhbGxzLWFjdGlvbi9cIixcbiAgICBjYW5Db250aW51ZTogdHJ1ZSxcbiAgICAvLyBodHRwczovL3d3dy5jYW1wYWlnbm1vbml0b3IuY29tL2Jsb2cvZW1haWwtbWFya2V0aW5nLzIwMTYvMDMvNzUtY2FsbC10by1hY3Rpb25zLXRvLXVzZS1pbi1lbWFpbC1tYXJrZXRpbmctY2FtcGFpZ25zL1xuICAgIC8vIGN0YToge1xuICAgIC8vICAgbGFiZWw6IFwiUmVtb3ZlIHBhcmFtZXRlclwiLFxuICAgIC8vICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAvLyAgICAgTGlua09iamVjdC5uZXcuc2VhcmNoUGFyYW1zLmRlbGV0ZShcInZcIik7XG4gICAgLy8gICAgIExpbmtPYmplY3QuaXNMaW5rQ29tcGxldGUoKTtcbiAgICAvLyAgIH1cbiAgICAvLyB9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gcHJvY2VlZFxuICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFwiaHlwZXJsaW5rLWhhcy1zcGFjZXNcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuXG5cbiAgcmV0dXJuIHtcbiAgICAvLyBpZDogXCJcIixcbiAgICB0aXRsZTogXCJUaGlzIGxpbmsgaGFzIHNwYWNlc1wiLFxuICAgIGRlc2NyaXB0aW9uOlwiU3R1ZmYgbGlrZSB0aGlzIGJyZWFrcy4gRml4IGl0IG5vdy5cIixcbiAgICB0eXBlOiBFcnJvclR5cGUuRml4LFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkhpZ2gsXG4gICAgLy8gcmVzb3VyY2U6IFwiXCIsXG4gICAgY2FuQ29udGludWU6IGZhbHNlLFxuICAgIGN0YToge1xuICAgICAgbGFiZWw6IFwiUmVtb3ZlIHNwYWNlc1wiLFxuICAgICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgTGlua09iamVjdC5uZXcudXJsID0gTGlua09iamVjdC5uZXcudXJsLnJlcGxhY2UoL1xccy9nLCBcIiUyMFwiKTtcbiAgICAgICAgTGlua09iamVjdC5pc0xpbmtDb21wbGV0ZSgpO1xuICAgICAgICB3aW5kb3cuZ2EoJ3NlbmQnLCAnZXZlbnQnLCBcIlN1Z2dlc3Rpb25cIiwgXCJSZW1vdmUgc3BhY2VzXCIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgd2hlbjogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBMaW5rT2JqZWN0Lm5ldy5jb250YWlucyhcIiBcIik7XG4gICAgICB9XG4gICAgfTtcbn1dKTtcbiIsIkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJoeXBlcmxpbmtcIikucmVnaXN0ZXIoXCJoeXBlcmxpbmstaXMtaWNzXCIsW1xuICBcIkxpbmtPYmplY3RcIiwgXCJJbnRlbGxpZ2VuY2VNb25pdG9yXCIsXCJFTUxXb3Jrc3BhY2VcIiwgZnVuY3Rpb24oTGlua09iamVjdCxJbnRlbGxpZ2VuY2VNb25pdG9yLEVNTFdvcmtzcGFjZSl7XG5cblxuICByZXR1cm4ge1xuICAgIGlkOiBcImNvbmZyaW0tY2FsZW5kYXItZmlsZS1pcy1jb3JyZWN0XCIsXG4gICAgdGl0bGU6IFwiQ29uZmlybSBjb3JyZWN0IGRldGFpbHMgLSBDYWxlbmRhciBmaWxlXCIsXG4gICAgZGVzY3JpcHRpb246XCJDb25maXJtIHRoYXQgZGF0ZSwgdGltZSwgbG9jYXRpb24sIHRpbWV6b25lIGFuZCBkZXNjcmlwdGlvbiBhcmUgY29ycmVjdC5cIixcbiAgICB0eXBlOiBFcnJvclR5cGUuUUEsXG4gICAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHkuSGlnaCxcbiAgICByZXNvdXJjZTogTGlua09iamVjdC5uZXcudXJsLFxuICAgIHJlc291cmNlVGV4dDogXCJPcGVuIGZpbGVcIixcbiAgICBjYW5Db250aW51ZTogZmFsc2UsXG4gICAgY3RhOiB7XG4gICAgICBoYW5kbGVyOiBmdW5jdGlvbigpe1xuICAgICAgICBJbnRlbGxpZ2VuY2VNb25pdG9yLm92ZXJyaWRkZW4ucHVzaChcImNvbmZyaW0tY2FsZW5kYXItZmlsZS1pcy1jb3JyZWN0XCIpO1xuICAgICAgICBMaW5rT2JqZWN0LmlzTGlua0NvbXBsZXRlKCk7XG4gICAgICAgIEVNTFdvcmtzcGFjZS5pbnRlbGxpZ2VuY2UuZXZhbHVhdGVSdWxlcygpO1xuXG4gICAgICB9XG4gICAgfSxcbiAgICB3aGVuOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIC8oXFwuaWNzfFxcLnZjcykkL2cudGVzdChMaW5rT2JqZWN0Lm5ldy51cmwpO1xuICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFxuICBcImh5cGVybGluay1sYW5kaW5nLXBhZ2UtcHJlZmVycmVkXCIsW1xuICBcIkxpbmtPYmplY3RcIixmdW5jdGlvbihMaW5rT2JqZWN0KXtcbmxldCBwcm9jZWVkID0gR2xvYmFsVmFycy5sYW5kaW5nUGFnZVByZWZlcnJlZC50ZXN0KExpbmtPYmplY3QubmV3LnVybCk7XG5pZihwcm9jZWVkKXtcbiAgdmFyIG1hdGNoID0gTGlua09iamVjdC5uZXcudXJsLm1hdGNoKEdsb2JhbFZhcnMubGFuZGluZ1BhZ2VQcmVmZXJyZWQpO1xuICBpZihtYXRjaC5sZW5ndGg+MCl7XG4gICAgdmFyIGV4dCA9IG1hdGNoWzBdLnRvVXBwZXJDYXNlKCkuc3Vic3RyKDEsbWF0Y2hbMF0ubGVuZ3RoKTtcbiAgfVxuXG59IGVsc2Uge1xuXG59XG5cbiAgcmV0dXJuIHtcbiAgICAvLyBpZDogXCJcIixcbiAgICB0aXRsZTogXCJMYW5kaW5nIHBhZ2UgcHJlZmVycmVkXCIsXG4gICAgZGVzY3JpcHRpb246W1wiV2hlbiB5b3UgZGlyZWN0IGVtYWlsIFwiLFxuICAgIFwidHJhZmZpYyB0byBcIiwgKC9eW2FlaW91QUVJT1VdL2dpLnRlc3QoZXh0KSA/IFwiYW4gXCIgOiBcImEgXCIpLFxuICAgIGV4dCxcIiwgaXQncyBnZW5lcmFsbHkgYSBnb29kIGlkZWEgdG8gc2VydmUgdGhlIFwiLGV4dCxcIiBvblwiLFxuICAgIFwiIGEgbGFuZGluZyBwYWdlIHdpdGggbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgYXNzZXQuIFRoaXMgd2lsbCBhbHNvIFwiLFxuICAgIFwiZ2l2ZSB5b3UgbW9yZSBhbmFseXRpY3MgZGF0YSwgbGlrZSBzZXNzaW9uL3Zpc2l0IGR1cmF0aW9uIGFuZCBwcm9tb3RlIFwiLFxuICAgIFwiYnJvd3Npbmcgb3RoZXIgY29udGVudC5cIl0uam9pbihcIlwiKSxcbiAgICB0eXBlOiBFcnJvclR5cGUuQmVzdFByYWN0aWNlLFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkhpZ2gsXG4gICAgLy8gcmVzb3VyY2U6IFwiXCIsXG4gICAgY2FuQ29udGludWU6IHRydWUsXG4gICAgLy8gY3RhOiB7XG4gICAgLy8gICBsYWJlbDogXCJSZW1vdmUgcGFyYW1ldGVyXCIsXG4gICAgLy8gICBoYW5kbGVyOiBmdW5jdGlvbigpe1xuICAgIC8vICAgICBMaW5rT2JqZWN0Lm5ldy5zZWFyY2hQYXJhbXMuZGVsZXRlKFwidlwiKTtcbiAgICAvLyAgICAgTGlua09iamVjdC5pc0xpbmtDb21wbGV0ZSgpO1xuICAgIC8vICAgfVxuICAgIC8vIH0sXG4gICAgd2hlbjogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBwcm9jZWVkXG4gICAgICB9XG4gICAgfTtcbn1dKTtcbiIsIkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJoeXBlcmxpbmtcIikucmVnaXN0ZXIoXG4gIFwiaHlwZXJsaW5rLW5vLXNob3J0bGlua3NcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuXG5cbiAgcmV0dXJuIHtcbiAgICAvLyBpZDogXCJcIixcbiAgICB0aXRsZTogXCJEb24ndCB1c2Ugc2hvcnRsaW5rcyBvciB2YW5pdHkgVVJMcyBpbiBlbWFpbHNcIixcbiAgICBkZXNjcmlwdGlvbjpcIkFsd2F5cyB1c2UgdGhlIGxvbmcgbGluay4gQWRkaW5nIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXIgdG8gYSB2YW5pdHlcXFxuICAgICB1cmwgaW5zaWRlIGFuIGVtYWlsIHdpbGwgbm90IHRyYWNrIGFwcHJvcHJpYXRlbHkuXCIsXG4gICAgdHlwZTogKExpbmtPYmplY3QubmV3LmNvbnRhaW5zKFwib3B0dW0uY29cIikpID8gRXJyb3JUeXBlLkZpeCA6IEVycm9yVHlwZS5CZXN0UHJhY3RpY2UsXG4gICAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHkuSGlnaCxcbiAgICAvLyByZXNvdXJjZTogXCJcIixcbiAgICBjYW5Db250aW51ZTogKExpbmtPYmplY3QubmV3LmNvbnRhaW5zKFwib3B0dW0uY29cIikpID8gZmFsc2UgOiB0cnVlLFxuICAgIC8vIGN0YToge1xuICAgIC8vICAgbGFiZWw6IFwiUmVtb3ZlIHBhcmFtZXRlclwiLFxuICAgIC8vICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAvLyAgICAgTGlua09iamVjdC5uZXcuc2VhcmNoUGFyYW1zLmRlbGV0ZShcInZcIik7XG4gICAgLy8gICAgIExpbmtPYmplY3QuaXNMaW5rQ29tcGxldGUoKTtcbiAgICAvLyAgIH1cbiAgICAvLyB9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gLy5jb20/KFxcLlthLXpdezIsM30pP1xcLyhbYS16QS1aMC05XFwtXSspXFwvKihcXD8uKik/JC8udGVzdChMaW5rT2JqZWN0Lm5ldy51cmwudHJpbSgpKVxuICAgICAgJiYgIUxpbmtPYmplY3QubmV3LmNvbnRhaW5zKCdpbmZvLm9wdHVtJylcbiAgICAgICYmICEvKHR3aXR0ZXJ8bGlua2VkaW58ZmFjZWJvb2t8eW91dHViZSlcXC5jb20/Ly50ZXN0KExpbmtPYmplY3QubmV3LnVybClcbiAgICAgIH1cbiAgICB9O1xufV0pO1xuIiwiRU1MTWFrZXIuaW50ZWxsaWdlbmNlLm1vZHVsZShcImh5cGVybGlua1wiKS5yZWdpc3RlcihcbiAgXCJoeXBlcmxpbmstb2Z0cy1kb250LXVzZVwiLFtcbiAgXCJMaW5rT2JqZWN0XCIsZnVuY3Rpb24oTGlua09iamVjdCl7XG5cblxuXG5yZXR1cm4ge1xuICAvLyBpZDogXCJcIixcbiAgdGl0bGU6IFwiV2UgZG9uJ3QgbGluayB0byBPRlRzIGluIGVtYWlscyB3ZSBzZW5kLlwiLFxuICBkZXNjcmlwdGlvbjpcIllvdSBzaG91bGQgbm90IGJlIHNlbmRpbmcgT0ZUcyB0byBleHRlcm5hbCBjb250YWN0cy5cXFxuICAgIE9GVHMgb25seSB3b3JrIHdpdGggT3V0bG9vayBvbiBQQ3MsIGFuZCB0aGF0IGlzIGxlc3NcXFxuICAgICB0aGFuIGhhbGYgb2YgdGhlIHBvcHVsYXRpb24gb2YgZW1haWwgY2xpZW50cyB0aGVzZSBkYXlzLlwiLFxuICB0eXBlOiBFcnJvclR5cGUuQmVzdFByYWN0aWNlLFxuICBzZXZlcml0eTogRXJyb3JTZXZlcml0eS5IaWdoLFxuICAvLyByZXNvdXJjZTogXCJcIixcbiAgY2FuQ29udGludWU6IHRydWUsXG4gIC8vIGN0YToge1xuICAvLyAgIGxhYmVsOiBcIlJlbW92ZSBwYXJhbWV0ZXJcIixcbiAgLy8gICBoYW5kbGVyOiBmdW5jdGlvbigpe1xuICAvLyAgICAgTGlua09iamVjdC5uZXcuc2VhcmNoUGFyYW1zLmRlbGV0ZShcInZcIik7XG4gIC8vICAgICBMaW5rT2JqZWN0LmlzTGlua0NvbXBsZXRlKCk7XG4gIC8vICAgfVxuICAvLyB9LFxuICB3aGVuOiBmdW5jdGlvbigpe1xuICAgIGxldCBwcm9jZWVkID0gTGlua09iamVjdC5uZXcudXJsLmluZGV4T2YoXCIub2Z0XCIpPi0xO1xuICAgIHJldHVybiBwcm9jZWVkXG4gICAgfVxuICB9O1xufV0pO1xuIiwiRU1MTWFrZXIuaW50ZWxsaWdlbmNlLm1vZHVsZShcImh5cGVybGlua1wiKS5yZWdpc3RlcihcbiAgXCJoeXBlcmxpbmstb2Z0cy1pbXBsZW1lbnQtZnRhY1wiLFtcbiAgXCJMaW5rT2JqZWN0XCIsZnVuY3Rpb24oTGlua09iamVjdCl7XG5cblxucmV0dXJuIHtcbiAgLy8gaWQ6IFwiXCIsXG4gIHRpdGxlOiBcIkZvcndhcmQgdG8gYSBjb2xsZWFndWU/XCIsXG4gIGRlc2NyaXB0aW9uOlwiSWYgeW91IGFyZSB0cnlpbmcgdG8gZG8gYSBGb3J3YXJkIHRvIGEgQ29sbGVhZ3VlIChGVEFDKVxcXG4gICBmZWF0dXJlLCBmb3JnZXQgZG9pbmcgdGhhdCB3aXRoIGFuIE9GVC4gWW91IGNhbiBhY2hpZXZlXFxcbiAgICB0aGUgc2FtZSBlZmZlY3QgYnkgdXNpbmcgYSBtYWlsdG8gbGluay4gPGJyPjxicj48ZW0+Tk9URTpcXFxuICAgICBZb3UgY2FuIGxlYXZlIHRoZSBlbWFpbCBhZGRyZXNzIGZpZWxkIGJsYW5rIGZvciB0aGlzIG9uZS5cXFxuICAgICAgV2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIGxpbmsgdGhlIGVtYWlsIGZpZWxkIHdpbGwgYmUgZW1wdHksXFxcbiAgICAgICBzbyBoZS9zaGUgY2FuIGFkZCB0aGVpciBvd24gcmVjaXBpZW50cy48L2VtPlwiLFxuICB0eXBlOiBFcnJvclR5cGUuU3VnZ2VzdGlvbixcbiAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHkuTG93LFxuICAvLyByZXNvdXJjZTogXCJcIixcbiAgY2FuQ29udGludWU6IHRydWUsXG4gIGN0YToge1xuICAgIGxhYmVsOiBcIjxpIGNsYXNzPVxcXCJ3aXphcmQgaWNvblxcXCI+PC9pPiBUcnkgaXQ/XCIsXG4gICAgaGFuZGxlcjogZnVuY3Rpb24oKXtcbiAgICAgIExpbmtPYmplY3QubWFpbHRvLmVtYWlsID0gXCJcIjtcbiAgICAgIExpbmtPYmplY3QubWFpbHRvLnN1YmplY3QgPSBcIkkgd2FudGVkIHlvdSB0byBzZWUgdGhpc1wiO1xuICAgICAgTGlua09iamVjdC5tYWlsdG8uYm9keSA9IFwiQ2hlY2sgb3V0IHRoaXMgbGlua1xcblxcbmh0dHBzOi8vd3d3LnlvdXJsaW5rZ29lc2hlcmUuY29tXCI7XG4gICAgICBMaW5rT2JqZWN0Lm1haWx0by5jb21wb3NlRW1haWwoKTtcbiAgICAgIExpbmtPYmplY3QubWFpbHRvLmluaXRFbWFpbEVkaXRvcigpO1xuICAgICAgTGlua09iamVjdC5tYWlsdG8ub3BlbkVkaXRvcigpO1xuICAgICAgTGlua09iamVjdC5pc0xpbmtDb21wbGV0ZSgpO1xuICAgICAgd2luZG93LmdhKCdzZW5kJywgJ2V2ZW50JywgXCJTdWdnZXN0aW9uXCIsIFwiVXNlIEZUQUNcIiwgXCJVc2UgRlRBQ1wiKTtcbiAgICB9XG4gIH0sXG4gIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIExpbmtPYmplY3QubmV3LnVybC5pbmRleE9mKFwiLm9mdFwiKT4tMVxuICAgIH1cbiAgfTtcbn1dKTtcbiIsIkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJoeXBlcmxpbmtcIikucmVnaXN0ZXIoXG4gIFwiaHlwZXJsaW5rLXJlbGF0aXZlLXBhdGhcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuXG5cbiAgcmV0dXJuIHtcbiAgICAvLyBpZDogXCJcIixcbiAgICB0aXRsZTogXCJUaGlzIFVSTCBpcyBub3QgY29ycmVjdC5cIixcbiAgICBkZXNjcmlwdGlvbjpcIi9jb250ZW50L29wdHVtMy9lbi8gaXMgb25seSBmb3IgdXNlIGluIGF1dGhvciBpbiBBRU0sIG5vdCBvbiB0aGUgbGl2ZSBzaXRlLlwiLFxuICAgIHR5cGU6IEVycm9yVHlwZS5GaXgsXG4gICAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHkuSGlnaCxcbiAgICAvLyByZXNvdXJjZTogXCJcIixcbiAgICBjYW5Db250aW51ZTogZmFsc2UsXG4gICAgLy8gY3RhOiB7XG4gICAgLy8gICBsYWJlbDogXCJSZW1vdmUgcGFyYW1ldGVyXCIsXG4gICAgLy8gICBoYW5kbGVyOiBmdW5jdGlvbigpe1xuICAgIC8vICAgICBMaW5rT2JqZWN0Lm5ldy5zZWFyY2hQYXJhbXMuZGVsZXRlKFwidlwiKTtcbiAgICAvLyAgICAgTGlua09iamVjdC5pc0xpbmtDb21wbGV0ZSgpO1xuICAgIC8vICAgfVxuICAgIC8vIH0sXG4gICAgd2hlbjogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiAvaHR0cCguKilcXC9jb250ZW50XFwvb3B0dW0oLiopXFwuaHRtbC9naS50ZXN0KExpbmtPYmplY3QubmV3LnVybClcbiAgICAgIH1cbiAgICB9O1xufV0pO1xuIiwiRU1MTWFrZXIuaW50ZWxsaWdlbmNlLm1vZHVsZShcImh5cGVybGlua1wiKS5yZWdpc3RlcihcbiAgXCJoeXBlcmxpbmstc3R5bGUtbWF0dGVyc1wiLFtcbiAgXCJMaW5rT2JqZWN0XCIsZnVuY3Rpb24oTGlua09iamVjdCl7XG5cblxuICByZXR1cm4ge1xuICAgIC8vIGlkOiBcIlwiLFxuICAgIHRpdGxlOiBcIlN0eWxlIG1hdHRlcnNcIixcbiAgICBkZXNjcmlwdGlvbjpcIllvdSBzaG91bGQgbm90IHB1dCBwdW5jdHVhdGlvbiBpbnNpZGUgb2YgYSBsaW5rIHVubGVzcyBpdCBpcyBhIGJ1dHRvbiwgYW5kIGV2ZW4gdGhlbiBpdCdzIGEgbGl0dGxlIHdlaXJkLlwiLFxuICAgIHR5cGU6IEVycm9yVHlwZS5CZXN0UHJhY3RpY2UsXG4gICAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHkuTWVkaXVtLFxuICAgIC8vIHJlc291cmNlOiBcIlwiLFxuICAgIGNhbkNvbnRpbnVlOiB0cnVlLFxuICAgIGN0YToge1xuICAgICAgbGFiZWw6ICdNb3ZlIHRoZSBwdW5jdHVhdGlvbicsXG4gICAgICBoYW5kbGVyOiBmdW5jdGlvbigpe1xuICAgICAgICBMaW5rT2JqZWN0LmNvbnRleHQgPSBMaW5rT2JqZWN0LmNvbnRleHQucmVwbGFjZShHbG9iYWxWYXJzLmxpbmtFbmNhcHN1bGF0ZWRQdW5jdHVhdGlvbiwgXCI8L2E+JDFcIik7XG4gICAgICAgIExpbmtPYmplY3QuaXNMaW5rQ29tcGxldGUoKTtcbiAgICAgICAgd2luZG93LmdhKCdzZW5kJywgJ2V2ZW50JywgXCJTdWdnZXN0aW9uXCIsIFwiTW92ZSBwdW5jdHVhdGlvblwiKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gR2xvYmFsVmFycy5saW5rRW5jYXBzdWxhdGVkUHVuY3R1YXRpb24udGVzdChMaW5rT2JqZWN0LmNvbnRleHQpXG4gICAgICB9XG4gICAgfTtcbn1dKTtcbiIsIkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJoeXBlcmxpbmtcIikucmVnaXN0ZXIoXG4gIFwiaHlwZXJsaW5rLXRyYWNraW5nLWFkZC1hbGxcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuICAgIHZhciBhZmZlY3RlZCA9IGZhbHNlO1xuICAgIGlmKExpbmtPYmplY3QucmVxdWlyZXNUcmFja2luZ0NvZGUoKSAmJiBMaW5rT2JqZWN0Lmhhc1RyYWNraW5nQ29kZSgpKXtcbiAgICAgIExpbmtPYmplY3QuX3N1cGVyLm1hcExpbmtPYmplY3RzKGZ1bmN0aW9uKExPKXtcbiAgICAgICAgaWYoTE8ucmVxdWlyZXNUcmFja2luZ0NvZGUoKSAmJiAhTE8uaGFzVHJhY2tpbmdDb2RlKCkpe1xuICAgICAgICAgIGFmZmVjdGVkPXRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICByZXR1cm4ge1xuICAgIC8vIGlkOiBcIlwiLFxuICAgIHRpdGxlOiBcIlRyYWNraW5nIGNvZGUgLSBBcHBseSB0byBhbGwgbGlua3M/XCIsXG4gICAgZGVzY3JpcHRpb246XCJJIG5vdGljZWQgeW91IGFkZGVkIGEgdHJhY2tpbmcgY29kZSB0byB0aGlzIGxpbmssIGdyZWF0IGpvYi5cXFxuICAgICBJZiB5b3Ugd2FudCBJIGNhbiBhZGQgdGhlIHNhbWUgdHJhY2tpbmcgY29kZSB0byB0aGUgb3RoZXIgbGlua3MgaW4gdGhpcyBlbWFpbCBcXFxuICAgICB3aGljaCByZXF1aXJlIHRyYWNraW5nIGNvZGVzLlwiLFxuICAgIHR5cGU6IEVycm9yVHlwZS5TdWdnZXN0aW9uLFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkxvdyxcbiAgICAvLyByZXNvdXJjZTogXCJcIixcbiAgICBjYW5Db250aW51ZTogdHJ1ZSxcbiAgICBjdGE6IHtcbiAgICAgIGxhYmVsOiBcIjxpIGNsYXNzPVxcXCJ3aXphcmQgaWNvblxcXCI+PC9pPiBVcGRhdGUgYWxsIGxpbmtzXCIsXG4gICAgICBoYW5kbGVyOiBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgdHJhY2tpbmdDb2RlID0gXCJcIjtcbiAgICAgICAgTGlua09iamVjdC5uZXcuc2VhcmNoUGFyYW1zLmVudHJpZXMuZm9yRWFjaChmdW5jdGlvbihzdHJQYXJhbWV0ZXIpe1xuICAgICAgICAgIGlmKExpbmtPYmplY3QuaGFzVHJhY2tpbmdDb2RlKHN0clBhcmFtZXRlcikpe1xuICAgICAgICAgICAgdHJhY2tpbmdDb2RlID0gc3RyUGFyYW1ldGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIExpbmtPYmplY3QuX3N1cGVyLm1hcExpbmtPYmplY3RzKGZ1bmN0aW9uKExPKXtcbiAgICAgICAgICBpZihMTy5yZXF1aXJlc1RyYWNraW5nQ29kZSgpICYmICFMTy5oYXNUcmFja2luZ0NvZGUoKSl7XG4gICAgICAgICAgICBMTy5uZXcuc2VhcmNoUGFyYW1zLmFwcGVuZCh0cmFja2luZ0NvZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIExpbmtPYmplY3QuX3N1cGVyLm1hcExpbmtPYmplY3RzKGZ1bmN0aW9uKExPKXsgTE8uaXNMaW5rQ29tcGxldGUoKTsgfSk7XG4gICAgICAgIHdpbmRvdy5nYSgnc2VuZCcsICdldmVudCcsIFwiU3VnZ2VzdGlvblwiLCBcIkNhc2NhZGUgVHJhY2tpbmcgQ29kZVwiLCBcIkNhc2NhZGUgVHJhY2tpbmcgQ29kZVwiKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHdoZW46IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gYWZmZWN0ZWRcbiAgICAgIH1cbiAgICB9O1xufV0pO1xuIiwiRU1MTWFrZXIuaW50ZWxsaWdlbmNlLm1vZHVsZShcImh5cGVybGlua1wiKS5yZWdpc3RlcihcbiAgXCJoeXBlcmxpbmstdHJhY2tpbmctbm90LXJlcXVpcmVkXCIsW1xuICBcIkxpbmtPYmplY3RcIixmdW5jdGlvbihMaW5rT2JqZWN0KXtcblxuICB2YXIgcGhyYXNlID0gL15bYWVpb3VBRUlPVV0vZ2kudGVzdChleHQpID8gXCJhbiBcIiA6IFwiYSBcIiArIGV4dDtcblxuICB2YXIgbWF0Y2ggPSBMaW5rT2JqZWN0Lm5ldy51cmwubWF0Y2goR2xvYmFsVmFycy5leHREb2VzTm90cmVxdWlyZVRyYWNraW5nQ29kZSk7XG4gIGlmKG1hdGNoICYmIG1hdGNoLmxlbmd0aD4wKXtcbiAgICB2YXIgZXh0ID0gbWF0Y2hbMF0udG9VcHBlckNhc2UoKS5zdWJzdHIoMSxtYXRjaFswXS5sZW5ndGgpO1xuICAgIHZhciBwaHJhc2UgPSAvXlthZWlvdUFFSU9VXS9naS50ZXN0KGV4dCkgPyBcImFuIFwiIDogXCJhIFwiICsgZXh0O1xuICAgIH1cblxuICByZXR1cm4ge1xuICAgIC8vIGlkOiBcIlwiLFxuICAgIHRpdGxlOiBcIlVubmVjZXNzYXJ5IHRyYWNraW5nIGxpbmtcIixcbiAgICBkZXNjcmlwdGlvbjpgSXQgbG9va3MgbGlrZSB5b3UgYWRkZWQgYSB0cmFja2luZyBjb2RlIHRvICR7cGhyYXNlfSBmaWxlLlxuICAgIEluIGZhY3QsIHlvdSBjYW4gb25seSB0cmFjayB3ZWIgcGFnZXMgd2l0aCB0aGVzZSB0cmFja2luZyBjb2Rlcy5gLFxuICAgIHR5cGU6IEVycm9yVHlwZS5GaXgsXG4gICAgc2V2ZXJpdHk6IEVycm9yU2V2ZXJpdHkuSGlnaCxcbiAgICAvLyByZXNvdXJjZTogXCJcIixcbiAgICBjYW5Db250aW51ZTogZmFsc2UsXG4gICAgY3RhOiB7XG4gICAgICBsYWJlbDogXCI8aSBjbGFzcz1cXFwid2l6YXJkIGljb25cXFwiPjwvaT5GaXggaXQgbm93XCIsXG4gICAgICBoYW5kbGVyOiBmdW5jdGlvbigpe1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpPExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy5lbnRyaWVzLmxlbmd0aDtpKyspe1xuICAgICAgICAgIGlmKC9bYS16XXsxLDR9PSguKj86KXszLDl9L2lnLnRlc3QoTGlua09iamVjdC5uZXcuc2VhcmNoUGFyYW1zLmVudHJpZXNbaV0pKXtcbiAgICAgICAgICAgIExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy5kZWxldGVBdEluZGV4KGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3aW5kb3cuZ2EoJ3NlbmQnLCAnZXZlbnQnLCBcIlN1Z2dlc3Rpb25cIiwgXCJVbm5lY2Vzc2FyeSB0cmFja2luZyBjb2RlXCIsIFwiUmVtb3ZlIFRyYWNraW5nIENvZGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgTGlua09iamVjdC5uZXcuc2VhcmNoUGFyYW1zLnVwZGF0ZUVudHJpZXMoKTtcbiAgICAgICAgTGlua09iamVjdC5pc0xpbmtDb21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgd2hlbjogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBHbG9iYWxWYXJzLmV4dERvZXNOb3RyZXF1aXJlVHJhY2tpbmdDb2RlLnRlc3QoTGlua09iamVjdC5uZXcudXJsKSAmJiBMaW5rT2JqZWN0Lmhhc1RyYWNraW5nQ29kZSgpXG4gICAgICB9XG4gICAgfTtcbn1dKTtcbiIsIkVNTE1ha2VyLmludGVsbGlnZW5jZS5tb2R1bGUoXCJoeXBlcmxpbmtcIikucmVnaXN0ZXIoXG4gIFwiaHlwZXJsaW5rLXRyYWNraW5nLXJlcXVpcmVkXCIsW1xuICBcIkxpbmtPYmplY3RcIixmdW5jdGlvbihMaW5rT2JqZWN0KXtcblxuXG4gIHJldHVybiB7XG4gICAgaWQ6IFwib3B0dW0tYnVkdXJsLXRyYWNraW5nLWNvZGUtcmVxdWlyZWRcIixcbiAgICB0aXRsZTogXCJUaGlzIFVSTCBuZWVkcyBhIHRyYWNraW5nIGNvZGUuXCIsXG4gICAgZGVzY3JpcHRpb246IFwiQ3JlYXRlIGFuZCBhZGQgYSB0cmFja2luZyBjb2RlIHRvIG1ha2UgdGhpcyBtZXNzYWdlIGdvIGF3YXkuXCIsXG4gICAgdHlwZTogRXJyb3JUeXBlLkZpeCxcbiAgICBzZXZlcml0eTogRXJyb3JTZXZlcml0eS5IaWdoLFxuICAgIC8vIHJlc291cmNlOiBcIlwiLFxuICAgIGNhbkNvbnRpbnVlOiBmYWxzZSxcbiAgICBjdGE6IHtcbiAgICAgIGxhYmVsOiAnPGkgY2xhc3M9XCJ1bmxvY2sgYWx0ZXJuYXRlIGljb25cIj48L2k+IERvIG5vdCB0cmFjayBsaW5rJyxcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgIExpbmtPYmplY3Qub3ZlcnJpZGVUcmFja2luZ1JlcXVpcmVtZW50cygpO1xuICAgICAgICBMaW5rT2JqZWN0LmlzTGlua0NvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB3aGVuOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIChMaW5rT2JqZWN0LndoaXRlTGlzdGVkVXJsIT09TGlua09iamVjdC5uZXcudXJsKVxuICAgICAgJiYgTGlua09iamVjdC5uZWVkc1RyYWNraW5nQ29kZSgpXG4gICAgICAmJiFMaW5rT2JqZWN0Lm5ldy5jb250YWlucyhcIm9wdHVtLmNvL1wiKVxuICAgICAgfVxuICAgIH07XG59XSk7XG4iLCJFTUxNYWtlci5pbnRlbGxpZ2VuY2UubW9kdWxlKFwiaHlwZXJsaW5rXCIpLnJlZ2lzdGVyKFxuICBcImh5cGVybGluay10cmFja2luZy1zLWNvZGVcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuXG5cbiAgcmV0dXJuIHtcbiAgICAvLyBpZDogXCJcIixcbiAgICB0aXRsZTogXCJQb3NzaWJsZSBmb3JtIC0gVHJhY2tpbmcgTWFya2V0aW5nIENoYW5uZWxcIixcbiAgICBkZXNjcmlwdGlvbjogYFBhZ2VzIGluIHRoaXMgZGlyZWN0b3J5IHNvbWV0aW1lcyBoYXZlIGZvcm1zIG9uIHRoZW0uIEluIG9yZGVyIHRvIHRyYWNrIG1hcmtldGluZyBjaGFubmVsIGluXG4gICAgICB0aGUgZm9ybSBzdWJtaXNzaW9uIGRhdGEgd2UnbGwgbmVlZCB0byBhZGQgYW4gcy1jb2RlIHRvIHRoZSBlbmQgb2YgdGhpcyBVUkwuIEx1Y2t5IGZvciB5b3UsIEknbSBwcm9ncmFtbWVkIHRvIGF1dG9tYXRpY2FsbHkgYWRkIG9uZSBpZiB0aGVyZSBpc24ndCBhbnkuIEJ1dCBoZXJlIGlzIHlvdXIgY2hhbmNlIHRvIGFkZCB5b3VyIG93biBpZiB0aGUgdmFsdWUgaXMgYW55dGhpbmcgb3RoZXIgdGhhbiA8Y29kZT5zPWVtYWlsPC9jb2RlPmAsXG4gICAgdHlwZTogRXJyb3JUeXBlLlN1Z2dlc3Rpb24sXG4gICAgc3VnZ2VzdGlvbjogXCJBREQgcz1lbWFpbFwiLFxuICAgIHNldmVyaXR5OiBFcnJvclNldmVyaXR5LkxvdyxcbiAgICAvLyByZXNvdXJjZTogXCJcIixcbiAgICAvLyBjYW5Db250aW51ZTogdHJ1ZSxcbiAgICBjdGE6IHtcbiAgICAgIGxhYmVsOiBcIjxpIGNsYXNzPVxcXCJ3aXphcmQgaWNvblxcXCI+PC9pPkFkZCBTLUNvZGVcIixcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgIExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJzPWVtYWlsXCIpO1xuICAgICAgICBMaW5rT2JqZWN0LmlzTGlua0NvbXBsZXRlKCk7XG4gICAgICAgIHdpbmRvdy5nYSgnc2VuZCcsICdldmVudCcsIFwiU3VnZ2VzdGlvblwiLCBcIkFkZCBzLWNvZGVcIiwgXCJzPWVtYWlsXCIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgd2hlbjogZnVuY3Rpb24oKXtcblxuICAgICAgbGV0IHJlcXVpcmVzUyA9IExpbmtPYmplY3QucmVxdWlyZXNTQ29kZSgpO1xuICAgICAgbGV0IGhhc1MgPSBMaW5rT2JqZWN0Lm5ldy5zZWFyY2hQYXJhbXMuaGFzKFwic1wiKTtcbiAgICAgIGxldCBwcm9jZWVkID0gcmVxdWlyZXNTICYmICFoYXNTO1xuXG4gICAgICByZXR1cm4gcHJvY2VlZCAmJiAhaGFzUztcbiAgICAgIH1cbiAgICB9O1xufV0pO1xuIiwiRU1MTWFrZXIuaW50ZWxsaWdlbmNlLm1vZHVsZShcImh5cGVybGlua1wiKS5yZWdpc3RlcihcbiAgXCJoeXBlcmxpbmstdi1lcXVhbHNcIixbXG4gIFwiTGlua09iamVjdFwiLGZ1bmN0aW9uKExpbmtPYmplY3Qpe1xuXG5cbiAgcmV0dXJuIHtcbiAgICAvLyBpZDogXCJcIixcbiAgICB0aXRsZTogXCJWPSBjYW5ub3QgYmUgdXNlZCBpbiBlbWFpbHMuXCIsXG4gICAgZGVzY3JpcHRpb246XCJUaGlzIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXIgaXMgcmVzZXJ2ZWQgZm9yIHZhbml0eSB1cmxzLCBhbmQgc2hvdWxkIG5ldmVyIGJlIHVzZWQgaW4gYW4gZW1haWwuXCIsXG4gICAgdHlwZTogRXJyb3JUeXBlLkZpeCxcbiAgICBzZXZlcml0eTogRXJyb3JTZXZlcml0eS5IaWdoLFxuICAgIC8vIHJlc291cmNlOiBcIlwiLFxuICAgIGNhbkNvbnRpbnVlOiBmYWxzZSxcbiAgICBjdGE6IHtcbiAgICAgIGxhYmVsOiBcIlJlbW92ZSBwYXJhbWV0ZXJcIixcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgIExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy5kZWxldGUoXCJ2XCIpO1xuICAgICAgICBMaW5rT2JqZWN0LmlzTGlua0NvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB3aGVuOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIExpbmtPYmplY3QubmV3LnNlYXJjaFBhcmFtcy5oYXMoXCJ2XCIpXG4gICAgICB9XG4gICAgfTtcbn1dKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
